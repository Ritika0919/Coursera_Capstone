# Battle of the Neighborhoods: Examining the Diversity in Cuisines from the East to the West of Toronto

##     1. Introduction:

##### _According to the article in https://theculturetrip.com/north-america/usa/california/articles/the-10-most-multicultural-cities-in-the-world/, Toronto is one of the most international cities in the world. With millions of people migrating to Canada annually, it's cultural diversity has been enriched over the years, as have the food habits of the country._ 

##### _For my Capstone Project, I have chosen to explore the variance in cuisines of two different boroughs of Toronto, to truly fathom the impact of immigration on Canada's gastronomic diversity._

##### _As we will see later in the project, the Folium map of the Toronto neighborhoods shows us that, the neighborhoods are spread out in a roughly rectangular shape. There is a greater probability of variety in cuisines of the neighborhoods in the East-West direction there is in the North-South direction. Therefore, I have chosen to explore  Scarborough (a borough from the East of Toronto) and Etobicoke (a borough from the West of Toronto), to understand the true diversity in cuisines of Toronto as a result of immigration._

#### 1.1. Assumptions:


#####  _This project assumes a direct proportionality between the number of restaurants of a particular cuisine and the popularity of that cuisine._
##### _This project aims to find standalone restaurants of different cuisines. Mall food courts (containing a mix of fast food joints and restaurants) and stand alone fast food joints WILL BE EXEMPTED from the final result of this project, since they do not promote any one cuisine in particular._

## 2. Data Collection: 

##### _This project gathers the Toronto neighborhood data from https://en.wikipedia.org/wiki/List_of_postal_codes_of_Canada:_M. This is a comprehensive database of all the Postal Codes of all the neighbourhoods and subsequent boroughs, in Toronto. For the most accurate results, neighborhoods with unassigned boroughs will retain their neighhborhood name. Unassigned boroughs will also be eliminated. Neighborhoods with the same postal codes will be grouped, for the ease of mapping. Mapping the neighborhoods will help me shortlist the boroughs I want to evaluate._

##### _The Postal Codes will also help me find the coordinates of each neighborhood in the Geospatial_Coordinates file. The  data about is available in http://cocl.us/Geospatial_data. The neighborhood coordinates will help me focus my Foursquare search queries to the venues of the boroughs I want to analyze. This will also ensure the accuracy of results._

##### _Using Foursquare API, I will be able to retrieve the features of restaurants (in this case category and number) in each borough. Knowing about the different cuisines served in the borough, will help me evaluate its gastronomic diversity._

## 3. Methodology:

##### _1. Import libraries necessary to execute this project._
##### _2. Create the Toronto dataframe containing PostalCode, Borough, Neighborhood, latitude and longitude information._
##### _3. Map the neighborhoods in Toronto._
##### _4. Plot a bar graph the number of neighborhoods in each borough._
##### _5. Shortlist two boroughs with the same or similar number of neighborhoods from East and West Toronto respectively. Create datasets for each borough._
##### _6. Use Foursquare API to search for venues._
##### _7. Analyze each borough for its restaurants and their features._
##### _8. Plot a bar graph for the most popular restaurants from each borough. Use Folium to map the locations._


### 3.1. Importing libraries:


```python
# to transform raw data into numpy arrays
import numpy as np 

#to create a Pandas dataframe from the raw data
import pandas as pd 
pd.set_option('display.max_columns',None) #displays all columns
pd.set_option('display.max_rows',None) #displays all rows

#to get the latitude and longitude data for each city
!conda install -c conda-forge geopy --yes
from geopy.geocoders import Nominatim

#to make it easier to share data between code and URL easier
import requests 
from pandas.io.json import json_normalize

#to retrieve data from URL 
!pip install beautifulsoup4
from bs4 import BeautifulSoup

from sklearn.cluster import KMeans

#import data visualization libraries
import matplotlib.cm as cm
import matplotlib.colors as colors
import matplotlib as mpl
import matplotlib.pyplot as plt


!conda install -c conda-forge folium=0.5.0 --yes
import folium

print("All the necessary libraries have been imported")
```

    Collecting package metadata (current_repodata.json): done
    Solving environment: done
    
    ## Package Plan ##
    
      environment location: /home/jupyterlab/conda/envs/python
    
      added / updated specs:
        - geopy
    
    
    The following packages will be downloaded:
    
        package                    |            build
        ---------------------------|-----------------
        geographiclib-1.50         |             py_0          34 KB  conda-forge
        geopy-1.22.0               |     pyh9f0ad1d_0          63 KB  conda-forge
        ------------------------------------------------------------
                                               Total:          97 KB
    
    The following NEW packages will be INSTALLED:
    
      geographiclib      conda-forge/noarch::geographiclib-1.50-py_0
      geopy              conda-forge/noarch::geopy-1.22.0-pyh9f0ad1d_0
    
    
    
    Downloading and Extracting Packages
    geopy-1.22.0         | 63 KB     | ##################################### | 100% 
    geographiclib-1.50   | 34 KB     | ##################################### | 100% 
    Preparing transaction: done
    Verifying transaction: done
    Executing transaction: done
    Collecting beautifulsoup4
    [?25l  Downloading https://files.pythonhosted.org/packages/66/25/ff030e2437265616a1e9b25ccc864e0371a0bc3adb7c5a404fd661c6f4f6/beautifulsoup4-4.9.1-py3-none-any.whl (115kB)
    [K     |â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 122kB 6.6MB/s eta 0:00:01
    [?25hCollecting soupsieve>1.2 (from beautifulsoup4)
      Downloading https://files.pythonhosted.org/packages/6f/8f/457f4a5390eeae1cc3aeab89deb7724c965be841ffca6cfca9197482e470/soupsieve-2.0.1-py3-none-any.whl
    Installing collected packages: soupsieve, beautifulsoup4
    Successfully installed beautifulsoup4-4.9.1 soupsieve-2.0.1
    Collecting package metadata (current_repodata.json): done
    Solving environment: failed with initial frozen solve. Retrying with flexible solve.
    Collecting package metadata (repodata.json): done
    Solving environment: done
    
    ## Package Plan ##
    
      environment location: /home/jupyterlab/conda/envs/python
    
      added / updated specs:
        - folium=0.5.0
    
    
    The following packages will be downloaded:
    
        package                    |            build
        ---------------------------|-----------------
        altair-4.1.0               |             py_1         614 KB  conda-forge
        branca-0.4.1               |             py_0          26 KB  conda-forge
        brotlipy-0.7.0             |py36h8c4c3a4_1000         346 KB  conda-forge
        chardet-3.0.4              |py36h9f0ad1d_1006         188 KB  conda-forge
        cryptography-2.9.2         |   py36h45558ae_0         613 KB  conda-forge
        folium-0.5.0               |             py_0          45 KB  conda-forge
        pandas-1.0.4               |   py36h830a2c2_0        10.1 MB  conda-forge
        pysocks-1.7.1              |   py36h9f0ad1d_1          27 KB  conda-forge
        toolz-0.10.0               |             py_0          46 KB  conda-forge
        vincent-0.4.4              |             py_1          28 KB  conda-forge
        ------------------------------------------------------------
                                               Total:        12.0 MB
    
    The following NEW packages will be INSTALLED:
    
      altair             conda-forge/noarch::altair-4.1.0-py_1
      attrs              conda-forge/noarch::attrs-19.3.0-py_0
      branca             conda-forge/noarch::branca-0.4.1-py_0
      brotlipy           conda-forge/linux-64::brotlipy-0.7.0-py36h8c4c3a4_1000
      chardet            conda-forge/linux-64::chardet-3.0.4-py36h9f0ad1d_1006
      cryptography       conda-forge/linux-64::cryptography-2.9.2-py36h45558ae_0
      entrypoints        conda-forge/linux-64::entrypoints-0.3-py36h9f0ad1d_1001
      folium             conda-forge/noarch::folium-0.5.0-py_0
      idna               conda-forge/noarch::idna-2.9-py_1
      importlib_metadata conda-forge/noarch::importlib_metadata-1.6.0-0
      jinja2             conda-forge/noarch::jinja2-2.11.2-pyh9f0ad1d_0
      jsonschema         conda-forge/linux-64::jsonschema-3.2.0-py36h9f0ad1d_1
      markupsafe         conda-forge/linux-64::markupsafe-1.1.1-py36h8c4c3a4_1
      pandas             conda-forge/linux-64::pandas-1.0.4-py36h830a2c2_0
      pyopenssl          conda-forge/noarch::pyopenssl-19.1.0-py_1
      pyrsistent         conda-forge/linux-64::pyrsistent-0.16.0-py36h8c4c3a4_0
      pysocks            conda-forge/linux-64::pysocks-1.7.1-py36h9f0ad1d_1
      pytz               conda-forge/noarch::pytz-2020.1-pyh9f0ad1d_0
      requests           conda-forge/noarch::requests-2.23.0-pyh8c360ce_2
      toolz              conda-forge/noarch::toolz-0.10.0-py_0
      urllib3            conda-forge/noarch::urllib3-1.25.9-py_0
      vincent            conda-forge/noarch::vincent-0.4.4-py_1
    
    
    
    Downloading and Extracting Packages
    pysocks-1.7.1        | 27 KB     | ##################################### | 100% 
    toolz-0.10.0         | 46 KB     | ##################################### | 100% 
    chardet-3.0.4        | 188 KB    | ##################################### | 100% 
    pandas-1.0.4         | 10.1 MB   | ##################################### | 100% 
    folium-0.5.0         | 45 KB     | ##################################### | 100% 
    branca-0.4.1         | 26 KB     | ##################################### | 100% 
    cryptography-2.9.2   | 613 KB    | ##################################### | 100% 
    brotlipy-0.7.0       | 346 KB    | ##################################### | 100% 
    altair-4.1.0         | 614 KB    | ##################################### | 100% 
    vincent-0.4.4        | 28 KB     | ##################################### | 100% 
    Preparing transaction: done
    Verifying transaction: done
    Executing transaction: done
    All the necessary libraries have been imported


### 3.2.  Creating the Toronto dataframe:


```python
#extract table from Wikipedia page
source = requests.get('https://en.wikipedia.org/wiki/List_of_postal_codes_of_Canada:_M').text
soup = BeautifulSoup(source)
table  = soup.find('table',{'class':'wikitable sortable'})

#format pandas dataframe
col_names = ['PostalCode','Borough','Neighborhood']
df = pd.DataFrame(columns = col_names)

```


```python
#Collecting all the data for Postal Codes, Boroughs and Neighborhoods

for a in table.find_all('tr'):
    row = []
    for b in a.find_all('td'):
        row.append(b.text.strip())
    if len(row)==3:
        df.loc[len(df)] = row  
```


```python
#eliminate Boroughs that are Not Assigned
df = df[df['Borough'] != 'Not assigned']

#Display neighborhoods with same post codes in one row
df = df.groupby(['PostalCode','Borough'],sort = False).agg(', '.join)
df.reset_index(inplace = True)

#Neighborhood = Borough, for those boroughs without an assigned Neighborhood
df.loc[df['Neighborhood'] == 'Not assigned','Neighborhood'] = df['Borough']
```


```python
#read in the geospatial coordinates
df_geo = pd.read_csv('Geospatial_Coordinates.csv')
df_geo.rename(columns = {'Postal Code': 'PostalCode'}, inplace = True)
df_geo = pd.merge(df,df_geo,on = 'PostalCode')
df_geo.head()
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>PostalCode</th>
      <th>Borough</th>
      <th>Neighborhood</th>
      <th>Latitude</th>
      <th>Longitude</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>M3A</td>
      <td>North York</td>
      <td>Parkwoods</td>
      <td>43.753259</td>
      <td>-79.329656</td>
    </tr>
    <tr>
      <th>1</th>
      <td>M4A</td>
      <td>North York</td>
      <td>Victoria Village</td>
      <td>43.725882</td>
      <td>-79.315572</td>
    </tr>
    <tr>
      <th>2</th>
      <td>M5A</td>
      <td>Downtown Toronto</td>
      <td>Regent Park, Harbourfront</td>
      <td>43.654260</td>
      <td>-79.360636</td>
    </tr>
    <tr>
      <th>3</th>
      <td>M6A</td>
      <td>North York</td>
      <td>Lawrence Manor, Lawrence Heights</td>
      <td>43.718518</td>
      <td>-79.464763</td>
    </tr>
    <tr>
      <th>4</th>
      <td>M7A</td>
      <td>Downtown Toronto</td>
      <td>Queen's Park, Ontario Provincial Government</td>
      <td>43.662301</td>
      <td>-79.389494</td>
    </tr>
  </tbody>
</table>
</div>




```python
print('The dataframe has {} boroughs and {} neighborhoods.'.format(
        len(df_geo['Borough'].unique()),
        df_geo.shape[0]
    )
)
```

    The dataframe has 10 boroughs and 103 neighborhoods.


### 3.3. Mapping out the neighborhoods in Toronto:


```python
#get the geospatial data for Toronto
address = 'Toronto, ON'

geolocator = Nominatim(user_agent="foursquare_agent")
location = geolocator.geocode(address)
latitude = location.latitude
longitude = location.longitude
print('The geograpical coordinate of New York City are {}, {}.'.format(latitude, longitude))
```

    The geograpical coordinate of New York City are 43.6534817, -79.3839347.



```python
# create map of New York using latitude and longitude values
map_toronto = folium.Map(location=[43.6534817, -79.3839347], zoom_start=10)

# add markers to map
for lat, lng, borough, neighborhood in zip(df_geo['Latitude'], df_geo['Longitude'], df_geo['Borough'], df_geo['Neighborhood']):
    label = '{}, {}'.format(neighborhood, borough)
    label = folium.Popup(label, parse_html=True)
    folium.CircleMarker(
        [lat, lng],
        radius=5,
        popup=label,
        color='blue',
        fill=True,
        fill_color='#3186cc',
        fill_opacity=0.7,
        parse_html=False).add_to(map_toronto)  
    
map_toronto
```




<div style="width:100%;"><div style="position:relative;width:100%;height:0;padding-bottom:60%;"><span style="color:#565656">Make this Notebook Trusted to load map: File -> Trust Notebook</span><iframe src="about:blank" style="position:absolute;width:100%;height:100%;left:0;top:0;border:none !important;" data-html=PCFET0NUWVBFIGh0bWw+CjxoZWFkPiAgICAKICAgIDxtZXRhIGh0dHAtZXF1aXY9ImNvbnRlbnQtdHlwZSIgY29udGVudD0idGV4dC9odG1sOyBjaGFyc2V0PVVURi04IiAvPgogICAgPHNjcmlwdD5MX1BSRUZFUl9DQU5WQVMgPSBmYWxzZTsgTF9OT19UT1VDSCA9IGZhbHNlOyBMX0RJU0FCTEVfM0QgPSBmYWxzZTs8L3NjcmlwdD4KICAgIDxzY3JpcHQgc3JjPSJodHRwczovL2Nkbi5qc2RlbGl2ci5uZXQvbnBtL2xlYWZsZXRAMS4yLjAvZGlzdC9sZWFmbGV0LmpzIj48L3NjcmlwdD4KICAgIDxzY3JpcHQgc3JjPSJodHRwczovL2FqYXguZ29vZ2xlYXBpcy5jb20vYWpheC9saWJzL2pxdWVyeS8xLjExLjEvanF1ZXJ5Lm1pbi5qcyI+PC9zY3JpcHQ+CiAgICA8c2NyaXB0IHNyYz0iaHR0cHM6Ly9tYXhjZG4uYm9vdHN0cmFwY2RuLmNvbS9ib290c3RyYXAvMy4yLjAvanMvYm9vdHN0cmFwLm1pbi5qcyI+PC9zY3JpcHQ+CiAgICA8c2NyaXB0IHNyYz0iaHR0cHM6Ly9jZG5qcy5jbG91ZGZsYXJlLmNvbS9hamF4L2xpYnMvTGVhZmxldC5hd2Vzb21lLW1hcmtlcnMvMi4wLjIvbGVhZmxldC5hd2Vzb21lLW1hcmtlcnMuanMiPjwvc2NyaXB0PgogICAgPGxpbmsgcmVsPSJzdHlsZXNoZWV0IiBocmVmPSJodHRwczovL2Nkbi5qc2RlbGl2ci5uZXQvbnBtL2xlYWZsZXRAMS4yLjAvZGlzdC9sZWFmbGV0LmNzcyIvPgogICAgPGxpbmsgcmVsPSJzdHlsZXNoZWV0IiBocmVmPSJodHRwczovL21heGNkbi5ib290c3RyYXBjZG4uY29tL2Jvb3RzdHJhcC8zLjIuMC9jc3MvYm9vdHN0cmFwLm1pbi5jc3MiLz4KICAgIDxsaW5rIHJlbD0ic3R5bGVzaGVldCIgaHJlZj0iaHR0cHM6Ly9tYXhjZG4uYm9vdHN0cmFwY2RuLmNvbS9ib290c3RyYXAvMy4yLjAvY3NzL2Jvb3RzdHJhcC10aGVtZS5taW4uY3NzIi8+CiAgICA8bGluayByZWw9InN0eWxlc2hlZXQiIGhyZWY9Imh0dHBzOi8vbWF4Y2RuLmJvb3RzdHJhcGNkbi5jb20vZm9udC1hd2Vzb21lLzQuNi4zL2Nzcy9mb250LWF3ZXNvbWUubWluLmNzcyIvPgogICAgPGxpbmsgcmVsPSJzdHlsZXNoZWV0IiBocmVmPSJodHRwczovL2NkbmpzLmNsb3VkZmxhcmUuY29tL2FqYXgvbGlicy9MZWFmbGV0LmF3ZXNvbWUtbWFya2Vycy8yLjAuMi9sZWFmbGV0LmF3ZXNvbWUtbWFya2Vycy5jc3MiLz4KICAgIDxsaW5rIHJlbD0ic3R5bGVzaGVldCIgaHJlZj0iaHR0cHM6Ly9yYXdnaXQuY29tL3B5dGhvbi12aXN1YWxpemF0aW9uL2ZvbGl1bS9tYXN0ZXIvZm9saXVtL3RlbXBsYXRlcy9sZWFmbGV0LmF3ZXNvbWUucm90YXRlLmNzcyIvPgogICAgPHN0eWxlPmh0bWwsIGJvZHkge3dpZHRoOiAxMDAlO2hlaWdodDogMTAwJTttYXJnaW46IDA7cGFkZGluZzogMDt9PC9zdHlsZT4KICAgIDxzdHlsZT4jbWFwIHtwb3NpdGlvbjphYnNvbHV0ZTt0b3A6MDtib3R0b206MDtyaWdodDowO2xlZnQ6MDt9PC9zdHlsZT4KICAgIAogICAgICAgICAgICA8c3R5bGU+ICNtYXBfNDdmZTc3MDNlMWU1NGIwNGFhYmMyMzM4NjQ1M2VjNGIgewogICAgICAgICAgICAgICAgcG9zaXRpb24gOiByZWxhdGl2ZTsKICAgICAgICAgICAgICAgIHdpZHRoIDogMTAwLjAlOwogICAgICAgICAgICAgICAgaGVpZ2h0OiAxMDAuMCU7CiAgICAgICAgICAgICAgICBsZWZ0OiAwLjAlOwogICAgICAgICAgICAgICAgdG9wOiAwLjAlOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICA8L3N0eWxlPgogICAgICAgIAo8L2hlYWQ+Cjxib2R5PiAgICAKICAgIAogICAgICAgICAgICA8ZGl2IGNsYXNzPSJmb2xpdW0tbWFwIiBpZD0ibWFwXzQ3ZmU3NzAzZTFlNTRiMDRhYWJjMjMzODY0NTNlYzRiIiA+PC9kaXY+CiAgICAgICAgCjwvYm9keT4KPHNjcmlwdD4gICAgCiAgICAKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGJvdW5kcyA9IG51bGw7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgdmFyIG1hcF80N2ZlNzcwM2UxZTU0YjA0YWFiYzIzMzg2NDUzZWM0YiA9IEwubWFwKAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ21hcF80N2ZlNzcwM2UxZTU0YjA0YWFiYzIzMzg2NDUzZWM0YicsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y2VudGVyOiBbNDMuNjUzNDgxNywtNzkuMzgzOTM0N10sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB6b29tOiAxMCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1heEJvdW5kczogYm91bmRzLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGF5ZXJzOiBbXSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdvcmxkQ29weUp1bXA6IGZhbHNlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3JzOiBMLkNSUy5FUFNHMzg1NwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHRpbGVfbGF5ZXJfOGVhNDRkODkyZDI3NDIxY2IzYjc0NmJjZDdkMmVhNTMgPSBMLnRpbGVMYXllcigKICAgICAgICAgICAgICAgICdodHRwczovL3tzfS50aWxlLm9wZW5zdHJlZXRtYXAub3JnL3t6fS97eH0ve3l9LnBuZycsCiAgICAgICAgICAgICAgICB7CiAgImF0dHJpYnV0aW9uIjogbnVsbCwKICAiZGV0ZWN0UmV0aW5hIjogZmFsc2UsCiAgIm1heFpvb20iOiAxOCwKICAibWluWm9vbSI6IDEsCiAgIm5vV3JhcCI6IGZhbHNlLAogICJzdWJkb21haW5zIjogImFiYyIKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfNDdmZTc3MDNlMWU1NGIwNGFhYmMyMzM4NjQ1M2VjNGIpOwogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzMxNGRmZjE3MTdmNDQzZTdhZDQ1ODgxYjhjZTEyZDI3ID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNzUzMjU4NiwtNzkuMzI5NjU2NV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF80N2ZlNzcwM2UxZTU0YjA0YWFiYzIzMzg2NDUzZWM0Yik7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF9mNmMxYzYzOWFiYjk0NjI5OWRlN2Q3YmE0MjYxNzU3ZSA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF80MzM0NTA4OWZmZWM0NTQyYjY5NjFlYTE5ZTRhOGRhZCA9ICQoJzxkaXYgaWQ9Imh0bWxfNDMzNDUwODlmZmVjNDU0MmI2OTYxZWExOWU0YThkYWQiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPlBhcmt3b29kcywgTm9ydGggWW9yazwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfZjZjMWM2MzlhYmI5NDYyOTlkZTdkN2JhNDI2MTc1N2Uuc2V0Q29udGVudChodG1sXzQzMzQ1MDg5ZmZlYzQ1NDJiNjk2MWVhMTllNGE4ZGFkKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzMxNGRmZjE3MTdmNDQzZTdhZDQ1ODgxYjhjZTEyZDI3LmJpbmRQb3B1cChwb3B1cF9mNmMxYzYzOWFiYjk0NjI5OWRlN2Q3YmE0MjYxNzU3ZSk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl9iMmQ5MzViNDJkYTg0M2E1YjQwMDc3NDFmNjZmYmM5MyA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjcyNTg4MjI5OTk5OTk5NSwtNzkuMzE1NTcxNTk5OTk5OThdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfNDdmZTc3MDNlMWU1NGIwNGFhYmMyMzM4NjQ1M2VjNGIpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfMGI1NDQ3MDlhNDdkNDY0M2JiMjNmOWI5YzhhNTIxODMgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfM2JiMDc4ZGQ4NGUwNGU4OWE4YzJhMzcwN2M1YjI3NzcgPSAkKCc8ZGl2IGlkPSJodG1sXzNiYjA3OGRkODRlMDRlODlhOGMyYTM3MDdjNWIyNzc3IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5WaWN0b3JpYSBWaWxsYWdlLCBOb3J0aCBZb3JrPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF8wYjU0NDcwOWE0N2Q0NjQzYmIyM2Y5YjljOGE1MjE4My5zZXRDb250ZW50KGh0bWxfM2JiMDc4ZGQ4NGUwNGU4OWE4YzJhMzcwN2M1YjI3NzcpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfYjJkOTM1YjQyZGE4NDNhNWI0MDA3NzQxZjY2ZmJjOTMuYmluZFBvcHVwKHBvcHVwXzBiNTQ0NzA5YTQ3ZDQ2NDNiYjIzZjliOWM4YTUyMTgzKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzgyZGY2NGUwZjk0MjRiM2ZhYWIwODhkOTE3NGZmMGI3ID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNjU0MjU5OSwtNzkuMzYwNjM1OV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF80N2ZlNzcwM2UxZTU0YjA0YWFiYzIzMzg2NDUzZWM0Yik7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF84NDQ2ZjczZTdlZGY0NmFhYmFlYzFkOWNmOTAzMjNjYiA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF8xMmE5NGYwYTliNTk0YTNkYjVjOWViNDI3ZmMxZjJkOCA9ICQoJzxkaXYgaWQ9Imh0bWxfMTJhOTRmMGE5YjU5NGEzZGI1YzllYjQyN2ZjMWYyZDgiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPlJlZ2VudCBQYXJrLCBIYXJib3VyZnJvbnQsIERvd250b3duIFRvcm9udG88L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzg0NDZmNzNlN2VkZjQ2YWFiYWVjMWQ5Y2Y5MDMyM2NiLnNldENvbnRlbnQoaHRtbF8xMmE5NGYwYTliNTk0YTNkYjVjOWViNDI3ZmMxZjJkOCk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl84MmRmNjRlMGY5NDI0YjNmYWFiMDg4ZDkxNzRmZjBiNy5iaW5kUG9wdXAocG9wdXBfODQ0NmY3M2U3ZWRmNDZhYWJhZWMxZDljZjkwMzIzY2IpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfNGRkNTQ5ZTBjZjBjNGEwYmJjNzdjMTRlZTU5OTIxZWQgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My43MTg1MTc5OTk5OTk5OTYsLTc5LjQ2NDc2MzI5OTk5OTk5XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwXzQ3ZmU3NzAzZTFlNTRiMDRhYWJjMjMzODY0NTNlYzRiKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwX2E1NWVmYjFjMGU1NzRkOTc5NThkNTlhYzllYTJjMzEzID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzQzZWQ2YjgzZWViNTQyZDliMjhlZGI2NDBlMDZhMTRkID0gJCgnPGRpdiBpZD0iaHRtbF80M2VkNmI4M2VlYjU0MmQ5YjI4ZWRiNjQwZTA2YTE0ZCIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+TGF3cmVuY2UgTWFub3IsIExhd3JlbmNlIEhlaWdodHMsIE5vcnRoIFlvcms8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2E1NWVmYjFjMGU1NzRkOTc5NThkNTlhYzllYTJjMzEzLnNldENvbnRlbnQoaHRtbF80M2VkNmI4M2VlYjU0MmQ5YjI4ZWRiNjQwZTA2YTE0ZCk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl80ZGQ1NDllMGNmMGM0YTBiYmM3N2MxNGVlNTk5MjFlZC5iaW5kUG9wdXAocG9wdXBfYTU1ZWZiMWMwZTU3NGQ5Nzk1OGQ1OWFjOWVhMmMzMTMpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfNGJkZGVlMjJjN2E1NDcxZTgzNDlhNTkwYTZjOWJmNjYgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My42NjIzMDE1LC03OS4zODk0OTM4XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwXzQ3ZmU3NzAzZTFlNTRiMDRhYWJjMjMzODY0NTNlYzRiKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzU3NTkwMDExYjVlYjRjZGNhNzA2ZjczMjVmMzUzNmQ1ID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sX2I4ZGQ0ZjMxY2IyZTQ1ZDg4MDFhZmY5M2YyYjA3ZGE5ID0gJCgnPGRpdiBpZD0iaHRtbF9iOGRkNGYzMWNiMmU0NWQ4ODAxYWZmOTNmMmIwN2RhOSIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+UXVlZW4mIzM5O3MgUGFyaywgT250YXJpbyBQcm92aW5jaWFsIEdvdmVybm1lbnQsIERvd250b3duIFRvcm9udG88L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzU3NTkwMDExYjVlYjRjZGNhNzA2ZjczMjVmMzUzNmQ1LnNldENvbnRlbnQoaHRtbF9iOGRkNGYzMWNiMmU0NWQ4ODAxYWZmOTNmMmIwN2RhOSk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl80YmRkZWUyMmM3YTU0NzFlODM0OWE1OTBhNmM5YmY2Ni5iaW5kUG9wdXAocG9wdXBfNTc1OTAwMTFiNWViNGNkY2E3MDZmNzMyNWYzNTM2ZDUpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfODljMGFhZWZhMGNhNDBmMDk5ODY4NWVkOTlhZTk1ZmYgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My42Njc4NTU2LC03OS41MzIyNDI0MDAwMDAwMl0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF80N2ZlNzcwM2UxZTU0YjA0YWFiYzIzMzg2NDUzZWM0Yik7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF80MzM5MzYwNjY2YTM0ZDUwOTk0NmZiYjRjYTk2NmQ0MyA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9iNzYwZGI1YjdhNGI0NzNiODdhZjY0M2ZiZThiMDJlYiA9ICQoJzxkaXYgaWQ9Imh0bWxfYjc2MGRiNWI3YTRiNDczYjg3YWY2NDNmYmU4YjAyZWIiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPklzbGluZ3RvbiBBdmVudWUsIEh1bWJlciBWYWxsZXkgVmlsbGFnZSwgRXRvYmljb2tlPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF80MzM5MzYwNjY2YTM0ZDUwOTk0NmZiYjRjYTk2NmQ0My5zZXRDb250ZW50KGh0bWxfYjc2MGRiNWI3YTRiNDczYjg3YWY2NDNmYmU4YjAyZWIpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfODljMGFhZWZhMGNhNDBmMDk5ODY4NWVkOTlhZTk1ZmYuYmluZFBvcHVwKHBvcHVwXzQzMzkzNjA2NjZhMzRkNTA5OTQ2ZmJiNGNhOTY2ZDQzKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyX2I2OWEwYzlmMjUxNTRlY2NiYzRmZmNhY2U3ZTY4YTRkID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuODA2Njg2Mjk5OTk5OTk2LC03OS4xOTQzNTM0MDAwMDAwMV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF80N2ZlNzcwM2UxZTU0YjA0YWFiYzIzMzg2NDUzZWM0Yik7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF85OGFhNGRkYmZmMDE0ODY4OGQ2YTc3NWEyZDE3N2JmMyA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9kNjkxYzdiYmM4MGM0MWViYTJmOTI3YzMwOGQwMDJhMCA9ICQoJzxkaXYgaWQ9Imh0bWxfZDY5MWM3YmJjODBjNDFlYmEyZjkyN2MzMDhkMDAyYTAiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPk1hbHZlcm4sIFJvdWdlLCBTY2FyYm9yb3VnaDwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfOThhYTRkZGJmZjAxNDg2ODhkNmE3NzVhMmQxNzdiZjMuc2V0Q29udGVudChodG1sX2Q2OTFjN2JiYzgwYzQxZWJhMmY5MjdjMzA4ZDAwMmEwKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyX2I2OWEwYzlmMjUxNTRlY2NiYzRmZmNhY2U3ZTY4YTRkLmJpbmRQb3B1cChwb3B1cF85OGFhNGRkYmZmMDE0ODY4OGQ2YTc3NWEyZDE3N2JmMyk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl8yYjYxNzI5ZDI1MmQ0NjE4Yjc0Nzg3ZWQ1MzQyYTNkYSA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjc0NTkwNTc5OTk5OTk5NiwtNzkuMzUyMTg4XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwXzQ3ZmU3NzAzZTFlNTRiMDRhYWJjMjMzODY0NTNlYzRiKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzE3MzU4NmVhNjUzMjQ5MGNiZjg2MGMyNWQxNTgwODVkID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzNmYWZjNDBlZjBhYjRmZDA4NzBmZGZkNTA2NjIyNWVjID0gJCgnPGRpdiBpZD0iaHRtbF8zZmFmYzQwZWYwYWI0ZmQwODcwZmRmZDUwNjYyMjVlYyIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+RG9uIE1pbGxzLCBOb3J0aCBZb3JrPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF8xNzM1ODZlYTY1MzI0OTBjYmY4NjBjMjVkMTU4MDg1ZC5zZXRDb250ZW50KGh0bWxfM2ZhZmM0MGVmMGFiNGZkMDg3MGZkZmQ1MDY2MjI1ZWMpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfMmI2MTcyOWQyNTJkNDYxOGI3NDc4N2VkNTM0MmEzZGEuYmluZFBvcHVwKHBvcHVwXzE3MzU4NmVhNjUzMjQ5MGNiZjg2MGMyNWQxNTgwODVkKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzg2NjA4MzlhMTFjYTRhNTRhYjg0NmY1MWJjNDFlODI3ID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNzA2Mzk3MiwtNzkuMzA5OTM3XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwXzQ3ZmU3NzAzZTFlNTRiMDRhYWJjMjMzODY0NTNlYzRiKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzgyNTQxZGJhNTBiYTRkN2Y4MWU0OTdhMzMzMDk4ZDU0ID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sX2Y4OGYxODgxMWU4MTQ5M2U5NjhmYWI3MzZlZTcxZGRiID0gJCgnPGRpdiBpZD0iaHRtbF9mODhmMTg4MTFlODE0OTNlOTY4ZmFiNzM2ZWU3MWRkYiIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+UGFya3ZpZXcgSGlsbCwgV29vZGJpbmUgR2FyZGVucywgRWFzdCBZb3JrPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF84MjU0MWRiYTUwYmE0ZDdmODFlNDk3YTMzMzA5OGQ1NC5zZXRDb250ZW50KGh0bWxfZjg4ZjE4ODExZTgxNDkzZTk2OGZhYjczNmVlNzFkZGIpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfODY2MDgzOWExMWNhNGE1NGFiODQ2ZjUxYmM0MWU4MjcuYmluZFBvcHVwKHBvcHVwXzgyNTQxZGJhNTBiYTRkN2Y4MWU0OTdhMzMzMDk4ZDU0KTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyX2ZiMjMzMjIzZThhNDQ1YjViMjA1MjY1Njk0Mzk5YTc4ID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNjU3MTYxOCwtNzkuMzc4OTM3MDk5OTk5OTldLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfNDdmZTc3MDNlMWU1NGIwNGFhYmMyMzM4NjQ1M2VjNGIpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfYzIzMWNhYjcyMzFiNDUwYzlkYjI0MmU1MTY4ZDJjOTYgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfNDQ2YWIwMmQwNGJmNDE0ZDg4NTNhMzI4Nzk0NGU1MTEgPSAkKCc8ZGl2IGlkPSJodG1sXzQ0NmFiMDJkMDRiZjQxNGQ4ODUzYTMyODc5NDRlNTExIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5HYXJkZW4gRGlzdHJpY3QsIFJ5ZXJzb24sIERvd250b3duIFRvcm9udG88L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2MyMzFjYWI3MjMxYjQ1MGM5ZGIyNDJlNTE2OGQyYzk2LnNldENvbnRlbnQoaHRtbF80NDZhYjAyZDA0YmY0MTRkODg1M2EzMjg3OTQ0ZTUxMSk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl9mYjIzMzIyM2U4YTQ0NWI1YjIwNTI2NTY5NDM5OWE3OC5iaW5kUG9wdXAocG9wdXBfYzIzMWNhYjcyMzFiNDUwYzlkYjI0MmU1MTY4ZDJjOTYpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfMTVlY2MyYWI0NzMwNGY1NGFiZjg2MDQxYTVkZTgyODMgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My43MDk1NzcsLTc5LjQ0NTA3MjU5OTk5OTk5XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwXzQ3ZmU3NzAzZTFlNTRiMDRhYWJjMjMzODY0NTNlYzRiKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwX2VlNDZhNGIzNDhjODQzZWY5YzVhYzI5NjViMGY2ODA1ID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzgxZmVlYmQ4NDI2YzRiOTU5ZTUxZGZmMTUxMmU4NDk2ID0gJCgnPGRpdiBpZD0iaHRtbF84MWZlZWJkODQyNmM0Yjk1OWU1MWRmZjE1MTJlODQ5NiIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+R2xlbmNhaXJuLCBOb3J0aCBZb3JrPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF9lZTQ2YTRiMzQ4Yzg0M2VmOWM1YWMyOTY1YjBmNjgwNS5zZXRDb250ZW50KGh0bWxfODFmZWViZDg0MjZjNGI5NTllNTFkZmYxNTEyZTg0OTYpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfMTVlY2MyYWI0NzMwNGY1NGFiZjg2MDQxYTVkZTgyODMuYmluZFBvcHVwKHBvcHVwX2VlNDZhNGIzNDhjODQzZWY5YzVhYzI5NjViMGY2ODA1KTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzJkZWVjNGE1Yzk1MDQxNDhiNjUxN2E3MzgzZWFlYmRhID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNjUwOTQzMiwtNzkuNTU0NzI0NDAwMDAwMDFdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfNDdmZTc3MDNlMWU1NGIwNGFhYmMyMzM4NjQ1M2VjNGIpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfNDVmNjU4Njk3MGNiNGM4NDhmMjRjNzE3YjY3YzdmMzUgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfYzk0ZWY1MzA1MDYyNGIyNDk1OTFjNjJmMDA3Mzg1NGIgPSAkKCc8ZGl2IGlkPSJodG1sX2M5NGVmNTMwNTA2MjRiMjQ5NTkxYzYyZjAwNzM4NTRiIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5XZXN0IERlYW5lIFBhcmssIFByaW5jZXNzIEdhcmRlbnMsIE1hcnRpbiBHcm92ZSwgSXNsaW5ndG9uLCBDbG92ZXJkYWxlLCBFdG9iaWNva2U8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzQ1ZjY1ODY5NzBjYjRjODQ4ZjI0YzcxN2I2N2M3ZjM1LnNldENvbnRlbnQoaHRtbF9jOTRlZjUzMDUwNjI0YjI0OTU5MWM2MmYwMDczODU0Yik7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl8yZGVlYzRhNWM5NTA0MTQ4YjY1MTdhNzM4M2VhZWJkYS5iaW5kUG9wdXAocG9wdXBfNDVmNjU4Njk3MGNiNGM4NDhmMjRjNzE3YjY3YzdmMzUpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfZWFlYjM2ZGM2NWQzNDlhY2JlNGNjMjQyYzc2NTg0NjEgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My43ODQ1MzUxLC03OS4xNjA0OTcwOTk5OTk5OV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF80N2ZlNzcwM2UxZTU0YjA0YWFiYzIzMzg2NDUzZWM0Yik7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF9hOWUxMDA1MTQ1OTY0MWZjYTZmMjcxZWQxYmJiNDNiYSA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF8zMzdiNjlhZGViMTU0MGVkOGYxZTUyYjJmZDdhYTlhNCA9ICQoJzxkaXYgaWQ9Imh0bWxfMzM3YjY5YWRlYjE1NDBlZDhmMWU1MmIyZmQ3YWE5YTQiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPlJvdWdlIEhpbGwsIFBvcnQgVW5pb24sIEhpZ2hsYW5kIENyZWVrLCBTY2FyYm9yb3VnaDwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfYTllMTAwNTE0NTk2NDFmY2E2ZjI3MWVkMWJiYjQzYmEuc2V0Q29udGVudChodG1sXzMzN2I2OWFkZWIxNTQwZWQ4ZjFlNTJiMmZkN2FhOWE0KTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyX2VhZWIzNmRjNjVkMzQ5YWNiZTRjYzI0MmM3NjU4NDYxLmJpbmRQb3B1cChwb3B1cF9hOWUxMDA1MTQ1OTY0MWZjYTZmMjcxZWQxYmJiNDNiYSk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl80NzhjYmVhODg3ZWU0MGMzYWIwNDFlMDE2OWM3YzcyNCA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjcyNTg5OTcwMDAwMDAxLC03OS4zNDA5MjNdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfNDdmZTc3MDNlMWU1NGIwNGFhYmMyMzM4NjQ1M2VjNGIpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfNWEyNjAxZjcwNmZhNGNiZGEzMDg3ZmNjMzRkN2M2M2UgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfMTUxMGFhZDkzOTUyNDY2MTg4ODQ2ZWU4Y2E0MjRmZmYgPSAkKCc8ZGl2IGlkPSJodG1sXzE1MTBhYWQ5Mzk1MjQ2NjE4ODg0NmVlOGNhNDI0ZmZmIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5Eb24gTWlsbHMsIE5vcnRoIFlvcms8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzVhMjYwMWY3MDZmYTRjYmRhMzA4N2ZjYzM0ZDdjNjNlLnNldENvbnRlbnQoaHRtbF8xNTEwYWFkOTM5NTI0NjYxODg4NDZlZThjYTQyNGZmZik7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl80NzhjYmVhODg3ZWU0MGMzYWIwNDFlMDE2OWM3YzcyNC5iaW5kUG9wdXAocG9wdXBfNWEyNjAxZjcwNmZhNGNiZGEzMDg3ZmNjMzRkN2M2M2UpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfODY4OWM5YjI3NjY0NDdlODllMmFkOGVjMWVhNGYzYzcgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My42OTUzNDM5MDAwMDAwMDUsLTc5LjMxODM4ODddLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfNDdmZTc3MDNlMWU1NGIwNGFhYmMyMzM4NjQ1M2VjNGIpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfOTdjZTFhYzI2ZmMzNGU5Y2I0YjIxNDMxN2JlZjRkMzEgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfMjI5ZGRlNmQxYzU4NDA1MmI2MGY5MDgxNzE5ZTc4NmQgPSAkKCc8ZGl2IGlkPSJodG1sXzIyOWRkZTZkMWM1ODQwNTJiNjBmOTA4MTcxOWU3ODZkIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5Xb29kYmluZSBIZWlnaHRzLCBFYXN0IFlvcms8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzk3Y2UxYWMyNmZjMzRlOWNiNGIyMTQzMTdiZWY0ZDMxLnNldENvbnRlbnQoaHRtbF8yMjlkZGU2ZDFjNTg0MDUyYjYwZjkwODE3MTllNzg2ZCk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl84Njg5YzliMjc2NjQ0N2U4OWUyYWQ4ZWMxZWE0ZjNjNy5iaW5kUG9wdXAocG9wdXBfOTdjZTFhYzI2ZmMzNGU5Y2I0YjIxNDMxN2JlZjRkMzEpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfNmJiYzAxZmI1ODVhNGI1OTgxNzAzNTRiNWU1ZWQ1MWIgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My42NTE0OTM5LC03OS4zNzU0MTc5XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwXzQ3ZmU3NzAzZTFlNTRiMDRhYWJjMjMzODY0NTNlYzRiKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwX2UzNjhlMDEzNzZhMTQ5OTFiNDBlMzk0MDZjMjk4MTEyID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sX2RmYTU4M2FkNWY1NTRlZDA5YWU1Mzg4NWVkOTMwOTZjID0gJCgnPGRpdiBpZD0iaHRtbF9kZmE1ODNhZDVmNTU0ZWQwOWFlNTM4ODVlZDkzMDk2YyIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+U3QuIEphbWVzIFRvd24sIERvd250b3duIFRvcm9udG88L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2UzNjhlMDEzNzZhMTQ5OTFiNDBlMzk0MDZjMjk4MTEyLnNldENvbnRlbnQoaHRtbF9kZmE1ODNhZDVmNTU0ZWQwOWFlNTM4ODVlZDkzMDk2Yyk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl82YmJjMDFmYjU4NWE0YjU5ODE3MDM1NGI1ZTVlZDUxYi5iaW5kUG9wdXAocG9wdXBfZTM2OGUwMTM3NmExNDk5MWI0MGUzOTQwNmMyOTgxMTIpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfNDNlOTE5MDc1NGFiNDc1NWE2ZmUyZjcyOTQyNWY3YzMgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My42OTM3ODEzLC03OS40MjgxOTE0MDAwMDAwMl0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF80N2ZlNzcwM2UxZTU0YjA0YWFiYzIzMzg2NDUzZWM0Yik7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF9kNjNkNWIzZTc2MmI0OTZjOTZjMGRhMmI1YTBkZDVjMSA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF8zZWE4YWFhYTAzMDY0MDVhYWU1YjZkODJjMzg1YmVlNyA9ICQoJzxkaXYgaWQ9Imh0bWxfM2VhOGFhYWEwMzA2NDA1YWFlNWI2ZDgyYzM4NWJlZTciIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkh1bWV3b29kLUNlZGFydmFsZSwgWW9yazwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfZDYzZDViM2U3NjJiNDk2Yzk2YzBkYTJiNWEwZGQ1YzEuc2V0Q29udGVudChodG1sXzNlYThhYWFhMDMwNjQwNWFhZTViNmQ4MmMzODViZWU3KTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzQzZTkxOTA3NTRhYjQ3NTVhNmZlMmY3Mjk0MjVmN2MzLmJpbmRQb3B1cChwb3B1cF9kNjNkNWIzZTc2MmI0OTZjOTZjMGRhMmI1YTBkZDVjMSk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl81ZWMxMDE1Y2ViOTM0M2E0YjdiMTg5ZDFiNGNhNzcyOCA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjY0MzUxNTIsLTc5LjU3NzIwMDc5OTk5OTk5XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwXzQ3ZmU3NzAzZTFlNTRiMDRhYWJjMjMzODY0NTNlYzRiKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzM2NWI1MmVkZmViOTQ4ZDU4ODc1YjdkYzJjYmE5N2JhID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sX2FmYmNiYWQ4MmY5MjRmY2U4NTRiMTM5MTJkY2EzODZlID0gJCgnPGRpdiBpZD0iaHRtbF9hZmJjYmFkODJmOTI0ZmNlODU0YjEzOTEyZGNhMzg2ZSIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+RXJpbmdhdGUsIEJsb29yZGFsZSBHYXJkZW5zLCBPbGQgQnVybmhhbXRob3JwZSwgTWFya2xhbmQgV29vZCwgRXRvYmljb2tlPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF8zNjViNTJlZGZlYjk0OGQ1ODg3NWI3ZGMyY2JhOTdiYS5zZXRDb250ZW50KGh0bWxfYWZiY2JhZDgyZjkyNGZjZTg1NGIxMzkxMmRjYTM4NmUpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfNWVjMTAxNWNlYjkzNDNhNGI3YjE4OWQxYjRjYTc3MjguYmluZFBvcHVwKHBvcHVwXzM2NWI1MmVkZmViOTQ4ZDU4ODc1YjdkYzJjYmE5N2JhKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzdjNjIzZjY2ZTY3MTQ1ODM4NzE5YTlkOTljN2FkMTNiID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNzYzNTcyNiwtNzkuMTg4NzExNV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF80N2ZlNzcwM2UxZTU0YjA0YWFiYzIzMzg2NDUzZWM0Yik7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF9iNWIyMzg3YzBiYzU0ZDE1ODQyMmQ0MzRjYWZiOTNlNSA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF8yNGYwZThhMzYyN2U0OGVhOGM3NmFhYzc3NmM0NGM1MiA9ICQoJzxkaXYgaWQ9Imh0bWxfMjRmMGU4YTM2MjdlNDhlYThjNzZhYWM3NzZjNDRjNTIiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkd1aWxkd29vZCwgTW9ybmluZ3NpZGUsIFdlc3QgSGlsbCwgU2NhcmJvcm91Z2g8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2I1YjIzODdjMGJjNTRkMTU4NDIyZDQzNGNhZmI5M2U1LnNldENvbnRlbnQoaHRtbF8yNGYwZThhMzYyN2U0OGVhOGM3NmFhYzc3NmM0NGM1Mik7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl83YzYyM2Y2NmU2NzE0NTgzODcxOWE5ZDk5YzdhZDEzYi5iaW5kUG9wdXAocG9wdXBfYjViMjM4N2MwYmM1NGQxNTg0MjJkNDM0Y2FmYjkzZTUpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfYjYxNzViZjEwNmE0NDFiMThkMDZiMTNiZTBlN2U4ZTkgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My42NzYzNTczOTk5OTk5OSwtNzkuMjkzMDMxMl0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF80N2ZlNzcwM2UxZTU0YjA0YWFiYzIzMzg2NDUzZWM0Yik7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF85Y2Q5OWRjMDRmZjQ0MWFlYmQ1MTM4ZWZlODM0YjJiYyA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF82NTUwMjk2ZGZkOWQ0MWIzYTA1ZjZlYWMyOGM4MDM2MyA9ICQoJzxkaXYgaWQ9Imh0bWxfNjU1MDI5NmRmZDlkNDFiM2EwNWY2ZWFjMjhjODAzNjMiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPlRoZSBCZWFjaGVzLCBFYXN0IFRvcm9udG88L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzljZDk5ZGMwNGZmNDQxYWViZDUxMzhlZmU4MzRiMmJjLnNldENvbnRlbnQoaHRtbF82NTUwMjk2ZGZkOWQ0MWIzYTA1ZjZlYWMyOGM4MDM2Myk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl9iNjE3NWJmMTA2YTQ0MWIxOGQwNmIxM2JlMGU3ZThlOS5iaW5kUG9wdXAocG9wdXBfOWNkOTlkYzA0ZmY0NDFhZWJkNTEzOGVmZTgzNGIyYmMpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfMjA3ZDcyNTVlMjkwNGQzMDk1NGYxZGUyYThkNTYwOTYgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My42NDQ3NzA3OTk5OTk5OTYsLTc5LjM3MzMwNjRdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfNDdmZTc3MDNlMWU1NGIwNGFhYmMyMzM4NjQ1M2VjNGIpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfZTZkMzc1OTQ0YjcxNDVhNThlYjNjMDk0Y2MzNTJkZDYgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfNzhhY2JhZmNhMjMyNDc5YTg5NDg4Y2MyYzc3ZTFhMDUgPSAkKCc8ZGl2IGlkPSJodG1sXzc4YWNiYWZjYTIzMjQ3OWE4OTQ4OGNjMmM3N2UxYTA1IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5CZXJjenkgUGFyaywgRG93bnRvd24gVG9yb250bzwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfZTZkMzc1OTQ0YjcxNDVhNThlYjNjMDk0Y2MzNTJkZDYuc2V0Q29udGVudChodG1sXzc4YWNiYWZjYTIzMjQ3OWE4OTQ4OGNjMmM3N2UxYTA1KTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzIwN2Q3MjU1ZTI5MDRkMzA5NTRmMWRlMmE4ZDU2MDk2LmJpbmRQb3B1cChwb3B1cF9lNmQzNzU5NDRiNzE0NWE1OGViM2MwOTRjYzM1MmRkNik7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl80YTI4NzIzMmQ5YmY0ZmViODAwYTEzNDVmMjEwOWYxMiA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjY4OTAyNTYsLTc5LjQ1MzUxMl0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF80N2ZlNzcwM2UxZTU0YjA0YWFiYzIzMzg2NDUzZWM0Yik7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF9lYzVkZTNhNDVmN2E0ZWUyOTM3ZTY5N2VkYWQ2OGQzMyA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF84YmZhMzM1NWI5YWU0NjdkOWRmNGNmOTIxNTZlZTA3MCA9ICQoJzxkaXYgaWQ9Imh0bWxfOGJmYTMzNTViOWFlNDY3ZDlkZjRjZjkyMTU2ZWUwNzAiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkNhbGVkb25pYS1GYWlyYmFua3MsIFlvcms8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2VjNWRlM2E0NWY3YTRlZTI5MzdlNjk3ZWRhZDY4ZDMzLnNldENvbnRlbnQoaHRtbF84YmZhMzM1NWI5YWU0NjdkOWRmNGNmOTIxNTZlZTA3MCk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl80YTI4NzIzMmQ5YmY0ZmViODAwYTEzNDVmMjEwOWYxMi5iaW5kUG9wdXAocG9wdXBfZWM1ZGUzYTQ1ZjdhNGVlMjkzN2U2OTdlZGFkNjhkMzMpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfMzNmNjQ0YjBlNTgzNGY4YjlkMjczNmRkYzFlZGJmNzQgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My43NzA5OTIxLC03OS4yMTY5MTc0MDAwMDAwMV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF80N2ZlNzcwM2UxZTU0YjA0YWFiYzIzMzg2NDUzZWM0Yik7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF9iZmJlZDg5NWIyOTY0YmZmODc4MzRkMTlmOWQ2NjQzNSA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF83OGQ1MDg2NzQ2ZTI0OWZjYWY2YWNjMWM5MzQ4Y2NlNCA9ICQoJzxkaXYgaWQ9Imh0bWxfNzhkNTA4Njc0NmUyNDlmY2FmNmFjYzFjOTM0OGNjZTQiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPldvYnVybiwgU2NhcmJvcm91Z2g8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2JmYmVkODk1YjI5NjRiZmY4NzgzNGQxOWY5ZDY2NDM1LnNldENvbnRlbnQoaHRtbF83OGQ1MDg2NzQ2ZTI0OWZjYWY2YWNjMWM5MzQ4Y2NlNCk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl8zM2Y2NDRiMGU1ODM0ZjhiOWQyNzM2ZGRjMWVkYmY3NC5iaW5kUG9wdXAocG9wdXBfYmZiZWQ4OTViMjk2NGJmZjg3ODM0ZDE5ZjlkNjY0MzUpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfOGUwZTAxZjU0MGY0NDZjOTgzMGRiZGQzMjE1NTZhMmYgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My43MDkwNjA0LC03OS4zNjM0NTE3XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwXzQ3ZmU3NzAzZTFlNTRiMDRhYWJjMjMzODY0NTNlYzRiKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwX2RjNmZjMmYzMGU4MDQ5ZmRhZDIyNzFhODliMzExMTFhID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sX2YzOWZhZWY3Y2UxZDRmMjViZDEwNWJiYzFjYzZkNzdjID0gJCgnPGRpdiBpZD0iaHRtbF9mMzlmYWVmN2NlMWQ0ZjI1YmQxMDViYmMxY2M2ZDc3YyIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+TGVhc2lkZSwgRWFzdCBZb3JrPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF9kYzZmYzJmMzBlODA0OWZkYWQyMjcxYTg5YjMxMTExYS5zZXRDb250ZW50KGh0bWxfZjM5ZmFlZjdjZTFkNGYyNWJkMTA1YmJjMWNjNmQ3N2MpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfOGUwZTAxZjU0MGY0NDZjOTgzMGRiZGQzMjE1NTZhMmYuYmluZFBvcHVwKHBvcHVwX2RjNmZjMmYzMGU4MDQ5ZmRhZDIyNzFhODliMzExMTFhKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzNlMTk3NTRkYTljZjRkYTY4MTRlMWE3MGUwYzNhNTRiID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNjU3OTUyNCwtNzkuMzg3MzgyNl0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF80N2ZlNzcwM2UxZTU0YjA0YWFiYzIzMzg2NDUzZWM0Yik7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF8yN2ZlYjVmMmM4ZmE0NWZmYjM1NGQxYzQwZGY3OTQyMSA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF8yOTg3ODIzNDFlOTE0ZTBhYjQ4ZjAyMjM5OTAwOWQ4NiA9ICQoJzxkaXYgaWQ9Imh0bWxfMjk4NzgyMzQxZTkxNGUwYWI0OGYwMjIzOTkwMDlkODYiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkNlbnRyYWwgQmF5IFN0cmVldCwgRG93bnRvd24gVG9yb250bzwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfMjdmZWI1ZjJjOGZhNDVmZmIzNTRkMWM0MGRmNzk0MjEuc2V0Q29udGVudChodG1sXzI5ODc4MjM0MWU5MTRlMGFiNDhmMDIyMzk5MDA5ZDg2KTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzNlMTk3NTRkYTljZjRkYTY4MTRlMWE3MGUwYzNhNTRiLmJpbmRQb3B1cChwb3B1cF8yN2ZlYjVmMmM4ZmE0NWZmYjM1NGQxYzQwZGY3OTQyMSk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl9lMjk0MjhlNTNmNzI0ZjlmYWZiMWE0MjQxZjM1NWI4NiA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjY2OTU0MiwtNzkuNDIyNTYzN10sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF80N2ZlNzcwM2UxZTU0YjA0YWFiYzIzMzg2NDUzZWM0Yik7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF9lZTRmNGVkZGE5NzE0ZGVhOTU4MjY0MDJlZTM1YTAzMSA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9mNTA4ODU3ZDdjMzc0NzI0OWY2NTg1MjhmOTQ1MTE5MCA9ICQoJzxkaXYgaWQ9Imh0bWxfZjUwODg1N2Q3YzM3NDcyNDlmNjU4NTI4Zjk0NTExOTAiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkNocmlzdGllLCBEb3dudG93biBUb3JvbnRvPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF9lZTRmNGVkZGE5NzE0ZGVhOTU4MjY0MDJlZTM1YTAzMS5zZXRDb250ZW50KGh0bWxfZjUwODg1N2Q3YzM3NDcyNDlmNjU4NTI4Zjk0NTExOTApOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfZTI5NDI4ZTUzZjcyNGY5ZmFmYjFhNDI0MWYzNTViODYuYmluZFBvcHVwKHBvcHVwX2VlNGY0ZWRkYTk3MTRkZWE5NTgyNjQwMmVlMzVhMDMxKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzAyMjZlMjI0YmZlZDRhYTc5MzM3NTQ1NmQyZWU4MjMxID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNzczMTM2LC03OS4yMzk0NzYwOTk5OTk5OV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF80N2ZlNzcwM2UxZTU0YjA0YWFiYzIzMzg2NDUzZWM0Yik7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF8xYWRjYWE5N2E3MzA0NDY1YTg3YjY5YTBiM2Q1YjliZSA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF82NjlhOTcxZjVjOGY0ZDE4OTdkMzhiMjgyZTRjNzg0MSA9ICQoJzxkaXYgaWQ9Imh0bWxfNjY5YTk3MWY1YzhmNGQxODk3ZDM4YjI4MmU0Yzc4NDEiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkNlZGFyYnJhZSwgU2NhcmJvcm91Z2g8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzFhZGNhYTk3YTczMDQ0NjVhODdiNjlhMGIzZDViOWJlLnNldENvbnRlbnQoaHRtbF82NjlhOTcxZjVjOGY0ZDE4OTdkMzhiMjgyZTRjNzg0MSk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl8wMjI2ZTIyNGJmZWQ0YWE3OTMzNzU0NTZkMmVlODIzMS5iaW5kUG9wdXAocG9wdXBfMWFkY2FhOTdhNzMwNDQ2NWE4N2I2OWEwYjNkNWI5YmUpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfMWEwMDUwZDA5YTlhNDRhM2EyOTA5YjQwN2E4NjcyNWYgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My44MDM3NjIyLC03OS4zNjM0NTE3XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwXzQ3ZmU3NzAzZTFlNTRiMDRhYWJjMjMzODY0NTNlYzRiKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzUxZjBkZGUzYWNhZjRkN2JiMDExMmYwYWUyZTRkYWU0ID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzJhZGYxOGI4MDhiZjQ2Zjc4NzEyZWYxOTE1NDk5ZWFkID0gJCgnPGRpdiBpZD0iaHRtbF8yYWRmMThiODA4YmY0NmY3ODcxMmVmMTkxNTQ5OWVhZCIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+SGlsbGNyZXN0IFZpbGxhZ2UsIE5vcnRoIFlvcms8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzUxZjBkZGUzYWNhZjRkN2JiMDExMmYwYWUyZTRkYWU0LnNldENvbnRlbnQoaHRtbF8yYWRmMThiODA4YmY0NmY3ODcxMmVmMTkxNTQ5OWVhZCk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl8xYTAwNTBkMDlhOWE0NGEzYTI5MDliNDA3YTg2NzI1Zi5iaW5kUG9wdXAocG9wdXBfNTFmMGRkZTNhY2FmNGQ3YmIwMTEyZjBhZTJlNGRhZTQpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfMjk5MWMyZjcyYTRmNDAyZmI4YzJjMWE2NjlkYmExMzQgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My43NTQzMjgzLC03OS40NDIyNTkzXSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwXzQ3ZmU3NzAzZTFlNTRiMDRhYWJjMjMzODY0NTNlYzRiKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzBmNjUyNTA3NzU2NjQyZjBhMDU1YzE4ZDAwMmNmOTQ5ID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sX2ViYTNjMGU5NzYzYjQ4NmNiMTM2MjZlYzM3ZGY4NmMzID0gJCgnPGRpdiBpZD0iaHRtbF9lYmEzYzBlOTc2M2I0ODZjYjEzNjI2ZWMzN2RmODZjMyIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+QmF0aHVyc3QgTWFub3IsIFdpbHNvbiBIZWlnaHRzLCBEb3duc3ZpZXcgTm9ydGgsIE5vcnRoIFlvcms8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzBmNjUyNTA3NzU2NjQyZjBhMDU1YzE4ZDAwMmNmOTQ5LnNldENvbnRlbnQoaHRtbF9lYmEzYzBlOTc2M2I0ODZjYjEzNjI2ZWMzN2RmODZjMyk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl8yOTkxYzJmNzJhNGY0MDJmYjhjMmMxYTY2OWRiYTEzNC5iaW5kUG9wdXAocG9wdXBfMGY2NTI1MDc3NTY2NDJmMGEwNTVjMThkMDAyY2Y5NDkpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfMjZlZTIyMjBlZDExNDU5NmIzOWU3NmNmYzZkYjU0MmQgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My43MDUzNjg5LC03OS4zNDkzNzE5MDAwMDAwMV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF80N2ZlNzcwM2UxZTU0YjA0YWFiYzIzMzg2NDUzZWM0Yik7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF9jY2M1MjFjOWI0ZTM0OWJjOTFkMDJhMzgxZDdmNDM3NiA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF83NjFjZjJmOWQzOWY0ZDk2YjhkYTJhZGFmMGNhZjM2MiA9ICQoJzxkaXYgaWQ9Imh0bWxfNzYxY2YyZjlkMzlmNGQ5NmI4ZGEyYWRhZjBjYWYzNjIiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPlRob3JuY2xpZmZlIFBhcmssIEVhc3QgWW9yazwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfY2NjNTIxYzliNGUzNDliYzkxZDAyYTM4MWQ3ZjQzNzYuc2V0Q29udGVudChodG1sXzc2MWNmMmY5ZDM5ZjRkOTZiOGRhMmFkYWYwY2FmMzYyKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzI2ZWUyMjIwZWQxMTQ1OTZiMzllNzZjZmM2ZGI1NDJkLmJpbmRQb3B1cChwb3B1cF9jY2M1MjFjOWI0ZTM0OWJjOTFkMDJhMzgxZDdmNDM3Nik7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl8yNGY5OTBlNzcwZmQ0N2UzYjY0YTA2MDIxOTliYTU3ZiA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjY1MDU3MTIwMDAwMDAxLC03OS4zODQ1Njc1XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwXzQ3ZmU3NzAzZTFlNTRiMDRhYWJjMjMzODY0NTNlYzRiKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzEyMWNkOTQyZGZkMjQ1N2VhZjhhMTI2MTRhNjJmMDhmID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzE3MmFmYWE0ODk3ZTRhOWFhMjhmMmZiNDAyZGYwMzdlID0gJCgnPGRpdiBpZD0iaHRtbF8xNzJhZmFhNDg5N2U0YTlhYTI4ZjJmYjQwMmRmMDM3ZSIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+UmljaG1vbmQsIEFkZWxhaWRlLCBLaW5nLCBEb3dudG93biBUb3JvbnRvPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF8xMjFjZDk0MmRmZDI0NTdlYWY4YTEyNjE0YTYyZjA4Zi5zZXRDb250ZW50KGh0bWxfMTcyYWZhYTQ4OTdlNGE5YWEyOGYyZmI0MDJkZjAzN2UpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfMjRmOTkwZTc3MGZkNDdlM2I2NGEwNjAyMTk5YmE1N2YuYmluZFBvcHVwKHBvcHVwXzEyMWNkOTQyZGZkMjQ1N2VhZjhhMTI2MTRhNjJmMDhmKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzE5MGIxMTlmZmI5MDQ4NDhiYWIyMDBkNTc1ZDNmMDQ4ID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNjY5MDA1MTAwMDAwMDEsLTc5LjQ0MjI1OTNdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfNDdmZTc3MDNlMWU1NGIwNGFhYmMyMzM4NjQ1M2VjNGIpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfNzE4Y2FkMmFiM2E4NDgzNzg1ZjQxYTI2YjYxMjBkZDYgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfZmI3OWMzMGVmYjIwNDc2NGFlN2ViZDEwN2U3NzBmOWUgPSAkKCc8ZGl2IGlkPSJodG1sX2ZiNzljMzBlZmIyMDQ3NjRhZTdlYmQxMDdlNzcwZjllIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5EdWZmZXJpbiwgRG92ZXJjb3VydCBWaWxsYWdlLCBXZXN0IFRvcm9udG88L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzcxOGNhZDJhYjNhODQ4Mzc4NWY0MWEyNmI2MTIwZGQ2LnNldENvbnRlbnQoaHRtbF9mYjc5YzMwZWZiMjA0NzY0YWU3ZWJkMTA3ZTc3MGY5ZSk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl8xOTBiMTE5ZmZiOTA0ODQ4YmFiMjAwZDU3NWQzZjA0OC5iaW5kUG9wdXAocG9wdXBfNzE4Y2FkMmFiM2E4NDgzNzg1ZjQxYTI2YjYxMjBkZDYpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfYWM2ZDkxNGY5YWEwNDBmZGFmMGZiOGMyYTA4ZTQ4ZWIgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My43NDQ3MzQyLC03OS4yMzk0NzYwOTk5OTk5OV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF80N2ZlNzcwM2UxZTU0YjA0YWFiYzIzMzg2NDUzZWM0Yik7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF82ODA1Mzc5MTgyNGI0NjBjYTFiMGFkM2I3NGIwNmFlNyA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF8zY2Q3MGY0YjNlZmE0M2RiYmIxNmUxMzkzNDJjNTlhZiA9ICQoJzxkaXYgaWQ9Imh0bWxfM2NkNzBmNGIzZWZhNDNkYmJiMTZlMTM5MzQyYzU5YWYiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPlNjYXJib3JvdWdoIFZpbGxhZ2UsIFNjYXJib3JvdWdoPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF82ODA1Mzc5MTgyNGI0NjBjYTFiMGFkM2I3NGIwNmFlNy5zZXRDb250ZW50KGh0bWxfM2NkNzBmNGIzZWZhNDNkYmJiMTZlMTM5MzQyYzU5YWYpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfYWM2ZDkxNGY5YWEwNDBmZGFmMGZiOGMyYTA4ZTQ4ZWIuYmluZFBvcHVwKHBvcHVwXzY4MDUzNzkxODI0YjQ2MGNhMWIwYWQzYjc0YjA2YWU3KTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzZjOTJmMTU4Y2M2MzQ0MjI4M2Q2NWNhMzBhZTUzZGViID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNzc4NTE3NSwtNzkuMzQ2NTU1N10sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF80N2ZlNzcwM2UxZTU0YjA0YWFiYzIzMzg2NDUzZWM0Yik7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF83NzUxMzBlOWNkN2Q0ODU4YTBmYzYzNWUwMTc3ZmZlNCA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9kN2VkMjA3ZmUwNzc0YzQ4OWUyZDRiNjY5NTFjZWNhMSA9ICQoJzxkaXYgaWQ9Imh0bWxfZDdlZDIwN2ZlMDc3NGM0ODllMmQ0YjY2OTUxY2VjYTEiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkZhaXJ2aWV3LCBIZW5yeSBGYXJtLCBPcmlvbGUsIE5vcnRoIFlvcms8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzc3NTEzMGU5Y2Q3ZDQ4NThhMGZjNjM1ZTAxNzdmZmU0LnNldENvbnRlbnQoaHRtbF9kN2VkMjA3ZmUwNzc0YzQ4OWUyZDRiNjY5NTFjZWNhMSk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl82YzkyZjE1OGNjNjM0NDIyODNkNjVjYTMwYWU1M2RlYi5iaW5kUG9wdXAocG9wdXBfNzc1MTMwZTljZDdkNDg1OGEwZmM2MzVlMDE3N2ZmZTQpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfMmZmOWVlNTk0MTFhNDJjY2EzYTdhZGJiYmY3OTQwZjkgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My43Njc5ODAzLC03OS40ODcyNjE5MDAwMDAwMV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF80N2ZlNzcwM2UxZTU0YjA0YWFiYzIzMzg2NDUzZWM0Yik7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF82Mjk1MThmODZmNTA0ZGY1ODE2ZDgyMjU0OTk2NTFmYSA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9lNWM3YjlkOWYwNzg0MjU1YTQzY2EwMWQwZmUxMTlkMiA9ICQoJzxkaXYgaWQ9Imh0bWxfZTVjN2I5ZDlmMDc4NDI1NWE0M2NhMDFkMGZlMTE5ZDIiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPk5vcnRod29vZCBQYXJrLCBZb3JrIFVuaXZlcnNpdHksIE5vcnRoIFlvcms8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzYyOTUxOGY4NmY1MDRkZjU4MTZkODIyNTQ5OTY1MWZhLnNldENvbnRlbnQoaHRtbF9lNWM3YjlkOWYwNzg0MjU1YTQzY2EwMWQwZmUxMTlkMik7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl8yZmY5ZWU1OTQxMWE0MmNjYTNhN2FkYmJiZjc5NDBmOS5iaW5kUG9wdXAocG9wdXBfNjI5NTE4Zjg2ZjUwNGRmNTgxNmQ4MjI1NDk5NjUxZmEpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfZjQ3OWExMjNkZDY5NDRkMTkyZDI5YzhiOGJmZWM0OGMgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My42ODUzNDcsLTc5LjMzODEwNjVdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfNDdmZTc3MDNlMWU1NGIwNGFhYmMyMzM4NjQ1M2VjNGIpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfYzdiY2VkYTkwYTZhNDEyZGFkN2QzYTYxN2NlYTk0NmEgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfY2NlYWRlY2QzYTlmNDg3OGE4MjgzYjdiZTA5Y2Y2M2QgPSAkKCc8ZGl2IGlkPSJodG1sX2NjZWFkZWNkM2E5ZjQ4NzhhODI4M2I3YmUwOWNmNjNkIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5FYXN0IFRvcm9udG8sIEJyb2FkdmlldyBOb3J0aCAoT2xkIEVhc3QgWW9yayksIEVhc3QgWW9yazwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfYzdiY2VkYTkwYTZhNDEyZGFkN2QzYTYxN2NlYTk0NmEuc2V0Q29udGVudChodG1sX2NjZWFkZWNkM2E5ZjQ4NzhhODI4M2I3YmUwOWNmNjNkKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyX2Y0NzlhMTIzZGQ2OTQ0ZDE5MmQyOWM4YjhiZmVjNDhjLmJpbmRQb3B1cChwb3B1cF9jN2JjZWRhOTBhNmE0MTJkYWQ3ZDNhNjE3Y2VhOTQ2YSk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl8yNjRlNjQ4Y2U2NzA0NWRkYjg4NGEyMzA4M2ExNTE3YyA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjY0MDgxNTcsLTc5LjM4MTc1MjI5OTk5OTk5XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwXzQ3ZmU3NzAzZTFlNTRiMDRhYWJjMjMzODY0NTNlYzRiKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzc2NjI1YTBiNTRmYzQ3YjlhZjExNzI5MTBhZTEzNmU3ID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzg3M2JkOWNkZWI0NTQ0N2FhZWI4MGYwNGFlNjI3MTk2ID0gJCgnPGRpdiBpZD0iaHRtbF84NzNiZDljZGViNDU0NDdhYWViODBmMDRhZTYyNzE5NiIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+SGFyYm91cmZyb250IEVhc3QsIFVuaW9uIFN0YXRpb24sIFRvcm9udG8gSXNsYW5kcywgRG93bnRvd24gVG9yb250bzwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfNzY2MjVhMGI1NGZjNDdiOWFmMTE3MjkxMGFlMTM2ZTcuc2V0Q29udGVudChodG1sXzg3M2JkOWNkZWI0NTQ0N2FhZWI4MGYwNGFlNjI3MTk2KTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzI2NGU2NDhjZTY3MDQ1ZGRiODg0YTIzMDgzYTE1MTdjLmJpbmRQb3B1cChwb3B1cF83NjYyNWEwYjU0ZmM0N2I5YWYxMTcyOTEwYWUxMzZlNyk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl8zNzIwNDA3MWIwZWU0OGE1ODQyNDVhNmEwNTA1NTc2NCA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjY0NzkyNjcwMDAwMDAwNiwtNzkuNDE5NzQ5N10sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF80N2ZlNzcwM2UxZTU0YjA0YWFiYzIzMzg2NDUzZWM0Yik7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF80MDNmMmMwNzE2NmI0ZTU2YjY4ZWFmZTQwMmU4YjRjMyA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF83NWRkY2ZmMWQ5ZDk0OGM3OWZlYjhiYmI3NWJiNmU5ZiA9ICQoJzxkaXYgaWQ9Imh0bWxfNzVkZGNmZjFkOWQ5NDhjNzlmZWI4YmJiNzViYjZlOWYiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkxpdHRsZSBQb3J0dWdhbCwgVHJpbml0eSwgV2VzdCBUb3JvbnRvPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF80MDNmMmMwNzE2NmI0ZTU2YjY4ZWFmZTQwMmU4YjRjMy5zZXRDb250ZW50KGh0bWxfNzVkZGNmZjFkOWQ5NDhjNzlmZWI4YmJiNzViYjZlOWYpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfMzcyMDQwNzFiMGVlNDhhNTg0MjQ1YTZhMDUwNTU3NjQuYmluZFBvcHVwKHBvcHVwXzQwM2YyYzA3MTY2YjRlNTZiNjhlYWZlNDAyZThiNGMzKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyX2Q3NTdmYzU0ODI5YTQ3NGZhMTkxOWRmZjg5ODk4MzA1ID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNzI3OTI5MiwtNzkuMjYyMDI5NDAwMDAwMDJdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfNDdmZTc3MDNlMWU1NGIwNGFhYmMyMzM4NjQ1M2VjNGIpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfOWFhYjY0ODAyZmM1NGVlM2IwNzdmOWNmOTJiNmUyNjQgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfNTE2Njc0MmE2YmIwNDkzZjg4ZmU5MGVjNWViNWNmYWEgPSAkKCc8ZGl2IGlkPSJodG1sXzUxNjY3NDJhNmJiMDQ5M2Y4OGZlOTBlYzVlYjVjZmFhIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5LZW5uZWR5IFBhcmssIElvbnZpZXcsIEVhc3QgQmlyY2htb3VudCBQYXJrLCBTY2FyYm9yb3VnaDwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfOWFhYjY0ODAyZmM1NGVlM2IwNzdmOWNmOTJiNmUyNjQuc2V0Q29udGVudChodG1sXzUxNjY3NDJhNmJiMDQ5M2Y4OGZlOTBlYzVlYjVjZmFhKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyX2Q3NTdmYzU0ODI5YTQ3NGZhMTkxOWRmZjg5ODk4MzA1LmJpbmRQb3B1cChwb3B1cF85YWFiNjQ4MDJmYzU0ZWUzYjA3N2Y5Y2Y5MmI2ZTI2NCk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl8wNTcxZGJjMGE3OWU0ZTM5YTJmMWQxMDNlNzU3MDM1ZCA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjc4Njk0NzMsLTc5LjM4NTk3NV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF80N2ZlNzcwM2UxZTU0YjA0YWFiYzIzMzg2NDUzZWM0Yik7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF84NDNkYzI5YmUzYjI0YmNiOWZhNTEyMzA4NjhhOTFiYyA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF83YWY4OTI2YmM0OTc0MmY2OTM0OThkY2VhZGE2MjljZiA9ICQoJzxkaXYgaWQ9Imh0bWxfN2FmODkyNmJjNDk3NDJmNjkzNDk4ZGNlYWRhNjI5Y2YiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkJheXZpZXcgVmlsbGFnZSwgTm9ydGggWW9yazwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfODQzZGMyOWJlM2IyNGJjYjlmYTUxMjMwODY4YTkxYmMuc2V0Q29udGVudChodG1sXzdhZjg5MjZiYzQ5NzQyZjY5MzQ5OGRjZWFkYTYyOWNmKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzA1NzFkYmMwYTc5ZTRlMzlhMmYxZDEwM2U3NTcwMzVkLmJpbmRQb3B1cChwb3B1cF84NDNkYzI5YmUzYjI0YmNiOWZhNTEyMzA4NjhhOTFiYyk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl9iNjBjMjRjNTVhZDQ0YzZmYmIxYTJjODkwOWY1MjVmZSA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjczNzQ3MzIwMDAwMDAwNCwtNzkuNDY0NzYzMjk5OTk5OTldLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfNDdmZTc3MDNlMWU1NGIwNGFhYmMyMzM4NjQ1M2VjNGIpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfNDU3NjViMGQ5Njk3NDQxNmFiZjI0ZTcxNjc3N2EwYWQgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfYzE1NGQ3ODZlNjNmNDI4Mzk2ZTM1NjQ5YTczZDg4ZGQgPSAkKCc8ZGl2IGlkPSJodG1sX2MxNTRkNzg2ZTYzZjQyODM5NmUzNTY0OWE3M2Q4OGRkIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5Eb3duc3ZpZXcsIE5vcnRoIFlvcms8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzQ1NzY1YjBkOTY5NzQ0MTZhYmYyNGU3MTY3NzdhMGFkLnNldENvbnRlbnQoaHRtbF9jMTU0ZDc4NmU2M2Y0MjgzOTZlMzU2NDlhNzNkODhkZCk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl9iNjBjMjRjNTVhZDQ0YzZmYmIxYTJjODkwOWY1MjVmZS5iaW5kUG9wdXAocG9wdXBfNDU3NjViMGQ5Njk3NDQxNmFiZjI0ZTcxNjc3N2EwYWQpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfMmY3NjQ1ZjhkYTAyNGM0MjkyNDQ3Mjg3MmZiYmZjMGEgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My42Nzk1NTcxLC03OS4zNTIxODhdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfNDdmZTc3MDNlMWU1NGIwNGFhYmMyMzM4NjQ1M2VjNGIpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfYmQ3MDc4NzFhZThhNGU5NWE2MzBlZjU5NGY4NzE3YTggPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfODdlMjAyZDFkYTA4NDc1Zjk3ODNkNmJhZWU2ZDhjMzEgPSAkKCc8ZGl2IGlkPSJodG1sXzg3ZTIwMmQxZGEwODQ3NWY5NzgzZDZiYWVlNmQ4YzMxIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5UaGUgRGFuZm9ydGggV2VzdCwgUml2ZXJkYWxlLCBFYXN0IFRvcm9udG88L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2JkNzA3ODcxYWU4YTRlOTVhNjMwZWY1OTRmODcxN2E4LnNldENvbnRlbnQoaHRtbF84N2UyMDJkMWRhMDg0NzVmOTc4M2Q2YmFlZTZkOGMzMSk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl8yZjc2NDVmOGRhMDI0YzQyOTI0NDcyODcyZmJiZmMwYS5iaW5kUG9wdXAocG9wdXBfYmQ3MDc4NzFhZThhNGU5NWE2MzBlZjU5NGY4NzE3YTgpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfMjc1NDI0MDNhNTFhNDdjYzljNGMwZDZlZDBmNDk2ZTkgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My42NDcxNzY4LC03OS4zODE1NzY0MDAwMDAwMV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF80N2ZlNzcwM2UxZTU0YjA0YWFiYzIzMzg2NDUzZWM0Yik7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF8yOWUzOTNiODI0YWM0ZGFiYmQ3ZDBiYTA1YmZjNzA4YSA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF8zNGYwOWMzZTRmZmE0ZWFjODNiYWNiY2Q4MTA3YmU5NSA9ICQoJzxkaXYgaWQ9Imh0bWxfMzRmMDljM2U0ZmZhNGVhYzgzYmFjYmNkODEwN2JlOTUiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPlRvcm9udG8gRG9taW5pb24gQ2VudHJlLCBEZXNpZ24gRXhjaGFuZ2UsIERvd250b3duIFRvcm9udG88L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzI5ZTM5M2I4MjRhYzRkYWJiZDdkMGJhMDViZmM3MDhhLnNldENvbnRlbnQoaHRtbF8zNGYwOWMzZTRmZmE0ZWFjODNiYWNiY2Q4MTA3YmU5NSk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl8yNzU0MjQwM2E1MWE0N2NjOWM0YzBkNmVkMGY0OTZlOS5iaW5kUG9wdXAocG9wdXBfMjllMzkzYjgyNGFjNGRhYmJkN2QwYmEwNWJmYzcwOGEpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfMDJkYTViZTdlMmQ0NDJmZDk2M2E1YzEzNTJmODEzMzIgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My42MzY4NDcyLC03OS40MjgxOTE0MDAwMDAwMl0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF80N2ZlNzcwM2UxZTU0YjA0YWFiYzIzMzg2NDUzZWM0Yik7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF9hZDJjYWU1ZTk2Nzc0ZGI4OTBhM2RiMzBlZmMwNzYzOCA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9jMjJmZmJkM2Y2NTU0Y2IxYmEzZjhhYTA0OWNjYzY1NiA9ICQoJzxkaXYgaWQ9Imh0bWxfYzIyZmZiZDNmNjU1NGNiMWJhM2Y4YWEwNDljY2M2NTYiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkJyb2NrdG9uLCBQYXJrZGFsZSBWaWxsYWdlLCBFeGhpYml0aW9uIFBsYWNlLCBXZXN0IFRvcm9udG88L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2FkMmNhZTVlOTY3NzRkYjg5MGEzZGIzMGVmYzA3NjM4LnNldENvbnRlbnQoaHRtbF9jMjJmZmJkM2Y2NTU0Y2IxYmEzZjhhYTA0OWNjYzY1Nik7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl8wMmRhNWJlN2UyZDQ0MmZkOTYzYTVjMTM1MmY4MTMzMi5iaW5kUG9wdXAocG9wdXBfYWQyY2FlNWU5Njc3NGRiODkwYTNkYjMwZWZjMDc2MzgpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfMTAwMWYwZjc5NDI0NDdhODk1OWE2Y2QyNGZkM2FiNTUgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My43MTExMTE3MDAwMDAwMDQsLTc5LjI4NDU3NzJdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfNDdmZTc3MDNlMWU1NGIwNGFhYmMyMzM4NjQ1M2VjNGIpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfNTAyZjE1YTM2OTdlNDFlZGE1ZTRlODFjODE2MGNjNTUgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfOTQwMTM5OGZjMGNhNDE0ZjkxOGU3M2JjZmQ5MWQ4ODMgPSAkKCc8ZGl2IGlkPSJodG1sXzk0MDEzOThmYzBjYTQxNGY5MThlNzNiY2ZkOTFkODgzIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5Hb2xkZW4gTWlsZSwgQ2xhaXJsZWEsIE9ha3JpZGdlLCBTY2FyYm9yb3VnaDwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfNTAyZjE1YTM2OTdlNDFlZGE1ZTRlODFjODE2MGNjNTUuc2V0Q29udGVudChodG1sXzk0MDEzOThmYzBjYTQxNGY5MThlNzNiY2ZkOTFkODgzKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzEwMDFmMGY3OTQyNDQ3YTg5NTlhNmNkMjRmZDNhYjU1LmJpbmRQb3B1cChwb3B1cF81MDJmMTVhMzY5N2U0MWVkYTVlNGU4MWM4MTYwY2M1NSk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl8zNDA3MDI1ZTM4N2Q0MTRkYmEzM2Q4N2Y1N2NhYTRkMiA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjc1NzQ5MDIsLTc5LjM3NDcxNDA5OTk5OTk5XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwXzQ3ZmU3NzAzZTFlNTRiMDRhYWJjMjMzODY0NTNlYzRiKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzYwY2M3Mzc5OGI5MDRkNDVhNTk2MzEyZmU1Y2IyN2Y2ID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzBiMGU5Y2QwOGZmNzQxYzc5N2RkNzQ4Njc2Y2U1MDk3ID0gJCgnPGRpdiBpZD0iaHRtbF8wYjBlOWNkMDhmZjc0MWM3OTdkZDc0ODY3NmNlNTA5NyIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+WW9yayBNaWxscywgU2lsdmVyIEhpbGxzLCBOb3J0aCBZb3JrPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF82MGNjNzM3OThiOTA0ZDQ1YTU5NjMxMmZlNWNiMjdmNi5zZXRDb250ZW50KGh0bWxfMGIwZTljZDA4ZmY3NDFjNzk3ZGQ3NDg2NzZjZTUwOTcpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfMzQwNzAyNWUzODdkNDE0ZGJhMzNkODdmNTdjYWE0ZDIuYmluZFBvcHVwKHBvcHVwXzYwY2M3Mzc5OGI5MDRkNDVhNTk2MzEyZmU1Y2IyN2Y2KTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzEyOThhYWNlZTkzYzRmYjRhMzIzNDdhZDM4YWJjZDQzID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNzM5MDE0NiwtNzkuNTA2OTQzNl0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF80N2ZlNzcwM2UxZTU0YjA0YWFiYzIzMzg2NDUzZWM0Yik7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF8wYmE5ZmVhNjFhYzE0MmRiOGEzMjliYWJlNzVmMDk5OCA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF84M2NkZDdmYzBjZWM0ODZiYjFiNmUzNDMzZGU4ZTMwMCA9ICQoJzxkaXYgaWQ9Imh0bWxfODNjZGQ3ZmMwY2VjNDg2YmIxYjZlMzQzM2RlOGUzMDAiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkRvd25zdmlldywgTm9ydGggWW9yazwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfMGJhOWZlYTYxYWMxNDJkYjhhMzI5YmFiZTc1ZjA5OTguc2V0Q29udGVudChodG1sXzgzY2RkN2ZjMGNlYzQ4NmJiMWI2ZTM0MzNkZThlMzAwKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzEyOThhYWNlZTkzYzRmYjRhMzIzNDdhZDM4YWJjZDQzLmJpbmRQb3B1cChwb3B1cF8wYmE5ZmVhNjFhYzE0MmRiOGEzMjliYWJlNzVmMDk5OCk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl9jZjI5N2QwNDhlMGM0ZTNjOTc5OGQ4NDAwYTdkZjg1MCA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjY2ODk5ODUsLTc5LjMxNTU3MTU5OTk5OTk4XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwXzQ3ZmU3NzAzZTFlNTRiMDRhYWJjMjMzODY0NTNlYzRiKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzhjNDRmNmIxNDczMzQ2ZjNhMDI4NGNhYzYyYWY3OWRlID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzZiYmM2NzVjYjBlZTQzYzhhYmQ5ZGVhMGE3NTg3YTQzID0gJCgnPGRpdiBpZD0iaHRtbF82YmJjNjc1Y2IwZWU0M2M4YWJkOWRlYTBhNzU4N2E0MyIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+SW5kaWEgQmF6YWFyLCBUaGUgQmVhY2hlcyBXZXN0LCBFYXN0IFRvcm9udG88L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzhjNDRmNmIxNDczMzQ2ZjNhMDI4NGNhYzYyYWY3OWRlLnNldENvbnRlbnQoaHRtbF82YmJjNjc1Y2IwZWU0M2M4YWJkOWRlYTBhNzU4N2E0Myk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl9jZjI5N2QwNDhlMGM0ZTNjOTc5OGQ4NDAwYTdkZjg1MC5iaW5kUG9wdXAocG9wdXBfOGM0NGY2YjE0NzMzNDZmM2EwMjg0Y2FjNjJhZjc5ZGUpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfZDFhMjQ3MTIwMzEwNGY1MTk1ZjQzYWJlM2M5YmYyMDIgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My42NDgxOTg1LC03OS4zNzk4MTY5MDAwMDAwMV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF80N2ZlNzcwM2UxZTU0YjA0YWFiYzIzMzg2NDUzZWM0Yik7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF8zMTZiOTY1OGY3OGE0YTk3ODkwZDI5ZGU5NGVlMTljNCA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF8wOTBmYWZjOGU3MjE0M2M3YThiYWY4MjI2NDViNzA3NSA9ICQoJzxkaXYgaWQ9Imh0bWxfMDkwZmFmYzhlNzIxNDNjN2E4YmFmODIyNjQ1YjcwNzUiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkNvbW1lcmNlIENvdXJ0LCBWaWN0b3JpYSBIb3RlbCwgRG93bnRvd24gVG9yb250bzwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfMzE2Yjk2NThmNzhhNGE5Nzg5MGQyOWRlOTRlZTE5YzQuc2V0Q29udGVudChodG1sXzA5MGZhZmM4ZTcyMTQzYzdhOGJhZjgyMjY0NWI3MDc1KTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyX2QxYTI0NzEyMDMxMDRmNTE5NWY0M2FiZTNjOWJmMjAyLmJpbmRQb3B1cChwb3B1cF8zMTZiOTY1OGY3OGE0YTk3ODkwZDI5ZGU5NGVlMTljNCk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl9kMTI4NDFlOGI0YzU0MmViYTIwMjFiMGUwZWY5ZDY0MCA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjcxMzc1NjIwMDAwMDAwNiwtNzkuNDkwMDczOF0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF80N2ZlNzcwM2UxZTU0YjA0YWFiYzIzMzg2NDUzZWM0Yik7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF8zZTUxOTljM2Q3MWE0OWMxODcyMTY3NWMyNTE5ODRkNiA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF81ZWZhZmU3YmEwZDg0YWYzYjYyMDBlODVmNjIwODE4ZiA9ICQoJzxkaXYgaWQ9Imh0bWxfNWVmYWZlN2JhMGQ4NGFmM2I2MjAwZTg1ZjYyMDgxOGYiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPk5vcnRoIFBhcmssIE1hcGxlIExlYWYgUGFyaywgVXB3b29kIFBhcmssIE5vcnRoIFlvcms8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzNlNTE5OWMzZDcxYTQ5YzE4NzIxNjc1YzI1MTk4NGQ2LnNldENvbnRlbnQoaHRtbF81ZWZhZmU3YmEwZDg0YWYzYjYyMDBlODVmNjIwODE4Zik7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl9kMTI4NDFlOGI0YzU0MmViYTIwMjFiMGUwZWY5ZDY0MC5iaW5kUG9wdXAocG9wdXBfM2U1MTk5YzNkNzFhNDljMTg3MjE2NzVjMjUxOTg0ZDYpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfYTQ3Mzk1YjMxZTJjNGQ4ZDkwNDdkNzZiYmRiMmRkMTggPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My43NTYzMDMzLC03OS41NjU5NjMyOTk5OTk5OV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF80N2ZlNzcwM2UxZTU0YjA0YWFiYzIzMzg2NDUzZWM0Yik7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF9lNThjYTg0NWQwODI0ZTVjYjBmNzJhYjNiOGViMzRiZSA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF8yYWQzMjNhYzQ0NjE0ZTg2YmQyYTc5MjJkZDAyMjRiOCA9ICQoJzxkaXYgaWQ9Imh0bWxfMmFkMzIzYWM0NDYxNGU4NmJkMmE3OTIyZGQwMjI0YjgiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkh1bWJlciBTdW1taXQsIE5vcnRoIFlvcms8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2U1OGNhODQ1ZDA4MjRlNWNiMGY3MmFiM2I4ZWIzNGJlLnNldENvbnRlbnQoaHRtbF8yYWQzMjNhYzQ0NjE0ZTg2YmQyYTc5MjJkZDAyMjRiOCk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl9hNDczOTViMzFlMmM0ZDhkOTA0N2Q3NmJiZGIyZGQxOC5iaW5kUG9wdXAocG9wdXBfZTU4Y2E4NDVkMDgyNGU1Y2IwZjcyYWIzYjhlYjM0YmUpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfOTUyMDZmMTE2MGNiNDkzNjhlYzJiNjViYjk0NzAyMmIgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My43MTYzMTYsLTc5LjIzOTQ3NjA5OTk5OTk5XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwXzQ3ZmU3NzAzZTFlNTRiMDRhYWJjMjMzODY0NTNlYzRiKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzg1Y2Q1MDUxMDc4NzQ1Yjg4MWVmZTZhYmY0YjI5YzkwID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzViM2U5NzhmM2EzMTQ2ZTY5ZjFmZTVkZmJjNWMzNzhjID0gJCgnPGRpdiBpZD0iaHRtbF81YjNlOTc4ZjNhMzE0NmU2OWYxZmU1ZGZiYzVjMzc4YyIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+Q2xpZmZzaWRlLCBDbGlmZmNyZXN0LCBTY2FyYm9yb3VnaCBWaWxsYWdlIFdlc3QsIFNjYXJib3JvdWdoPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF84NWNkNTA1MTA3ODc0NWI4ODFlZmU2YWJmNGIyOWM5MC5zZXRDb250ZW50KGh0bWxfNWIzZTk3OGYzYTMxNDZlNjlmMWZlNWRmYmM1YzM3OGMpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfOTUyMDZmMTE2MGNiNDkzNjhlYzJiNjViYjk0NzAyMmIuYmluZFBvcHVwKHBvcHVwXzg1Y2Q1MDUxMDc4NzQ1Yjg4MWVmZTZhYmY0YjI5YzkwKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzExNmUwMmExYjYzZTQzZTRiMjFkZGE4MjY1MmFmN2UyID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNzg5MDUzLC03OS40MDg0OTI3OTk5OTk5OV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF80N2ZlNzcwM2UxZTU0YjA0YWFiYzIzMzg2NDUzZWM0Yik7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF9kZDQwYzM1NTcxZmU0ZjVlOWY1NTc1MzUwNGY1YmZkZCA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF85ODk4NjM4NWIyYzc0YjUxODY5MzQ5YzNiMWU0NGVkZiA9ICQoJzxkaXYgaWQ9Imh0bWxfOTg5ODYzODViMmM3NGI1MTg2OTM0OWMzYjFlNDRlZGYiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPldpbGxvd2RhbGUsIE5ld3RvbmJyb29rLCBOb3J0aCBZb3JrPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF9kZDQwYzM1NTcxZmU0ZjVlOWY1NTc1MzUwNGY1YmZkZC5zZXRDb250ZW50KGh0bWxfOTg5ODYzODViMmM3NGI1MTg2OTM0OWMzYjFlNDRlZGYpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfMTE2ZTAyYTFiNjNlNDNlNGIyMWRkYTgyNjUyYWY3ZTIuYmluZFBvcHVwKHBvcHVwX2RkNDBjMzU1NzFmZTRmNWU5ZjU1NzUzNTA0ZjViZmRkKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzViYmFlOWUyODY4NDQzYmNhOWVmNzU2MGMwY2RkNmMyID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNzI4NDk2NCwtNzkuNDk1Njk3NDAwMDAwMDFdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfNDdmZTc3MDNlMWU1NGIwNGFhYmMyMzM4NjQ1M2VjNGIpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfNWM4MjliOTMwMTYyNDNmNDk2MmIxMmNhNjMzZDIzNzkgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfODgxN2FiNjZlN2M2NGNiOTgyOTBkNTM3M2YxMTg1NzcgPSAkKCc8ZGl2IGlkPSJodG1sXzg4MTdhYjY2ZTdjNjRjYjk4MjkwZDUzNzNmMTE4NTc3IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5Eb3duc3ZpZXcsIE5vcnRoIFlvcms8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzVjODI5YjkzMDE2MjQzZjQ5NjJiMTJjYTYzM2QyMzc5LnNldENvbnRlbnQoaHRtbF84ODE3YWI2NmU3YzY0Y2I5ODI5MGQ1MzczZjExODU3Nyk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl81YmJhZTllMjg2ODQ0M2JjYTllZjc1NjBjMGNkZDZjMi5iaW5kUG9wdXAocG9wdXBfNWM4MjliOTMwMTYyNDNmNDk2MmIxMmNhNjMzZDIzNzkpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfOTQwMTdlOWY5NTRkNGY5OTk0OGI4NDBiOTlkOTQwOGIgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My42NTk1MjU1LC03OS4zNDA5MjNdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfNDdmZTc3MDNlMWU1NGIwNGFhYmMyMzM4NjQ1M2VjNGIpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfNTQ3NDJhMTMyNTc2NDM1MmEyOWQ5ODYyMjY3MGUxYTggPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfN2U3MmQxNGJjYWI0NGZhMGI4YTRlN2MzNDY1ZjZhN2UgPSAkKCc8ZGl2IGlkPSJodG1sXzdlNzJkMTRiY2FiNDRmYTBiOGE0ZTdjMzQ2NWY2YTdlIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5TdHVkaW8gRGlzdHJpY3QsIEVhc3QgVG9yb250bzwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfNTQ3NDJhMTMyNTc2NDM1MmEyOWQ5ODYyMjY3MGUxYTguc2V0Q29udGVudChodG1sXzdlNzJkMTRiY2FiNDRmYTBiOGE0ZTdjMzQ2NWY2YTdlKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzk0MDE3ZTlmOTU0ZDRmOTk5NDhiODQwYjk5ZDk0MDhiLmJpbmRQb3B1cChwb3B1cF81NDc0MmExMzI1NzY0MzUyYTI5ZDk4NjIyNjcwZTFhOCk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl8zYjU5YjMyMjIyYzM0NmNmODgzZTAxMTIzNDdkZGQ4MiA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjczMzI4MjUsLTc5LjQxOTc0OTddLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfNDdmZTc3MDNlMWU1NGIwNGFhYmMyMzM4NjQ1M2VjNGIpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfY2ZmYThhMGIyNzkzNGY4YWFlYzk2MTVmZGQ0NTRjZTkgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfZTU2MTY4NzM2MWQxNDI0MTkxNDA3ZGRkYmZhM2QxYzEgPSAkKCc8ZGl2IGlkPSJodG1sX2U1NjE2ODczNjFkMTQyNDE5MTQwN2RkZGJmYTNkMWMxIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5CZWRmb3JkIFBhcmssIExhd3JlbmNlIE1hbm9yIEVhc3QsIE5vcnRoIFlvcms8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2NmZmE4YTBiMjc5MzRmOGFhZWM5NjE1ZmRkNDU0Y2U5LnNldENvbnRlbnQoaHRtbF9lNTYxNjg3MzYxZDE0MjQxOTE0MDdkZGRiZmEzZDFjMSk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl8zYjU5YjMyMjIyYzM0NmNmODgzZTAxMTIzNDdkZGQ4Mi5iaW5kUG9wdXAocG9wdXBfY2ZmYThhMGIyNzkzNGY4YWFlYzk2MTVmZGQ0NTRjZTkpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfM2E5N2E2NDRkM2JiNDRjYTk0YjQ2YTViNGQwNGYwMTkgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My42OTExMTU4LC03OS40NzYwMTMyOTk5OTk5OV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF80N2ZlNzcwM2UxZTU0YjA0YWFiYzIzMzg2NDUzZWM0Yik7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF8wMWMzNzllNzk3MmY0NmIwYmI4MDRkOTI1M2VhMzA5MCA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF83YzhjNzdhZmFlOTg0ZWEzYjcwNmQ0NDczMjAxMGUyMiA9ICQoJzxkaXYgaWQ9Imh0bWxfN2M4Yzc3YWZhZTk4NGVhM2I3MDZkNDQ3MzIwMTBlMjIiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkRlbCBSYXksIE1vdW50IERlbm5pcywgS2VlbHNkYWxlIGFuZCBTaWx2ZXJ0aG9ybiwgWW9yazwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfMDFjMzc5ZTc5NzJmNDZiMGJiODA0ZDkyNTNlYTMwOTAuc2V0Q29udGVudChodG1sXzdjOGM3N2FmYWU5ODRlYTNiNzA2ZDQ0NzMyMDEwZTIyKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzNhOTdhNjQ0ZDNiYjQ0Y2E5NGI0NmE1YjRkMDRmMDE5LmJpbmRQb3B1cChwb3B1cF8wMWMzNzllNzk3MmY0NmIwYmI4MDRkOTI1M2VhMzA5MCk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl8wZDI4NTg1MWYzNTY0YmQ4YjhlYTM0ZGQxNjNiMDBlNiA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjcyNDc2NTksLTc5LjUzMjI0MjQwMDAwMDAyXSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwXzQ3ZmU3NzAzZTFlNTRiMDRhYWJjMjMzODY0NTNlYzRiKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzdiN2Y2ZjRjM2Q4NzQ3MmViNjg4ZDMzYzVhZWFlZDg0ID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sX2ViOWNjOWI1YWNkZDQ2MzY5YWVkYzViMjk0MWMyMTdkID0gJCgnPGRpdiBpZD0iaHRtbF9lYjljYzliNWFjZGQ0NjM2OWFlZGM1YjI5NDFjMjE3ZCIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+SHVtYmVybGVhLCBFbWVyeSwgTm9ydGggWW9yazwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfN2I3ZjZmNGMzZDg3NDcyZWI2ODhkMzNjNWFlYWVkODQuc2V0Q29udGVudChodG1sX2ViOWNjOWI1YWNkZDQ2MzY5YWVkYzViMjk0MWMyMTdkKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzBkMjg1ODUxZjM1NjRiZDhiOGVhMzRkZDE2M2IwMGU2LmJpbmRQb3B1cChwb3B1cF83YjdmNmY0YzNkODc0NzJlYjY4OGQzM2M1YWVhZWQ4NCk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl82ODRjZjU1YmQ4NDQ0MDY0YTE1MDBmZmEzYmY0MzhkYSA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjY5MjY1NzAwMDAwMDAwNCwtNzkuMjY0ODQ4MV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF80N2ZlNzcwM2UxZTU0YjA0YWFiYzIzMzg2NDUzZWM0Yik7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF8yYTg1ODlkNzEzY2M0ZWJlOWM5NWI5NDZmZTIxNzQ5MyA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF81MWYxZDkzNmYxMDU0ZDI5ODcxYTE3YzQ1MzRjMmUxZiA9ICQoJzxkaXYgaWQ9Imh0bWxfNTFmMWQ5MzZmMTA1NGQyOTg3MWExN2M0NTM0YzJlMWYiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkJpcmNoIENsaWZmLCBDbGlmZnNpZGUgV2VzdCwgU2NhcmJvcm91Z2g8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzJhODU4OWQ3MTNjYzRlYmU5Yzk1Yjk0NmZlMjE3NDkzLnNldENvbnRlbnQoaHRtbF81MWYxZDkzNmYxMDU0ZDI5ODcxYTE3YzQ1MzRjMmUxZik7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl82ODRjZjU1YmQ4NDQ0MDY0YTE1MDBmZmEzYmY0MzhkYS5iaW5kUG9wdXAocG9wdXBfMmE4NTg5ZDcxM2NjNGViZTljOTViOTQ2ZmUyMTc0OTMpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfMGY4OTJlMDYxNWE4NDhjNWJlN2Y4OWIzYzkxMmMzMGMgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My43NzAxMTk5LC03OS40MDg0OTI3OTk5OTk5OV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF80N2ZlNzcwM2UxZTU0YjA0YWFiYzIzMzg2NDUzZWM0Yik7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF9iNjVmYTllZmU4Mjg0MTczYjU4NTMwMmM4MWYwNjVkZCA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF82MDlhZTA4ZjA2MzA0YjRiYjg3OTQwNzg3MmFkNGEzYyA9ICQoJzxkaXYgaWQ9Imh0bWxfNjA5YWUwOGYwNjMwNGI0YmI4Nzk0MDc4NzJhZDRhM2MiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPldpbGxvd2RhbGUsIFdpbGxvd2RhbGUgRWFzdCwgTm9ydGggWW9yazwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfYjY1ZmE5ZWZlODI4NDE3M2I1ODUzMDJjODFmMDY1ZGQuc2V0Q29udGVudChodG1sXzYwOWFlMDhmMDYzMDRiNGJiODc5NDA3ODcyYWQ0YTNjKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzBmODkyZTA2MTVhODQ4YzViZTdmODliM2M5MTJjMzBjLmJpbmRQb3B1cChwb3B1cF9iNjVmYTllZmU4Mjg0MTczYjU4NTMwMmM4MWYwNjVkZCk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl9mN2NmZjZlMDkxNWQ0ZmZlYjIxYmJlNmM2MDE3YjBjNCA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjc2MTYzMTMsLTc5LjUyMDk5OTQwMDAwMDAxXSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwXzQ3ZmU3NzAzZTFlNTRiMDRhYWJjMjMzODY0NTNlYzRiKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzZjOWQwMWQ1ZmViMTQ4MzBiNDM1MGI5ZDY5OTZkZGU4ID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sX2M3ZDIwMTc0YTAwMTQxYWY4NTFkODBkZTgzOWNkMjYxID0gJCgnPGRpdiBpZD0iaHRtbF9jN2QyMDE3NGEwMDE0MWFmODUxZDgwZGU4MzljZDI2MSIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+RG93bnN2aWV3LCBOb3J0aCBZb3JrPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF82YzlkMDFkNWZlYjE0ODMwYjQzNTBiOWQ2OTk2ZGRlOC5zZXRDb250ZW50KGh0bWxfYzdkMjAxNzRhMDAxNDFhZjg1MWQ4MGRlODM5Y2QyNjEpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfZjdjZmY2ZTA5MTVkNGZmZWIyMWJiZTZjNjAxN2IwYzQuYmluZFBvcHVwKHBvcHVwXzZjOWQwMWQ1ZmViMTQ4MzBiNDM1MGI5ZDY5OTZkZGU4KTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyX2YxMWQwYzU0NDYwMTQ4NjVhMGUyNDI2OTJlOTY4N2Y1ID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNzI4MDIwNSwtNzkuMzg4NzkwMV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF80N2ZlNzcwM2UxZTU0YjA0YWFiYzIzMzg2NDUzZWM0Yik7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF8xYmU3Nzg0MjYwZjA0MDI5OWYxMmQ2Y2RmNDAwMWQ3MyA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9jYmJmMWZlN2IwNWU0MmYwYTVjMzFmMzZkOGIyYWIwNyA9ICQoJzxkaXYgaWQ9Imh0bWxfY2JiZjFmZTdiMDVlNDJmMGE1YzMxZjM2ZDhiMmFiMDciIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkxhd3JlbmNlIFBhcmssIENlbnRyYWwgVG9yb250bzwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfMWJlNzc4NDI2MGYwNDAyOTlmMTJkNmNkZjQwMDFkNzMuc2V0Q29udGVudChodG1sX2NiYmYxZmU3YjA1ZTQyZjBhNWMzMWYzNmQ4YjJhYjA3KTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyX2YxMWQwYzU0NDYwMTQ4NjVhMGUyNDI2OTJlOTY4N2Y1LmJpbmRQb3B1cChwb3B1cF8xYmU3Nzg0MjYwZjA0MDI5OWYxMmQ2Y2RmNDAwMWQ3Myk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl85OGMzODU4NjE4NmM0Nzk2YTQ1ODczNWZhZTJkZTA2NyA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjcxMTY5NDgsLTc5LjQxNjkzNTU5OTk5OTk5XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwXzQ3ZmU3NzAzZTFlNTRiMDRhYWJjMjMzODY0NTNlYzRiKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwX2YxODBlZGRmNWI3MjRkYTViZjcxNDVkZjQ0ODFmNmUyID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzRlOGQ4NDEzMWIzYjRlY2ZhZTlkM2NmYmQzYWIyNWRiID0gJCgnPGRpdiBpZD0iaHRtbF80ZThkODQxMzFiM2I0ZWNmYWU5ZDNjZmJkM2FiMjVkYiIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+Um9zZWxhd24sIENlbnRyYWwgVG9yb250bzwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfZjE4MGVkZGY1YjcyNGRhNWJmNzE0NWRmNDQ4MWY2ZTIuc2V0Q29udGVudChodG1sXzRlOGQ4NDEzMWIzYjRlY2ZhZTlkM2NmYmQzYWIyNWRiKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzk4YzM4NTg2MTg2YzQ3OTZhNDU4NzM1ZmFlMmRlMDY3LmJpbmRQb3B1cChwb3B1cF9mMTgwZWRkZjViNzI0ZGE1YmY3MTQ1ZGY0NDgxZjZlMik7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl9kYzFlYjRkNzMxOTQ0MDcyOTM5NTgzOWIyNjM2M2JkZCA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjY3MzE4NTI5OTk5OTk5LC03OS40ODcyNjE5MDAwMDAwMV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF80N2ZlNzcwM2UxZTU0YjA0YWFiYzIzMzg2NDUzZWM0Yik7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF9hNWY0YjI5YzJhZWY0Zjc2OGY3OTlhNTMyYzc4MzA0YiA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF84YjE0YjgxMmQ2N2Y0ZjhlODVjYWUxMWRjODcyNTRiOSA9ICQoJzxkaXYgaWQ9Imh0bWxfOGIxNGI4MTJkNjdmNGY4ZTg1Y2FlMTFkYzg3MjU0YjkiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPlJ1bm55bWVkZSwgVGhlIEp1bmN0aW9uIE5vcnRoLCBZb3JrPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF9hNWY0YjI5YzJhZWY0Zjc2OGY3OTlhNTMyYzc4MzA0Yi5zZXRDb250ZW50KGh0bWxfOGIxNGI4MTJkNjdmNGY4ZTg1Y2FlMTFkYzg3MjU0YjkpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfZGMxZWI0ZDczMTk0NDA3MjkzOTU4MzliMjYzNjNiZGQuYmluZFBvcHVwKHBvcHVwX2E1ZjRiMjljMmFlZjRmNzY4Zjc5OWE1MzJjNzgzMDRiKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyX2VlMWQwODExYTZhYzRkZWI5NmJmZTZiYTY5NDBhNTY2ID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNzA2ODc2LC03OS41MTgxODg0MDAwMDAwMV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF80N2ZlNzcwM2UxZTU0YjA0YWFiYzIzMzg2NDUzZWM0Yik7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF84ZDE5NTliNTU5MGQ0ZmNmOWMzNDVhYmFjN2MwZDdkNyA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF8xZDFiNjYxMTEwZmI0MzhiYjRkMzU4ZTZlODBkZTE2OSA9ICQoJzxkaXYgaWQ9Imh0bWxfMWQxYjY2MTExMGZiNDM4YmI0ZDM1OGU2ZTgwZGUxNjkiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPldlc3RvbiwgWW9yazwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfOGQxOTU5YjU1OTBkNGZjZjljMzQ1YWJhYzdjMGQ3ZDcuc2V0Q29udGVudChodG1sXzFkMWI2NjExMTBmYjQzOGJiNGQzNThlNmU4MGRlMTY5KTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyX2VlMWQwODExYTZhYzRkZWI5NmJmZTZiYTY5NDBhNTY2LmJpbmRQb3B1cChwb3B1cF84ZDE5NTliNTU5MGQ0ZmNmOWMzNDVhYmFjN2MwZDdkNyk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl9mNjdkN2NmM2FlNDI0ZGViOWU2OGRlMzFhMzBkYWJkYSA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjc1NzQwOTYsLTc5LjI3MzMwNDAwMDAwMDAxXSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwXzQ3ZmU3NzAzZTFlNTRiMDRhYWJjMjMzODY0NTNlYzRiKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzk5OTM0ZmJkNmYyNjRiOWE5NDBlN2JjNzM0MTkzMGMzID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzY5ODUxOTI3YjY3NTQyMTk5NjJlOWU3OTQwOGE1OWY1ID0gJCgnPGRpdiBpZD0iaHRtbF82OTg1MTkyN2I2NzU0MjE5OTYyZTllNzk0MDhhNTlmNSIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+RG9yc2V0IFBhcmssIFdleGZvcmQgSGVpZ2h0cywgU2NhcmJvcm91Z2ggVG93biBDZW50cmUsIFNjYXJib3JvdWdoPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF85OTkzNGZiZDZmMjY0YjlhOTQwZTdiYzczNDE5MzBjMy5zZXRDb250ZW50KGh0bWxfNjk4NTE5MjdiNjc1NDIxOTk2MmU5ZTc5NDA4YTU5ZjUpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfZjY3ZDdjZjNhZTQyNGRlYjllNjhkZTMxYTMwZGFiZGEuYmluZFBvcHVwKHBvcHVwXzk5OTM0ZmJkNmYyNjRiOWE5NDBlN2JjNzM0MTkzMGMzKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzc4ZGI3N2I3NzJlNjQ0NWVhODMxMDYxZTVjOGFmZDEyID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNzUyNzU4Mjk5OTk5OTk2LC03OS40MDAwNDkzXSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwXzQ3ZmU3NzAzZTFlNTRiMDRhYWJjMjMzODY0NTNlYzRiKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzU4ZjdkOGIzM2ZjNjQzMGRiOTNjOWE3NDkzNmI3OWUzID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sX2Q5YjcxOGU0Njg2ZDQ4ODFiM2Y1MDFkYWFiNjA2ODZjID0gJCgnPGRpdiBpZD0iaHRtbF9kOWI3MThlNDY4NmQ0ODgxYjNmNTAxZGFhYjYwNjg2YyIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+WW9yayBNaWxscyBXZXN0LCBOb3J0aCBZb3JrPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF81OGY3ZDhiMzNmYzY0MzBkYjkzYzlhNzQ5MzZiNzllMy5zZXRDb250ZW50KGh0bWxfZDliNzE4ZTQ2ODZkNDg4MWIzZjUwMWRhYWI2MDY4NmMpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfNzhkYjc3Yjc3MmU2NDQ1ZWE4MzEwNjFlNWM4YWZkMTIuYmluZFBvcHVwKHBvcHVwXzU4ZjdkOGIzM2ZjNjQzMGRiOTNjOWE3NDkzNmI3OWUzKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzBlMGFjZjI4NjMwNTQwNjRiN2NmN2E2YzE2OTNjMzVkID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNzEyNzUxMSwtNzkuMzkwMTk3NV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF80N2ZlNzcwM2UxZTU0YjA0YWFiYzIzMzg2NDUzZWM0Yik7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF81ZGQyMmQxZGU5NDU0ZTIyOTk5YWU5Mzc2ZmNjMWY2YyA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9jYTUzNjViYjkzMjQ0N2QwYWNhOWY4ZDZkMmNiODc1YiA9ICQoJzxkaXYgaWQ9Imh0bWxfY2E1MzY1YmI5MzI0NDdkMGFjYTlmOGQ2ZDJjYjg3NWIiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkRhdmlzdmlsbGUgTm9ydGgsIENlbnRyYWwgVG9yb250bzwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfNWRkMjJkMWRlOTQ1NGUyMjk5OWFlOTM3NmZjYzFmNmMuc2V0Q29udGVudChodG1sX2NhNTM2NWJiOTMyNDQ3ZDBhY2E5ZjhkNmQyY2I4NzViKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzBlMGFjZjI4NjMwNTQwNjRiN2NmN2E2YzE2OTNjMzVkLmJpbmRQb3B1cChwb3B1cF81ZGQyMmQxZGU5NDU0ZTIyOTk5YWU5Mzc2ZmNjMWY2Yyk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl80OWM2MjQyNjEzM2U0ODc2OGUyZTFlMjM2Y2NjYTNiOCA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjY5Njk0NzYsLTc5LjQxMTMwNzIwMDAwMDAxXSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwXzQ3ZmU3NzAzZTFlNTRiMDRhYWJjMjMzODY0NTNlYzRiKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzBiOTE0M2M3MGQyMzQzZWFhODIzMDVhMTVhMDI4NWNhID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sX2FkNWI3MWUzNWQ2YTQ4OWU5MGMwMTQyODM4ZWJkNWE4ID0gJCgnPGRpdiBpZD0iaHRtbF9hZDViNzFlMzVkNmE0ODllOTBjMDE0MjgzOGViZDVhOCIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+Rm9yZXN0IEhpbGwgTm9ydGggJmFtcDsgV2VzdCwgRm9yZXN0IEhpbGwgUm9hZCBQYXJrLCBDZW50cmFsIFRvcm9udG88L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzBiOTE0M2M3MGQyMzQzZWFhODIzMDVhMTVhMDI4NWNhLnNldENvbnRlbnQoaHRtbF9hZDViNzFlMzVkNmE0ODllOTBjMDE0MjgzOGViZDVhOCk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl80OWM2MjQyNjEzM2U0ODc2OGUyZTFlMjM2Y2NjYTNiOC5iaW5kUG9wdXAocG9wdXBfMGI5MTQzYzcwZDIzNDNlYWE4MjMwNWExNWEwMjg1Y2EpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfZjQ5YzUwM2QwM2M1NDM4NzhlYzA4YjM1NDgwMDc3OTUgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My42NjE2MDgzLC03OS40NjQ3NjMyOTk5OTk5OV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF80N2ZlNzcwM2UxZTU0YjA0YWFiYzIzMzg2NDUzZWM0Yik7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF82ZDA5NTE4YTRhZGQ0OWE4ODgyOGUwY2YyZDQ5NGMwOSA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF8yZjEzMzYyMDdmODM0NTAxYTUzNTU0MjVlZWNkNTRiOCA9ICQoJzxkaXYgaWQ9Imh0bWxfMmYxMzM2MjA3ZjgzNDUwMWE1MzU1NDI1ZWVjZDU0YjgiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkhpZ2ggUGFyaywgVGhlIEp1bmN0aW9uIFNvdXRoLCBXZXN0IFRvcm9udG88L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzZkMDk1MThhNGFkZDQ5YTg4ODI4ZTBjZjJkNDk0YzA5LnNldENvbnRlbnQoaHRtbF8yZjEzMzYyMDdmODM0NTAxYTUzNTU0MjVlZWNkNTRiOCk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl9mNDljNTAzZDAzYzU0Mzg3OGVjMDhiMzU0ODAwNzc5NS5iaW5kUG9wdXAocG9wdXBfNmQwOTUxOGE0YWRkNDlhODg4MjhlMGNmMmQ0OTRjMDkpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfZmMyZTE1YTgwZWNiNDFjYWIwZTk0YjFjYjIzY2U2M2QgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My42OTYzMTksLTc5LjUzMjI0MjQwMDAwMDAyXSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwXzQ3ZmU3NzAzZTFlNTRiMDRhYWJjMjMzODY0NTNlYzRiKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwX2I1NTY1ODViODhiYzQ1ODk5YjYxMWY3Y2M2NGM5YjU5ID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzQ0MjgzZmQ1NmY0MTQyNjk4ZGZhNjY5MmYyMjI4NTFiID0gJCgnPGRpdiBpZD0iaHRtbF80NDI4M2ZkNTZmNDE0MjY5OGRmYTY2OTJmMjIyODUxYiIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+V2VzdG1vdW50LCBFdG9iaWNva2U8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2I1NTY1ODViODhiYzQ1ODk5YjYxMWY3Y2M2NGM5YjU5LnNldENvbnRlbnQoaHRtbF80NDI4M2ZkNTZmNDE0MjY5OGRmYTY2OTJmMjIyODUxYik7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl9mYzJlMTVhODBlY2I0MWNhYjBlOTRiMWNiMjNjZTYzZC5iaW5kUG9wdXAocG9wdXBfYjU1NjU4NWI4OGJjNDU4OTliNjExZjdjYzY0YzliNTkpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfNzY4YTMxODNiN2M4NDNkZDg5YzRkNGNiNDZiODQ0NTEgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My43NTAwNzE1MDAwMDAwMDQsLTc5LjI5NTg0OTFdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfNDdmZTc3MDNlMWU1NGIwNGFhYmMyMzM4NjQ1M2VjNGIpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfMTlhNDM2OGE5YWI3NGZlZGFlYTcyMGIzZjg5ZjRkMDYgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfNzM3ZTYwMzRjNDZkNGQxOGExYTFjNzE3ODgwNmEyYjEgPSAkKCc8ZGl2IGlkPSJodG1sXzczN2U2MDM0YzQ2ZDRkMThhMWExYzcxNzg4MDZhMmIxIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5XZXhmb3JkLCBNYXJ5dmFsZSwgU2NhcmJvcm91Z2g8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzE5YTQzNjhhOWFiNzRmZWRhZWE3MjBiM2Y4OWY0ZDA2LnNldENvbnRlbnQoaHRtbF83MzdlNjAzNGM0NmQ0ZDE4YTFhMWM3MTc4ODA2YTJiMSk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl83NjhhMzE4M2I3Yzg0M2RkODljNGQ0Y2I0NmI4NDQ1MS5iaW5kUG9wdXAocG9wdXBfMTlhNDM2OGE5YWI3NGZlZGFlYTcyMGIzZjg5ZjRkMDYpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfNGE5YTg0ZTEzZTNjNGFhOWEwYjJiNTk2ZjBiYWFlYTMgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My43ODI3MzY0LC03OS40NDIyNTkzXSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwXzQ3ZmU3NzAzZTFlNTRiMDRhYWJjMjMzODY0NTNlYzRiKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzkxMWI1ZmE5OTM1ODQyMTA4NGY5NDIyM2JlN2NhOTdkID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzVlYTk1NTk4YThhZDQ3NjY5ZmNkMzVkYTRmZTc1YjJlID0gJCgnPGRpdiBpZD0iaHRtbF81ZWE5NTU5OGE4YWQ0NzY2OWZjZDM1ZGE0ZmU3NWIyZSIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+V2lsbG93ZGFsZSwgV2lsbG93ZGFsZSBXZXN0LCBOb3J0aCBZb3JrPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF85MTFiNWZhOTkzNTg0MjEwODRmOTQyMjNiZTdjYTk3ZC5zZXRDb250ZW50KGh0bWxfNWVhOTU1OThhOGFkNDc2NjlmY2QzNWRhNGZlNzViMmUpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfNGE5YTg0ZTEzZTNjNGFhOWEwYjJiNTk2ZjBiYWFlYTMuYmluZFBvcHVwKHBvcHVwXzkxMWI1ZmE5OTM1ODQyMTA4NGY5NDIyM2JlN2NhOTdkKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzY4ZDE0NWY5MmE3NTQyOGFiNzU1OWQyODI2YTc0MjJhID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNzE1MzgzNCwtNzkuNDA1Njc4NDAwMDAwMDFdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfNDdmZTc3MDNlMWU1NGIwNGFhYmMyMzM4NjQ1M2VjNGIpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfMTdkOTE0YmQyYjJhNGRiZmI3MTM1YjZlMTg0YjlhNzIgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfOGFkZDQ5MjA3YzY3NDc0ZjgzODBiMGNjOTgwOTdmMGUgPSAkKCc8ZGl2IGlkPSJodG1sXzhhZGQ0OTIwN2M2NzQ3NGY4MzgwYjBjYzk4MDk3ZjBlIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5Ob3J0aCBUb3JvbnRvIFdlc3QsICBMYXdyZW5jZSBQYXJrLCBDZW50cmFsIFRvcm9udG88L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzE3ZDkxNGJkMmIyYTRkYmZiNzEzNWI2ZTE4NGI5YTcyLnNldENvbnRlbnQoaHRtbF84YWRkNDkyMDdjNjc0NzRmODM4MGIwY2M5ODA5N2YwZSk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl82OGQxNDVmOTJhNzU0MjhhYjc1NTlkMjgyNmE3NDIyYS5iaW5kUG9wdXAocG9wdXBfMTdkOTE0YmQyYjJhNGRiZmI3MTM1YjZlMTg0YjlhNzIpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfOGRiODUzYmU3ZjE4NDBlOTg4ZWJmMzM1YmEzN2IwOWUgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My42NzI3MDk3LC03OS40MDU2Nzg0MDAwMDAwMV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF80N2ZlNzcwM2UxZTU0YjA0YWFiYzIzMzg2NDUzZWM0Yik7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF9mM2Q0MDhjMTkxZDM0ZjYyODI4YTk3ZDAwMTdmZDA2MyA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF84ODdjODc3Nzc1ZTk0ZGJhODI1MWY0ZWY3ZTkwZDA1NyA9ICQoJzxkaXYgaWQ9Imh0bWxfODg3Yzg3Nzc3NWU5NGRiYTgyNTFmNGVmN2U5MGQwNTciIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPlRoZSBBbm5leCwgTm9ydGggTWlkdG93biwgWW9ya3ZpbGxlLCBDZW50cmFsIFRvcm9udG88L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2YzZDQwOGMxOTFkMzRmNjI4MjhhOTdkMDAxN2ZkMDYzLnNldENvbnRlbnQoaHRtbF84ODdjODc3Nzc1ZTk0ZGJhODI1MWY0ZWY3ZTkwZDA1Nyk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl84ZGI4NTNiZTdmMTg0MGU5ODhlYmYzMzViYTM3YjA5ZS5iaW5kUG9wdXAocG9wdXBfZjNkNDA4YzE5MWQzNGY2MjgyOGE5N2QwMDE3ZmQwNjMpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfMzE2MDA5NmVlYzc4NDRlNjlkMmU0MjQzYmYyMzhjZmQgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My42NDg5NTk3LC03OS40NTYzMjVdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfNDdmZTc3MDNlMWU1NGIwNGFhYmMyMzM4NjQ1M2VjNGIpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfZjIyZTg5YWRkMDExNGU5YWExOTg0ZDM0Mjc1N2EyZTIgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfYTMwMDljNjM2YTZiNDdhNTkyNzFkOGVjYjRkNDdmN2MgPSAkKCc8ZGl2IGlkPSJodG1sX2EzMDA5YzYzNmE2YjQ3YTU5MjcxZDhlY2I0ZDQ3ZjdjIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5QYXJrZGFsZSwgUm9uY2VzdmFsbGVzLCBXZXN0IFRvcm9udG88L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2YyMmU4OWFkZDAxMTRlOWFhMTk4NGQzNDI3NTdhMmUyLnNldENvbnRlbnQoaHRtbF9hMzAwOWM2MzZhNmI0N2E1OTI3MWQ4ZWNiNGQ0N2Y3Yyk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl8zMTYwMDk2ZWVjNzg0NGU2OWQyZTQyNDNiZjIzOGNmZC5iaW5kUG9wdXAocG9wdXBfZjIyZTg5YWRkMDExNGU5YWExOTg0ZDM0Mjc1N2EyZTIpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfOGQwNGU5ODQwMzk1NGE1YTgzZTE5MzdmZWQ2YmE3NDIgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My42MzY5NjU2LC03OS42MTU4MTg5OTk5OTk5OV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF80N2ZlNzcwM2UxZTU0YjA0YWFiYzIzMzg2NDUzZWM0Yik7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF8xN2RiMTI4MzY2MTA0MmM0YWU1NjYyZWZkOTQ4OTlhMCA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9iMjUxZGJjMzg3ZDU0Y2QzYTYxNjBiZGFhMGZjZmNjYyA9ICQoJzxkaXYgaWQ9Imh0bWxfYjI1MWRiYzM4N2Q1NGNkM2E2MTYwYmRhYTBmY2ZjY2MiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkNhbmFkYSBQb3N0IEdhdGV3YXkgUHJvY2Vzc2luZyBDZW50cmUsIE1pc3Npc3NhdWdhPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF8xN2RiMTI4MzY2MTA0MmM0YWU1NjYyZWZkOTQ4OTlhMC5zZXRDb250ZW50KGh0bWxfYjI1MWRiYzM4N2Q1NGNkM2E2MTYwYmRhYTBmY2ZjY2MpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfOGQwNGU5ODQwMzk1NGE1YTgzZTE5MzdmZWQ2YmE3NDIuYmluZFBvcHVwKHBvcHVwXzE3ZGIxMjgzNjYxMDQyYzRhZTU2NjJlZmQ5NDg5OWEwKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzlhMTFhZDM3ZWNiNTRlZDdiNzVlMjhmZDhkMTlhZTRkID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNjg4OTA1NCwtNzkuNTU0NzI0NDAwMDAwMDFdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfNDdmZTc3MDNlMWU1NGIwNGFhYmMyMzM4NjQ1M2VjNGIpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfZWVlNmMxNmIxNGYxNDk0Mzg1MWQ2ZmNhNzZlY2JlMDYgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfZDgwMWI1MDZjOWZmNDA4ZWFlYzgzNjVlZGQ2OWMzOWIgPSAkKCc8ZGl2IGlkPSJodG1sX2Q4MDFiNTA2YzlmZjQwOGVhZWM4MzY1ZWRkNjljMzliIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5LaW5nc3ZpZXcgVmlsbGFnZSwgU3QuIFBoaWxsaXBzLCBNYXJ0aW4gR3JvdmUgR2FyZGVucywgUmljaHZpZXcgR2FyZGVucywgRXRvYmljb2tlPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF9lZWU2YzE2YjE0ZjE0OTQzODUxZDZmY2E3NmVjYmUwNi5zZXRDb250ZW50KGh0bWxfZDgwMWI1MDZjOWZmNDA4ZWFlYzgzNjVlZGQ2OWMzOWIpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfOWExMWFkMzdlY2I1NGVkN2I3NWUyOGZkOGQxOWFlNGQuYmluZFBvcHVwKHBvcHVwX2VlZTZjMTZiMTRmMTQ5NDM4NTFkNmZjYTc2ZWNiZTA2KTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzJlYzk3NzU0Yjk1NzRjNGNhNjM2MmEyZDg5OThlYmM1ID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNzk0MjAwMywtNzkuMjYyMDI5NDAwMDAwMDJdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfNDdmZTc3MDNlMWU1NGIwNGFhYmMyMzM4NjQ1M2VjNGIpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfMzFlZDZiZWViMGRmNDQ5MjlkMjUzNzJjYTFjOWI4OWIgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfNzM0NjQ5ZGM1NDllNDc3MDkwY2Y0N2QwNTcxZDk5MTMgPSAkKCc8ZGl2IGlkPSJodG1sXzczNDY0OWRjNTQ5ZTQ3NzA5MGNmNDdkMDU3MWQ5OTEzIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5BZ2luY291cnQsIFNjYXJib3JvdWdoPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF8zMWVkNmJlZWIwZGY0NDkyOWQyNTM3MmNhMWM5Yjg5Yi5zZXRDb250ZW50KGh0bWxfNzM0NjQ5ZGM1NDllNDc3MDkwY2Y0N2QwNTcxZDk5MTMpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfMmVjOTc3NTRiOTU3NGM0Y2E2MzYyYTJkODk5OGViYzUuYmluZFBvcHVwKHBvcHVwXzMxZWQ2YmVlYjBkZjQ0OTI5ZDI1MzcyY2ExYzliODliKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyX2MzYmQ1ZGZhNDQ2YTRlOTQ4NTI2NmVmODc1MDZhZWNjID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNzA0MzI0NCwtNzkuMzg4NzkwMV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF80N2ZlNzcwM2UxZTU0YjA0YWFiYzIzMzg2NDUzZWM0Yik7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF9hN2FjMmZlOWNiNDA0YTNiODVkNzFkOGM2YzZmMzkwZSA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9lZWRkMTc5ZDA2YzQ0MDY3YWMxNGZiNzQ5NDIyMjcyMSA9ICQoJzxkaXYgaWQ9Imh0bWxfZWVkZDE3OWQwNmM0NDA2N2FjMTRmYjc0OTQyMjI3MjEiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkRhdmlzdmlsbGUsIENlbnRyYWwgVG9yb250bzwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfYTdhYzJmZTljYjQwNGEzYjg1ZDcxZDhjNmM2ZjM5MGUuc2V0Q29udGVudChodG1sX2VlZGQxNzlkMDZjNDQwNjdhYzE0ZmI3NDk0MjIyNzIxKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyX2MzYmQ1ZGZhNDQ2YTRlOTQ4NTI2NmVmODc1MDZhZWNjLmJpbmRQb3B1cChwb3B1cF9hN2FjMmZlOWNiNDA0YTNiODVkNzFkOGM2YzZmMzkwZSk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl8xZDE3OThiMjQ5MzU0NDQ0OTdmZDg4ZWQxZTIxNWQ4MCA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjY2MjY5NTYsLTc5LjQwMDA0OTNdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfNDdmZTc3MDNlMWU1NGIwNGFhYmMyMzM4NjQ1M2VjNGIpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfYzFlN2NmMmI0OGE1NDc2M2I4YjNlMDQ4MWJlYmEyYjggPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfMmZkNDQ4YmVjM2Y0NDA2NmIxYWUzNzdiY2U4NGUzZDMgPSAkKCc8ZGl2IGlkPSJodG1sXzJmZDQ0OGJlYzNmNDQwNjZiMWFlMzc3YmNlODRlM2QzIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5Vbml2ZXJzaXR5IG9mIFRvcm9udG8sIEhhcmJvcmQsIERvd250b3duIFRvcm9udG88L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2MxZTdjZjJiNDhhNTQ3NjNiOGIzZTA0ODFiZWJhMmI4LnNldENvbnRlbnQoaHRtbF8yZmQ0NDhiZWMzZjQ0MDY2YjFhZTM3N2JjZTg0ZTNkMyk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl8xZDE3OThiMjQ5MzU0NDQ0OTdmZDg4ZWQxZTIxNWQ4MC5iaW5kUG9wdXAocG9wdXBfYzFlN2NmMmI0OGE1NDc2M2I4YjNlMDQ4MWJlYmEyYjgpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfNjdiMDZjYjQ2ZDU3NDMxMzgyYzNmMTM0MGM0ZTEyZmMgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My42NTE1NzA2LC03OS40ODQ0NDk5XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwXzQ3ZmU3NzAzZTFlNTRiMDRhYWJjMjMzODY0NTNlYzRiKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwX2RhODU2MmI3ZDFkNjQ1OGI4OWE1OTIxNTZiMThjOTM4ID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzA5YjFjMTc5ZmNhZjQ1MDJiM2FkYTM3YzE0YWQ0ZGEwID0gJCgnPGRpdiBpZD0iaHRtbF8wOWIxYzE3OWZjYWY0NTAyYjNhZGEzN2MxNGFkNGRhMCIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+UnVubnltZWRlLCBTd2Fuc2VhLCBXZXN0IFRvcm9udG88L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2RhODU2MmI3ZDFkNjQ1OGI4OWE1OTIxNTZiMThjOTM4LnNldENvbnRlbnQoaHRtbF8wOWIxYzE3OWZjYWY0NTAyYjNhZGEzN2MxNGFkNGRhMCk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl82N2IwNmNiNDZkNTc0MzEzODJjM2YxMzQwYzRlMTJmYy5iaW5kUG9wdXAocG9wdXBfZGE4NTYyYjdkMWQ2NDU4Yjg5YTU5MjE1NmIxOGM5MzgpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfMTI3YmMyZGUyNmNkNGVjYmFmY2QxYjliYWVhOWQ1YjIgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My43ODE2Mzc1LC03OS4zMDQzMDIxXSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwXzQ3ZmU3NzAzZTFlNTRiMDRhYWJjMjMzODY0NTNlYzRiKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwX2IwNjI4MzEzYzcwNjQzZGZiMTE1NGFhY2EzYzY4MDQyID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sX2Y0NjIwYzlmZDA4YTRiNmY4OWE3MzQ4ZTQwYzBiNjc1ID0gJCgnPGRpdiBpZD0iaHRtbF9mNDYyMGM5ZmQwOGE0YjZmODlhNzM0OGU0MGMwYjY3NSIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+Q2xhcmtzIENvcm5lcnMsIFRhbSBPJiMzOTtTaGFudGVyLCBTdWxsaXZhbiwgU2NhcmJvcm91Z2g8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2IwNjI4MzEzYzcwNjQzZGZiMTE1NGFhY2EzYzY4MDQyLnNldENvbnRlbnQoaHRtbF9mNDYyMGM5ZmQwOGE0YjZmODlhNzM0OGU0MGMwYjY3NSk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl8xMjdiYzJkZTI2Y2Q0ZWNiYWZjZDFiOWJhZWE5ZDViMi5iaW5kUG9wdXAocG9wdXBfYjA2MjgzMTNjNzA2NDNkZmIxMTU0YWFjYTNjNjgwNDIpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfNmZkMWIwZWQ1MTA5NDExMGE1OTcyZTNlMjRkZWQ4Y2MgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My42ODk1NzQzLC03OS4zODMxNTk5MDAwMDAwMV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF80N2ZlNzcwM2UxZTU0YjA0YWFiYzIzMzg2NDUzZWM0Yik7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF83MTMyMDdlZGQ4ZDQ0ZDQyOGQ3NTMyYWVlZWFjNWNkOCA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9iYmExMzU3NTI5MDc0ZjhmODU4MTA1ZmMwYmNiZTIzNyA9ICQoJzxkaXYgaWQ9Imh0bWxfYmJhMTM1NzUyOTA3NGY4Zjg1ODEwNWZjMGJjYmUyMzciIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPk1vb3JlIFBhcmssIFN1bW1lcmhpbGwgRWFzdCwgQ2VudHJhbCBUb3JvbnRvPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF83MTMyMDdlZGQ4ZDQ0ZDQyOGQ3NTMyYWVlZWFjNWNkOC5zZXRDb250ZW50KGh0bWxfYmJhMTM1NzUyOTA3NGY4Zjg1ODEwNWZjMGJjYmUyMzcpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfNmZkMWIwZWQ1MTA5NDExMGE1OTcyZTNlMjRkZWQ4Y2MuYmluZFBvcHVwKHBvcHVwXzcxMzIwN2VkZDhkNDRkNDI4ZDc1MzJhZWVlYWM1Y2Q4KTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyX2MxMjQ4NjcyY2NjYTQ3NDk5NWYxYzA1MzY5N2E5MGE1ID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNjUzMjA1NywtNzkuNDAwMDQ5M10sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF80N2ZlNzcwM2UxZTU0YjA0YWFiYzIzMzg2NDUzZWM0Yik7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF85ZThlNTk0ZDZlMTg0NGQ0OGZjZmNmZTQ3N2ZhYWM3OCA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF85NWVjYzBiMTUwMGE0MmM5OThiOWFiOTJkYTNjMDhiOSA9ICQoJzxkaXYgaWQ9Imh0bWxfOTVlY2MwYjE1MDBhNDJjOTk4YjlhYjkyZGEzYzA4YjkiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPktlbnNpbmd0b24gTWFya2V0LCBDaGluYXRvd24sIEdyYW5nZSBQYXJrLCBEb3dudG93biBUb3JvbnRvPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF85ZThlNTk0ZDZlMTg0NGQ0OGZjZmNmZTQ3N2ZhYWM3OC5zZXRDb250ZW50KGh0bWxfOTVlY2MwYjE1MDBhNDJjOTk4YjlhYjkyZGEzYzA4YjkpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfYzEyNDg2NzJjY2NhNDc0OTk1ZjFjMDUzNjk3YTkwYTUuYmluZFBvcHVwKHBvcHVwXzllOGU1OTRkNmUxODQ0ZDQ4ZmNmY2ZlNDc3ZmFhYzc4KTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzYwOGI3MTFlM2I0YjQ2ZmM5OTBhNTg4MTg1ODg1Y2NkID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuODE1MjUyMiwtNzkuMjg0NTc3Ml0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF80N2ZlNzcwM2UxZTU0YjA0YWFiYzIzMzg2NDUzZWM0Yik7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF9mZThhZDM2MTQxOGM0ZTZkOTZkNmM5MGJiZjM1OTdhMCA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF82NzkzZGI1YTlhYjQ0ODE3ODkwNDhiYzUxMWM2ZWNiYSA9ICQoJzxkaXYgaWQ9Imh0bWxfNjc5M2RiNWE5YWI0NDgxNzg5MDQ4YmM1MTFjNmVjYmEiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPk1pbGxpa2VuLCBBZ2luY291cnQgTm9ydGgsIFN0ZWVsZXMgRWFzdCwgTCYjMzk7QW1vcmVhdXggRWFzdCwgU2NhcmJvcm91Z2g8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2ZlOGFkMzYxNDE4YzRlNmQ5NmQ2YzkwYmJmMzU5N2EwLnNldENvbnRlbnQoaHRtbF82NzkzZGI1YTlhYjQ0ODE3ODkwNDhiYzUxMWM2ZWNiYSk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl82MDhiNzExZTNiNGI0NmZjOTkwYTU4ODE4NTg4NWNjZC5iaW5kUG9wdXAocG9wdXBfZmU4YWQzNjE0MThjNGU2ZDk2ZDZjOTBiYmYzNTk3YTApOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfMTdkMDA2YWI1MmE2NDk0NWE3NmRhM2NmMWQ0OTEwNmIgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My42ODY0MTIyOTk5OTk5OSwtNzkuNDAwMDQ5M10sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF80N2ZlNzcwM2UxZTU0YjA0YWFiYzIzMzg2NDUzZWM0Yik7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF81NGM5NzU3OGI5NmU0ZGVmODA0ZDJmODdlZjdjMWJkZSA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF8yZGRjNGM5NjBlNjI0ZjUyOTJkYjJiMjcyOWVjYTRiZSA9ICQoJzxkaXYgaWQ9Imh0bWxfMmRkYzRjOTYwZTYyNGY1MjkyZGIyYjI3MjllY2E0YmUiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPlN1bW1lcmhpbGwgV2VzdCwgUmF0aG5lbGx5LCBTb3V0aCBIaWxsLCBGb3Jlc3QgSGlsbCBTRSwgRGVlciBQYXJrLCBDZW50cmFsIFRvcm9udG88L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzU0Yzk3NTc4Yjk2ZTRkZWY4MDRkMmY4N2VmN2MxYmRlLnNldENvbnRlbnQoaHRtbF8yZGRjNGM5NjBlNjI0ZjUyOTJkYjJiMjcyOWVjYTRiZSk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl8xN2QwMDZhYjUyYTY0OTQ1YTc2ZGEzY2YxZDQ5MTA2Yi5iaW5kUG9wdXAocG9wdXBfNTRjOTc1NzhiOTZlNGRlZjgwNGQyZjg3ZWY3YzFiZGUpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfZWM5NzIyMDE5MmI2NGIxYzljODgzY2YyMDEyZTNlOTYgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My42Mjg5NDY3LC03OS4zOTQ0MTk5XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwXzQ3ZmU3NzAzZTFlNTRiMDRhYWJjMjMzODY0NTNlYzRiKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwX2E5MzRjZDhhOGQ5YjQ3OTJiOTlmODJiNTA2OTRkZTUzID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sX2VmZjhiZmRkOTE1ZDQyMTdhNDg2OTEzNmM3NzViZDJlID0gJCgnPGRpdiBpZD0iaHRtbF9lZmY4YmZkZDkxNWQ0MjE3YTQ4NjkxMzZjNzc1YmQyZSIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+Q04gVG93ZXIsIEtpbmcgYW5kIFNwYWRpbmEsIFJhaWx3YXkgTGFuZHMsIEhhcmJvdXJmcm9udCBXZXN0LCBCYXRodXJzdCBRdWF5LCBTb3V0aCBOaWFnYXJhLCBJc2xhbmQgYWlycG9ydCwgRG93bnRvd24gVG9yb250bzwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfYTkzNGNkOGE4ZDliNDc5MmI5OWY4MmI1MDY5NGRlNTMuc2V0Q29udGVudChodG1sX2VmZjhiZmRkOTE1ZDQyMTdhNDg2OTEzNmM3NzViZDJlKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyX2VjOTcyMjAxOTJiNjRiMWM5Yzg4M2NmMjAxMmUzZTk2LmJpbmRQb3B1cChwb3B1cF9hOTM0Y2Q4YThkOWI0NzkyYjk5ZjgyYjUwNjk0ZGU1Myk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl8wMGI1Nzc1NWQzNDk0YzM3YmMxNzIzNzViYWNmNTdkYiA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjYwNTY0NjYsLTc5LjUwMTMyMDcwMDAwMDAxXSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwXzQ3ZmU3NzAzZTFlNTRiMDRhYWJjMjMzODY0NTNlYzRiKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwX2YzY2ZhZTQzYmZmYjQ2YmM5YTQ4Mzk3NmU1M2YzOTAyID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzI2Y2FmZDc2YjEzZTQyZmJhZDhlOTNkMGYxYjA2NzYzID0gJCgnPGRpdiBpZD0iaHRtbF8yNmNhZmQ3NmIxM2U0MmZiYWQ4ZTkzZDBmMWIwNjc2MyIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+TmV3IFRvcm9udG8sIE1pbWljbyBTb3V0aCwgSHVtYmVyIEJheSBTaG9yZXMsIEV0b2JpY29rZTwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfZjNjZmFlNDNiZmZiNDZiYzlhNDgzOTc2ZTUzZjM5MDIuc2V0Q29udGVudChodG1sXzI2Y2FmZDc2YjEzZTQyZmJhZDhlOTNkMGYxYjA2NzYzKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzAwYjU3NzU1ZDM0OTRjMzdiYzE3MjM3NWJhY2Y1N2RiLmJpbmRQb3B1cChwb3B1cF9mM2NmYWU0M2JmZmI0NmJjOWE0ODM5NzZlNTNmMzkwMik7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl8yODdmN2ZkNjIwNTY0NDcwYTNmY2M5NjRjYWEzMzg2NiA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjczOTQxNjM5OTk5OTk5NiwtNzkuNTg4NDM2OV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF80N2ZlNzcwM2UxZTU0YjA0YWFiYzIzMzg2NDUzZWM0Yik7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF8wN2RhMmRlMDc2OGU0YTE1ODQ0N2M0MTkxMTczOWFmZCA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF8zMGZiNWVkMTNhODg0NWNjYWNmMTU3ODRkOTFiZDc1MyA9ICQoJzxkaXYgaWQ9Imh0bWxfMzBmYjVlZDEzYTg4NDVjY2FjZjE1Nzg0ZDkxYmQ3NTMiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPlNvdXRoIFN0ZWVsZXMsIFNpbHZlcnN0b25lLCBIdW1iZXJnYXRlLCBKYW1lc3Rvd24sIE1vdW50IE9saXZlLCBCZWF1bW9uZCBIZWlnaHRzLCBUaGlzdGxldG93biwgQWxiaW9uIEdhcmRlbnMsIEV0b2JpY29rZTwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfMDdkYTJkZTA3NjhlNGExNTg0NDdjNDE5MTE3MzlhZmQuc2V0Q29udGVudChodG1sXzMwZmI1ZWQxM2E4ODQ1Y2NhY2YxNTc4NGQ5MWJkNzUzKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzI4N2Y3ZmQ2MjA1NjQ0NzBhM2ZjYzk2NGNhYTMzODY2LmJpbmRQb3B1cChwb3B1cF8wN2RhMmRlMDc2OGU0YTE1ODQ0N2M0MTkxMTczOWFmZCk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl9jNjc3YzdmYTYwMGM0MjhkYTdlZDYxMTBmZGU1ODVlOCA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjc5OTUyNTIwMDAwMDAwNSwtNzkuMzE4Mzg4N10sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF80N2ZlNzcwM2UxZTU0YjA0YWFiYzIzMzg2NDUzZWM0Yik7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF9kYzlhMDA3MjlmMDM0MTJjOTBlZWFmMTBiNTkwYTA5YyA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF80OWQ5NWI4OGRiNzE0YTZiYTIwYjBjMGU0N2UwNTBiYyA9ICQoJzxkaXYgaWQ9Imh0bWxfNDlkOTViODhkYjcxNGE2YmEyMGIwYzBlNDdlMDUwYmMiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPlN0ZWVsZXMgV2VzdCwgTCYjMzk7QW1vcmVhdXggV2VzdCwgU2NhcmJvcm91Z2g8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2RjOWEwMDcyOWYwMzQxMmM5MGVlYWYxMGI1OTBhMDljLnNldENvbnRlbnQoaHRtbF80OWQ5NWI4OGRiNzE0YTZiYTIwYjBjMGU0N2UwNTBiYyk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl9jNjc3YzdmYTYwMGM0MjhkYTdlZDYxMTBmZGU1ODVlOC5iaW5kUG9wdXAocG9wdXBfZGM5YTAwNzI5ZjAzNDEyYzkwZWVhZjEwYjU5MGEwOWMpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfYzVhM2RmYjg2Yzg4NGZmZDkxZmI0MjM2YmVlMzU5YWEgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My42Nzk1NjI2LC03OS4zNzc1Mjk0MDAwMDAwMV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF80N2ZlNzcwM2UxZTU0YjA0YWFiYzIzMzg2NDUzZWM0Yik7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF8xYmNkODgwMjhjYjE0MmUzYjk4NmM4ZTIyOGI1NTEzOSA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9mMTBkMTI5MDA3NTk0MGUyOGI0ZWQ0NzZiN2RmMGI1NiA9ICQoJzxkaXYgaWQ9Imh0bWxfZjEwZDEyOTAwNzU5NDBlMjhiNGVkNDc2YjdkZjBiNTYiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPlJvc2VkYWxlLCBEb3dudG93biBUb3JvbnRvPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF8xYmNkODgwMjhjYjE0MmUzYjk4NmM4ZTIyOGI1NTEzOS5zZXRDb250ZW50KGh0bWxfZjEwZDEyOTAwNzU5NDBlMjhiNGVkNDc2YjdkZjBiNTYpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfYzVhM2RmYjg2Yzg4NGZmZDkxZmI0MjM2YmVlMzU5YWEuYmluZFBvcHVwKHBvcHVwXzFiY2Q4ODAyOGNiMTQyZTNiOTg2YzhlMjI4YjU1MTM5KTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzI1NWE4MTkwNDgxMDQ3MTY4NDEyYzJmZThhNTdhMTFiID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNjQ2NDM1MiwtNzkuMzc0ODQ1OTk5OTk5OTldLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfNDdmZTc3MDNlMWU1NGIwNGFhYmMyMzM4NjQ1M2VjNGIpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfYTFlODFhY2Y3YWM5NGY5ODlmZjdhYTU2ODRkMjExMjkgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfNzczMGVlNmUzMjJlNDdjNzgzNWNkYTI4ODNlYjNhOGQgPSAkKCc8ZGl2IGlkPSJodG1sXzc3MzBlZTZlMzIyZTQ3Yzc4MzVjZGEyODgzZWIzYThkIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5TdG4gQSBQTyBCb3hlcywgRG93bnRvd24gVG9yb250bzwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfYTFlODFhY2Y3YWM5NGY5ODlmZjdhYTU2ODRkMjExMjkuc2V0Q29udGVudChodG1sXzc3MzBlZTZlMzIyZTQ3Yzc4MzVjZGEyODgzZWIzYThkKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzI1NWE4MTkwNDgxMDQ3MTY4NDEyYzJmZThhNTdhMTFiLmJpbmRQb3B1cChwb3B1cF9hMWU4MWFjZjdhYzk0Zjk4OWZmN2FhNTY4NGQyMTEyOSk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl9jMDY2MmFjOGJjNjg0MzY0ODEzMTQ4MzU1NGE0YzI4NSA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjYwMjQxMzcwMDAwMDAxLC03OS41NDM0ODQwOTk5OTk5OV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF80N2ZlNzcwM2UxZTU0YjA0YWFiYzIzMzg2NDUzZWM0Yik7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF8wNDRkOGQ1OTg1ODQ0ZDk4ODFkYjllYjA2MzhmNDYyMiA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF8zMjcxZTc2ZWMwYmQ0NmU3YTI5MzBkY2FhNTE4NjY3NCA9ICQoJzxkaXYgaWQ9Imh0bWxfMzI3MWU3NmVjMGJkNDZlN2EyOTMwZGNhYTUxODY2NzQiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkFsZGVyd29vZCwgTG9uZyBCcmFuY2gsIEV0b2JpY29rZTwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfMDQ0ZDhkNTk4NTg0NGQ5ODgxZGI5ZWIwNjM4ZjQ2MjIuc2V0Q29udGVudChodG1sXzMyNzFlNzZlYzBiZDQ2ZTdhMjkzMGRjYWE1MTg2Njc0KTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyX2MwNjYyYWM4YmM2ODQzNjQ4MTMxNDgzNTU0YTRjMjg1LmJpbmRQb3B1cChwb3B1cF8wNDRkOGQ1OTg1ODQ0ZDk4ODFkYjllYjA2MzhmNDYyMik7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl8yMTU5ZGRhMzI4YTE0YTIwYTU1ZTY4OGVkYzZlMWRjZiA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjcwNjc0ODI5OTk5OTk5NCwtNzkuNTk0MDU0NF0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF80N2ZlNzcwM2UxZTU0YjA0YWFiYzIzMzg2NDUzZWM0Yik7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF9kZjYyZjE3NDk4OTg0YjA4OTRhNmU3MmZmMjI0NWVmZCA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF81ZjI3ZThhZjJlMWE0MGEwOTg3NTE1MjY1MjAwMTRjNCA9ICQoJzxkaXYgaWQ9Imh0bWxfNWYyN2U4YWYyZTFhNDBhMDk4NzUxNTI2NTIwMDE0YzQiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPk5vcnRod2VzdCwgV2VzdCBIdW1iZXIgLSBDbGFpcnZpbGxlLCBFdG9iaWNva2U8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2RmNjJmMTc0OTg5ODRiMDg5NGE2ZTcyZmYyMjQ1ZWZkLnNldENvbnRlbnQoaHRtbF81ZjI3ZThhZjJlMWE0MGEwOTg3NTE1MjY1MjAwMTRjNCk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl8yMTU5ZGRhMzI4YTE0YTIwYTU1ZTY4OGVkYzZlMWRjZi5iaW5kUG9wdXAocG9wdXBfZGY2MmYxNzQ5ODk4NGIwODk0YTZlNzJmZjIyNDVlZmQpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfMDE4ZGZjMmZjODkwNGFmYjkyNTE5MzMwZWNkZTI2ZWMgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My44MzYxMjQ3MDAwMDAwMDYsLTc5LjIwNTYzNjA5OTk5OTk5XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwXzQ3ZmU3NzAzZTFlNTRiMDRhYWJjMjMzODY0NTNlYzRiKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzdjYjViN2RiOTU1MTQwMjNiYzI5MTcyNDVmNGNmZTg2ID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sX2Y2NjM0ZDY0Y2U1NDQ0NTE5M2ViN2VhMjVjZDVhMDNhID0gJCgnPGRpdiBpZD0iaHRtbF9mNjYzNGQ2NGNlNTQ0NDUxOTNlYjdlYTI1Y2Q1YTAzYSIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+VXBwZXIgUm91Z2UsIFNjYXJib3JvdWdoPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF83Y2I1YjdkYjk1NTE0MDIzYmMyOTE3MjQ1ZjRjZmU4Ni5zZXRDb250ZW50KGh0bWxfZjY2MzRkNjRjZTU0NDQ1MTkzZWI3ZWEyNWNkNWEwM2EpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfMDE4ZGZjMmZjODkwNGFmYjkyNTE5MzMwZWNkZTI2ZWMuYmluZFBvcHVwKHBvcHVwXzdjYjViN2RiOTU1MTQwMjNiYzI5MTcyNDVmNGNmZTg2KTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzhjZTIyMmQ4MWQwMDQ1OTNhYmZlMTdhNGE1YTQzMmVjID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNjY3OTY3LC03OS4zNjc2NzUzXSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwXzQ3ZmU3NzAzZTFlNTRiMDRhYWJjMjMzODY0NTNlYzRiKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwX2FhOWFjNWRjNGI4YTQ5Yjg4Mzk3NjUyYTcwYzYyMWMzID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzcyZmFjZmIyZjMyZDRiN2M5ZTFhNjc5YzI1MTg2Njc3ID0gJCgnPGRpdiBpZD0iaHRtbF83MmZhY2ZiMmYzMmQ0YjdjOWUxYTY3OWMyNTE4NjY3NyIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+U3QuIEphbWVzIFRvd24sIENhYmJhZ2V0b3duLCBEb3dudG93biBUb3JvbnRvPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF9hYTlhYzVkYzRiOGE0OWI4ODM5NzY1MmE3MGM2MjFjMy5zZXRDb250ZW50KGh0bWxfNzJmYWNmYjJmMzJkNGI3YzllMWE2NzljMjUxODY2NzcpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfOGNlMjIyZDgxZDAwNDU5M2FiZmUxN2E0YTVhNDMyZWMuYmluZFBvcHVwKHBvcHVwX2FhOWFjNWRjNGI4YTQ5Yjg4Mzk3NjUyYTcwYzYyMWMzKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzRkODZjMzVhM2NjNzRmMWJhNjNjYjZhMjZhMGI1MGRlID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNjQ4NDI5MiwtNzkuMzgyMjgwMl0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF80N2ZlNzcwM2UxZTU0YjA0YWFiYzIzMzg2NDUzZWM0Yik7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF9jNTYxZTU1ODA5YzQ0ZWQ4YjJlYTEwM2QzNzdhZDZkOSA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF85M2Y5NTQyMTUwZTg0NDk1YTIyNGIxZGMzNTQyNmNhNCA9ICQoJzxkaXYgaWQ9Imh0bWxfOTNmOTU0MjE1MGU4NDQ5NWEyMjRiMWRjMzU0MjZjYTQiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkZpcnN0IENhbmFkaWFuIFBsYWNlLCBVbmRlcmdyb3VuZCBjaXR5LCBEb3dudG93biBUb3JvbnRvPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF9jNTYxZTU1ODA5YzQ0ZWQ4YjJlYTEwM2QzNzdhZDZkOS5zZXRDb250ZW50KGh0bWxfOTNmOTU0MjE1MGU4NDQ5NWEyMjRiMWRjMzU0MjZjYTQpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfNGQ4NmMzNWEzY2M3NGYxYmE2M2NiNmEyNmEwYjUwZGUuYmluZFBvcHVwKHBvcHVwX2M1NjFlNTU4MDljNDRlZDhiMmVhMTAzZDM3N2FkNmQ5KTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzNmMzQwMDg1MDc3YjQ2MGE4YzQ4OGVkNWJhOGZiMDVmID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNjUzNjUzNjAwMDAwMDA1LC03OS41MDY5NDM2XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwXzQ3ZmU3NzAzZTFlNTRiMDRhYWJjMjMzODY0NTNlYzRiKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwX2QyNzA4N2VmMzY1OTQ3M2I5YTJkZWY1NzM0MjEyYmNlID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzdlMGRmOWZlMDQ5YTQ4ZWU4YzBkZDlmODYxYzEzZjk0ID0gJCgnPGRpdiBpZD0iaHRtbF83ZTBkZjlmZTA0OWE0OGVlOGMwZGQ5Zjg2MWMxM2Y5NCIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+VGhlIEtpbmdzd2F5LCBNb250Z29tZXJ5IFJvYWQsIE9sZCBNaWxsIE5vcnRoLCBFdG9iaWNva2U8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2QyNzA4N2VmMzY1OTQ3M2I5YTJkZWY1NzM0MjEyYmNlLnNldENvbnRlbnQoaHRtbF83ZTBkZjlmZTA0OWE0OGVlOGMwZGQ5Zjg2MWMxM2Y5NCk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl8zZjM0MDA4NTA3N2I0NjBhOGM0ODhlZDViYThmYjA1Zi5iaW5kUG9wdXAocG9wdXBfZDI3MDg3ZWYzNjU5NDczYjlhMmRlZjU3MzQyMTJiY2UpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfZDZiYmQxODlkNjIxNDgzOTllMDlhNTY1NDg5N2I2ZWEgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My42NjU4NTk5LC03OS4zODMxNTk5MDAwMDAwMV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF80N2ZlNzcwM2UxZTU0YjA0YWFiYzIzMzg2NDUzZWM0Yik7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF9jYjljYmU0NjNhZWI0MWRkOWI2NTRmZTUzODE1YTI4MyA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF84NzM4NzIxZTIxMzQ0NWE4YmI4YmRkMTk3NDhiNmNmMiA9ICQoJzxkaXYgaWQ9Imh0bWxfODczODcyMWUyMTM0NDVhOGJiOGJkZDE5NzQ4YjZjZjIiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkNodXJjaCBhbmQgV2VsbGVzbGV5LCBEb3dudG93biBUb3JvbnRvPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF9jYjljYmU0NjNhZWI0MWRkOWI2NTRmZTUzODE1YTI4My5zZXRDb250ZW50KGh0bWxfODczODcyMWUyMTM0NDVhOGJiOGJkZDE5NzQ4YjZjZjIpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfZDZiYmQxODlkNjIxNDgzOTllMDlhNTY1NDg5N2I2ZWEuYmluZFBvcHVwKHBvcHVwX2NiOWNiZTQ2M2FlYjQxZGQ5YjY1NGZlNTM4MTVhMjgzKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzU4Y2IxYWYxMmJiMjRlMzQ4MzU0NGYwM2RhYjBhYzI5ID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNjYyNzQzOSwtNzkuMzIxNTU4XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwXzQ3ZmU3NzAzZTFlNTRiMDRhYWJjMjMzODY0NTNlYzRiKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwX2RmZDU3Njk0ZmJmZTQxYjc5OTY5NTliYWI2MmM0NTc2ID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sX2IwNDg5NzNlYjEwZDRmMWU4ODcwOWMwMjJlMWVkZmViID0gJCgnPGRpdiBpZD0iaHRtbF9iMDQ4OTczZWIxMGQ0ZjFlODg3MDljMDIyZTFlZGZlYiIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+QnVzaW5lc3MgcmVwbHkgbWFpbCBQcm9jZXNzaW5nIENlbnRyZSwgU291dGggQ2VudHJhbCBMZXR0ZXIgUHJvY2Vzc2luZyBQbGFudCBUb3JvbnRvLCBFYXN0IFRvcm9udG88L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2RmZDU3Njk0ZmJmZTQxYjc5OTY5NTliYWI2MmM0NTc2LnNldENvbnRlbnQoaHRtbF9iMDQ4OTczZWIxMGQ0ZjFlODg3MDljMDIyZTFlZGZlYik7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl81OGNiMWFmMTJiYjI0ZTM0ODM1NDRmMDNkYWIwYWMyOS5iaW5kUG9wdXAocG9wdXBfZGZkNTc2OTRmYmZlNDFiNzk5Njk1OWJhYjYyYzQ1NzYpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfZThhZWY4N2M3ZDQ3NGZjODg2NjQ4NjA0NzVjMGZhNGMgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My42MzYyNTc5LC03OS40OTg1MDkwOTk5OTk5OV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF80N2ZlNzcwM2UxZTU0YjA0YWFiYzIzMzg2NDUzZWM0Yik7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF83NzMzNjZkZGE1MTc0NTBmOGJiNjY2Y2FjN2M5OTg1NCA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9iN2JmOWZhNjVkODU0NTg3YTg5ZDY4MTNjNWU1OWEzMSA9ICQoJzxkaXYgaWQ9Imh0bWxfYjdiZjlmYTY1ZDg1NDU4N2E4OWQ2ODEzYzVlNTlhMzEiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPk9sZCBNaWxsIFNvdXRoLCBLaW5nJiMzOTtzIE1pbGwgUGFyaywgU3VubnlsZWEsIEh1bWJlciBCYXksIE1pbWljbyBORSwgVGhlIFF1ZWVuc3dheSBFYXN0LCBSb3lhbCBZb3JrIFNvdXRoIEVhc3QsIEtpbmdzd2F5IFBhcmsgU291dGggRWFzdCwgRXRvYmljb2tlPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF83NzMzNjZkZGE1MTc0NTBmOGJiNjY2Y2FjN2M5OTg1NC5zZXRDb250ZW50KGh0bWxfYjdiZjlmYTY1ZDg1NDU4N2E4OWQ2ODEzYzVlNTlhMzEpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfZThhZWY4N2M3ZDQ3NGZjODg2NjQ4NjA0NzVjMGZhNGMuYmluZFBvcHVwKHBvcHVwXzc3MzM2NmRkYTUxNzQ1MGY4YmI2NjZjYWM3Yzk5ODU0KTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyX2VmNGRkY2U1YTYyZDRkNjY5ZTg0MDhjZDc3YzRjY2ZlID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNjI4ODQwOCwtNzkuNTIwOTk5NDAwMDAwMDFdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfNDdmZTc3MDNlMWU1NGIwNGFhYmMyMzM4NjQ1M2VjNGIpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfYjFlNDY0YmM2ZGFjNDgxNThjMjE1ODMzMDk2OGZmNzkgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfYjIyZTFlYjY3ZWI0NGQ0ZmE0NTg4OGVkYjlkNDRiM2QgPSAkKCc8ZGl2IGlkPSJodG1sX2IyMmUxZWI2N2ViNDRkNGZhNDU4ODhlZGI5ZDQ0YjNkIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5NaW1pY28gTlcsIFRoZSBRdWVlbnN3YXkgV2VzdCwgU291dGggb2YgQmxvb3IsIEtpbmdzd2F5IFBhcmsgU291dGggV2VzdCwgUm95YWwgWW9yayBTb3V0aCBXZXN0LCBFdG9iaWNva2U8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2IxZTQ2NGJjNmRhYzQ4MTU4YzIxNTgzMzA5NjhmZjc5LnNldENvbnRlbnQoaHRtbF9iMjJlMWViNjdlYjQ0ZDRmYTQ1ODg4ZWRiOWQ0NGIzZCk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl9lZjRkZGNlNWE2MmQ0ZDY2OWU4NDA4Y2Q3N2M0Y2NmZS5iaW5kUG9wdXAocG9wdXBfYjFlNDY0YmM2ZGFjNDgxNThjMjE1ODMzMDk2OGZmNzkpOwoKICAgICAgICAgICAgCiAgICAgICAgCjwvc2NyaXB0Pg== onload="this.contentDocument.open();this.contentDocument.write(atob(this.getAttribute('data-html')));this.contentDocument.close();" allowfullscreen webkitallowfullscreen mozallowfullscreen></iframe></div></div>



### 3.4. Number of Neighborhoods in Toronto:


```python
#bar graph for number of neighborhoods for every borough in Toronto
plt.figure(figsize=(7,7), dpi = 80)
# title
plt.title('Number of Neighborhoods in Toronto')
#On x-axis
plt.xlabel('Boroughs', fontsize = 15)
#On y-axis
plt.ylabel('Number of Neighborhoods', fontsize=15)
#giving a bar plot
df_geo.groupby('Borough')['Neighborhood'].count().plot(kind='bar', color='red')
#legend
plt.legend()
#displays the plot
plt.show()
```


![png](output_21_0.png)


### 3.5. Shortlisting neighborhoods for assesment:

##### _From the bar graph, we can see that Scarborough has 18 neighborhoods and Etobicoke has 12 neighborhoods. Although the number of neighborhoods is not the same, the locations of these boroughs serves the purpose of this project._


```python
Scarborough_data = df_geo[df_geo['Borough'] == 'Scarborough'].reset_index(drop=True)
Scarborough_data.head()
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>PostalCode</th>
      <th>Borough</th>
      <th>Neighborhood</th>
      <th>Latitude</th>
      <th>Longitude</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>M1B</td>
      <td>Scarborough</td>
      <td>Malvern, Rouge</td>
      <td>43.806686</td>
      <td>-79.194353</td>
    </tr>
    <tr>
      <th>1</th>
      <td>M1C</td>
      <td>Scarborough</td>
      <td>Rouge Hill, Port Union, Highland Creek</td>
      <td>43.784535</td>
      <td>-79.160497</td>
    </tr>
    <tr>
      <th>2</th>
      <td>M1E</td>
      <td>Scarborough</td>
      <td>Guildwood, Morningside, West Hill</td>
      <td>43.763573</td>
      <td>-79.188711</td>
    </tr>
    <tr>
      <th>3</th>
      <td>M1G</td>
      <td>Scarborough</td>
      <td>Woburn</td>
      <td>43.770992</td>
      <td>-79.216917</td>
    </tr>
    <tr>
      <th>4</th>
      <td>M1H</td>
      <td>Scarborough</td>
      <td>Cedarbrae</td>
      <td>43.773136</td>
      <td>-79.239476</td>
    </tr>
  </tbody>
</table>
</div>




```python
Etobicoke_data = df_geo[df_geo['Borough'] == 'Etobicoke'].reset_index(drop=True)
Etobicoke_data
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>PostalCode</th>
      <th>Borough</th>
      <th>Neighborhood</th>
      <th>Latitude</th>
      <th>Longitude</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>M9A</td>
      <td>Etobicoke</td>
      <td>Islington Avenue, Humber Valley Village</td>
      <td>43.667856</td>
      <td>-79.532242</td>
    </tr>
    <tr>
      <th>1</th>
      <td>M9B</td>
      <td>Etobicoke</td>
      <td>West Deane Park, Princess Gardens, Martin Grov...</td>
      <td>43.650943</td>
      <td>-79.554724</td>
    </tr>
    <tr>
      <th>2</th>
      <td>M9C</td>
      <td>Etobicoke</td>
      <td>Eringate, Bloordale Gardens, Old Burnhamthorpe...</td>
      <td>43.643515</td>
      <td>-79.577201</td>
    </tr>
    <tr>
      <th>3</th>
      <td>M9P</td>
      <td>Etobicoke</td>
      <td>Westmount</td>
      <td>43.696319</td>
      <td>-79.532242</td>
    </tr>
    <tr>
      <th>4</th>
      <td>M9R</td>
      <td>Etobicoke</td>
      <td>Kingsview Village, St. Phillips, Martin Grove ...</td>
      <td>43.688905</td>
      <td>-79.554724</td>
    </tr>
    <tr>
      <th>5</th>
      <td>M8V</td>
      <td>Etobicoke</td>
      <td>New Toronto, Mimico South, Humber Bay Shores</td>
      <td>43.605647</td>
      <td>-79.501321</td>
    </tr>
    <tr>
      <th>6</th>
      <td>M9V</td>
      <td>Etobicoke</td>
      <td>South Steeles, Silverstone, Humbergate, Jamest...</td>
      <td>43.739416</td>
      <td>-79.588437</td>
    </tr>
    <tr>
      <th>7</th>
      <td>M8W</td>
      <td>Etobicoke</td>
      <td>Alderwood, Long Branch</td>
      <td>43.602414</td>
      <td>-79.543484</td>
    </tr>
    <tr>
      <th>8</th>
      <td>M9W</td>
      <td>Etobicoke</td>
      <td>Northwest, West Humber - Clairville</td>
      <td>43.706748</td>
      <td>-79.594054</td>
    </tr>
    <tr>
      <th>9</th>
      <td>M8X</td>
      <td>Etobicoke</td>
      <td>The Kingsway, Montgomery Road, Old Mill North</td>
      <td>43.653654</td>
      <td>-79.506944</td>
    </tr>
    <tr>
      <th>10</th>
      <td>M8Y</td>
      <td>Etobicoke</td>
      <td>Old Mill South, King's Mill Park, Sunnylea, Hu...</td>
      <td>43.636258</td>
      <td>-79.498509</td>
    </tr>
    <tr>
      <th>11</th>
      <td>M8Z</td>
      <td>Etobicoke</td>
      <td>Mimico NW, The Queensway West, South of Bloor,...</td>
      <td>43.628841</td>
      <td>-79.520999</td>
    </tr>
  </tbody>
</table>
</div>



### 3.6. Foursquare

##### _Foursquare login_


```python
CLIENT_ID = 'PGGUSXZ4ZLRK2RQDRUI0QN3UZFQ1YNKTUELSWYZNMJIUFKVO' # your Foursquare ID
CLIENT_SECRET = 'L2VOBN33JLX1W0CXGR2HCEWA3I0KFN0XBE01EP5QCHW0AGFC' # your Foursquare Secret
VERSION = '20180604' # Foursquare API version

```

##### _Define a function that uses Foursquare API to retrieve (LIMIT) venues for a given radius around any coordinates._


```python
def get_venues(lat,lng):
    #set variables
    radius= 5000
    LIMIT=100
    #Foursquare API
    url = 'https://api.foursquare.com/v2/venues/explore?&client_id={}&client_secret={}&v={}&ll={},{}&radius={}&limit={}'.format(
            CLIENT_ID, 
            CLIENT_SECRET, 
            VERSION, 
            lat, 
            lng, 
            radius, 
            LIMIT)
    # get all the data
    results = requests.get(url).json()
    venue_data=results["response"]['groups'][0]['items']
    venue_list=[]
    for row in venue_data:
        try:
            venue_id=row['venue']['id']
            venue_name=row['venue']['name']
            venue_category=row['venue']['categories'][0]['name']
            venue_list.append([venue_id,venue_name,venue_category])
        except KeyError:
            pass
    column_names=['ID','Name','Category']
    venues = pd.DataFrame(venue_list,columns=column_names)
    return venues
```

### 3.7. Analyzing the Boroughs 

#### 3.7.1. Scarborough

##### _Getting the coordinates of the borough_


```python
address = 'Scarborough, ON'

geolocator = Nominatim(user_agent="foursquare_agent")
location = geolocator.geocode(address)
latitude = location.latitude
longitude = location.longitude
print(latitude, longitude)
```

    43.773077 -79.257774


##### _Searching for restaurants in the Scarborough._


```python
LIMIT = 100
search_query = 'Restaurant'
radius = 5000 #in meters
print(search_query + ' .... OK!')
```

    Restaurant .... OK!



```python
#URL to access Foursquare API
url = 'https://api.foursquare.com/v2/venues/search?client_id={}&client_secret={}&ll={},{}&v={}&query={}&radius={}&limit={}'.format(CLIENT_ID, CLIENT_SECRET, latitude, longitude, VERSION, search_query, radius, LIMIT)
url
```




    'https://api.foursquare.com/v2/venues/search?client_id=PGGUSXZ4ZLRK2RQDRUI0QN3UZFQ1YNKTUELSWYZNMJIUFKVO&client_secret=L2VOBN33JLX1W0CXGR2HCEWA3I0KFN0XBE01EP5QCHW0AGFC&ll=43.773077,-79.257774&v=20180604&query=Restaurant&radius=5000&limit=100'



#####  _Creating a database of restaurants in Scarborough within a given radius._ 


```python
# Scarborough Venues Dataframe
results = requests.get(url).json()
venues = results['response']['venues']

# tranform venues into a dataframe
Scarborough_venues = pd.json_normalize(venues)
Scarborough_venues.head()

```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>id</th>
      <th>name</th>
      <th>categories</th>
      <th>referralId</th>
      <th>hasPerk</th>
      <th>location.address</th>
      <th>location.crossStreet</th>
      <th>location.lat</th>
      <th>location.lng</th>
      <th>location.labeledLatLngs</th>
      <th>location.distance</th>
      <th>location.postalCode</th>
      <th>location.cc</th>
      <th>location.city</th>
      <th>location.state</th>
      <th>location.country</th>
      <th>location.formattedAddress</th>
      <th>venuePage.id</th>
      <th>location.neighborhood</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>4b29e021f964a520d4a324e3</td>
      <td>Perfect Chinese Restaurant é›…ç“Šæµ·é®®é…’å®¶</td>
      <td>[{'id': '4bf58dd8d48988d145941735', 'name': 'C...</td>
      <td>v-1590762953</td>
      <td>False</td>
      <td>4386 Sheppard Ave. E</td>
      <td>at Brimley Rd.</td>
      <td>43.787774</td>
      <td>-79.270294</td>
      <td>[{'label': 'display', 'lat': 43.78777423062292...</td>
      <td>1920</td>
      <td>M1S 1T8</td>
      <td>CA</td>
      <td>Toronto</td>
      <td>ON</td>
      <td>Canada</td>
      <td>[4386 Sheppard Ave. E (at Brimley Rd.), Toront...</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>1</th>
      <td>53dbb77e498e6dfadda043fa</td>
      <td>Old Neighbour Restaurant è€è¡—åŠå¤©æ´¥éŸ©è®°åŒ…å­é“º</td>
      <td>[{'id': '4bf58dd8d48988d145941735', 'name': 'C...</td>
      <td>v-1590762953</td>
      <td>False</td>
      <td>25 Glen Watford Dr, Unit 9</td>
      <td>at Sheppard Ave E</td>
      <td>43.787078</td>
      <td>-79.275454</td>
      <td>[{'label': 'display', 'lat': 43.78707762430626...</td>
      <td>2109</td>
      <td>M1S 2B7</td>
      <td>CA</td>
      <td>Toronto</td>
      <td>ON</td>
      <td>Canada</td>
      <td>[25 Glen Watford Dr, Unit 9 (at Sheppard Ave E...</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>2</th>
      <td>4b5738d3f964a520c62b28e3</td>
      <td>Best Friends Chinese Restaurant æœƒè³“æ¨“</td>
      <td>[{'id': '4bf58dd8d48988d145941735', 'name': 'C...</td>
      <td>v-1590762953</td>
      <td>False</td>
      <td>4810 Sheppard Ave. E</td>
      <td>at Shorting Rd.</td>
      <td>43.791806</td>
      <td>-79.250197</td>
      <td>[{'label': 'display', 'lat': 43.791806, 'lng':...</td>
      <td>2172</td>
      <td>M1S 4N6</td>
      <td>CA</td>
      <td>Scarborough</td>
      <td>ON</td>
      <td>Canada</td>
      <td>[4810 Sheppard Ave. E (at Shorting Rd.), Scarb...</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>3</th>
      <td>4babf004f964a52025d73ae3</td>
      <td>Sagano Japanese Restaurant</td>
      <td>[{'id': '4bf58dd8d48988d111941735', 'name': 'J...</td>
      <td>v-1590762953</td>
      <td>False</td>
      <td>2035 Kennedy Rd</td>
      <td>at Village Green Sq</td>
      <td>43.776645</td>
      <td>-79.282676</td>
      <td>[{'label': 'display', 'lat': 43.77664499933209...</td>
      <td>2040</td>
      <td>M1T 3G2</td>
      <td>CA</td>
      <td>Toronto</td>
      <td>ON</td>
      <td>Canada</td>
      <td>[2035 Kennedy Rd (at Village Green Sq), Toront...</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>4</th>
      <td>4baa46def964a520485a3ae3</td>
      <td>South Sea Fish Village Chinese Restaurant</td>
      <td>[{'id': '4bf58dd8d48988d145941735', 'name': 'C...</td>
      <td>v-1590762953</td>
      <td>False</td>
      <td>1 Glen Watford Dr.</td>
      <td>NaN</td>
      <td>43.786210</td>
      <td>-79.275701</td>
      <td>[{'label': 'display', 'lat': 43.78620976205095...</td>
      <td>2052</td>
      <td>NaN</td>
      <td>CA</td>
      <td>Scarborough</td>
      <td>ON</td>
      <td>Canada</td>
      <td>[1 Glen Watford Dr., Scarborough ON, Canada]</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
  </tbody>
</table>
</div>



##### _Refining the dataset._


```python
# keep only columns that include venue name, and anything that is associated with location
filtered_columns = ['name', 'categories'] + [col for col in Scarborough_venues.columns if col.startswith('location.')] + ['id']
Scarborough_filtered = Scarborough_venues.loc[:, filtered_columns]

# function that extracts the category of the venue
def get_category_type(row):
    try:
        categories_list = row['categories']
    except:
        categories_list = row['venue.categories']
        
    if len(categories_list) == 0:
        return None
    else:
        return categories_list[0]['name']

# filter the category for each row
Scarborough_filtered['categories'] = Scarborough_filtered.apply(get_category_type, axis=1)

# clean column names by keeping only last term
Scarborough_filtered.columns = [column.split('.')[-1] for column in Scarborough_filtered.columns]

Scarborough_filtered.head()
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>name</th>
      <th>categories</th>
      <th>address</th>
      <th>crossStreet</th>
      <th>lat</th>
      <th>lng</th>
      <th>labeledLatLngs</th>
      <th>distance</th>
      <th>postalCode</th>
      <th>cc</th>
      <th>city</th>
      <th>state</th>
      <th>country</th>
      <th>formattedAddress</th>
      <th>neighborhood</th>
      <th>id</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Perfect Chinese Restaurant é›…ç“Šæµ·é®®é…’å®¶</td>
      <td>Chinese Restaurant</td>
      <td>4386 Sheppard Ave. E</td>
      <td>at Brimley Rd.</td>
      <td>43.787774</td>
      <td>-79.270294</td>
      <td>[{'label': 'display', 'lat': 43.78777423062292...</td>
      <td>1920</td>
      <td>M1S 1T8</td>
      <td>CA</td>
      <td>Toronto</td>
      <td>ON</td>
      <td>Canada</td>
      <td>[4386 Sheppard Ave. E (at Brimley Rd.), Toront...</td>
      <td>NaN</td>
      <td>4b29e021f964a520d4a324e3</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Old Neighbour Restaurant è€è¡—åŠå¤©æ´¥éŸ©è®°åŒ…å­é“º</td>
      <td>Chinese Restaurant</td>
      <td>25 Glen Watford Dr, Unit 9</td>
      <td>at Sheppard Ave E</td>
      <td>43.787078</td>
      <td>-79.275454</td>
      <td>[{'label': 'display', 'lat': 43.78707762430626...</td>
      <td>2109</td>
      <td>M1S 2B7</td>
      <td>CA</td>
      <td>Toronto</td>
      <td>ON</td>
      <td>Canada</td>
      <td>[25 Glen Watford Dr, Unit 9 (at Sheppard Ave E...</td>
      <td>NaN</td>
      <td>53dbb77e498e6dfadda043fa</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Best Friends Chinese Restaurant æœƒè³“æ¨“</td>
      <td>Chinese Restaurant</td>
      <td>4810 Sheppard Ave. E</td>
      <td>at Shorting Rd.</td>
      <td>43.791806</td>
      <td>-79.250197</td>
      <td>[{'label': 'display', 'lat': 43.791806, 'lng':...</td>
      <td>2172</td>
      <td>M1S 4N6</td>
      <td>CA</td>
      <td>Scarborough</td>
      <td>ON</td>
      <td>Canada</td>
      <td>[4810 Sheppard Ave. E (at Shorting Rd.), Scarb...</td>
      <td>NaN</td>
      <td>4b5738d3f964a520c62b28e3</td>
    </tr>
    <tr>
      <th>3</th>
      <td>Sagano Japanese Restaurant</td>
      <td>Japanese Restaurant</td>
      <td>2035 Kennedy Rd</td>
      <td>at Village Green Sq</td>
      <td>43.776645</td>
      <td>-79.282676</td>
      <td>[{'label': 'display', 'lat': 43.77664499933209...</td>
      <td>2040</td>
      <td>M1T 3G2</td>
      <td>CA</td>
      <td>Toronto</td>
      <td>ON</td>
      <td>Canada</td>
      <td>[2035 Kennedy Rd (at Village Green Sq), Toront...</td>
      <td>NaN</td>
      <td>4babf004f964a52025d73ae3</td>
    </tr>
    <tr>
      <th>4</th>
      <td>South Sea Fish Village Chinese Restaurant</td>
      <td>Chinese Restaurant</td>
      <td>1 Glen Watford Dr.</td>
      <td>NaN</td>
      <td>43.786210</td>
      <td>-79.275701</td>
      <td>[{'label': 'display', 'lat': 43.78620976205095...</td>
      <td>2052</td>
      <td>NaN</td>
      <td>CA</td>
      <td>Scarborough</td>
      <td>ON</td>
      <td>Canada</td>
      <td>[1 Glen Watford Dr., Scarborough ON, Canada]</td>
      <td>NaN</td>
      <td>4baa46def964a520485a3ae3</td>
    </tr>
  </tbody>
</table>
</div>



##### _Finding the frequency of each type of cuisine._


```python
#find frequencies of restaurants of top cuisines
column_names=['Borough', 'Neighborhood', 'ID','Name']
venues=pd.DataFrame(columns=column_names)
i=1
for row in Scarborough_data.values.tolist():
    PostalCode,Borough, Neighborhood, Latitude, Longitude=row
    locations = get_venues(Latitude,Longitude)
    resturants=locations[locations['Category']=='Restaurant'] 
    print('(',i,'/',len(Scarborough_data),')','Resturants in '+Neighborhood+', '+Borough+':'+str(len(resturants)))
    print(row)
    for resturant_info in resturants.values.tolist():
        id, name , category=resturant_info
        venues = venues.append({'Borough': Borough,
                                'Neighborhood': Neighborhood, 
                                'ID': id,
                                'Name' : name
                                }, ignore_index=True)
    i=i+1
```

    ( 1 / 17 ) Resturants in Malvern, Rouge, Scarborough:3
    ['M1B', 'Scarborough', 'Malvern, Rouge', 43.806686299999996, -79.19435340000001]
    ( 2 / 17 ) Resturants in Rouge Hill, Port Union, Highland Creek, Scarborough:2
    ['M1C', 'Scarborough', 'Rouge Hill, Port Union, Highland Creek', 43.7845351, -79.16049709999999]
    ( 3 / 17 ) Resturants in Guildwood, Morningside, West Hill, Scarborough:3
    ['M1E', 'Scarborough', 'Guildwood, Morningside, West Hill', 43.7635726, -79.1887115]
    ( 4 / 17 ) Resturants in Woburn, Scarborough:4
    ['M1G', 'Scarborough', 'Woburn', 43.7709921, -79.21691740000001]
    ( 5 / 17 ) Resturants in Cedarbrae, Scarborough:3
    ['M1H', 'Scarborough', 'Cedarbrae', 43.773136, -79.23947609999999]
    ( 6 / 17 ) Resturants in Scarborough Village, Scarborough:1
    ['M1J', 'Scarborough', 'Scarborough Village', 43.7447342, -79.23947609999999]
    ( 7 / 17 ) Resturants in Kennedy Park, Ionview, East Birchmount Park, Scarborough:1
    ['M1K', 'Scarborough', 'Kennedy Park, Ionview, East Birchmount Park', 43.7279292, -79.26202940000002]
    ( 8 / 17 ) Resturants in Golden Mile, Clairlea, Oakridge, Scarborough:2
    ['M1L', 'Scarborough', 'Golden Mile, Clairlea, Oakridge', 43.711111700000004, -79.2845772]
    ( 9 / 17 ) Resturants in Cliffside, Cliffcrest, Scarborough Village West, Scarborough:2
    ['M1M', 'Scarborough', 'Cliffside, Cliffcrest, Scarborough Village West', 43.716316, -79.23947609999999]
    ( 10 / 17 ) Resturants in Birch Cliff, Cliffside West, Scarborough:1
    ['M1N', 'Scarborough', 'Birch Cliff, Cliffside West', 43.692657000000004, -79.2648481]
    ( 11 / 17 ) Resturants in Dorset Park, Wexford Heights, Scarborough Town Centre, Scarborough:1
    ['M1P', 'Scarborough', 'Dorset Park, Wexford Heights, Scarborough Town Centre', 43.7574096, -79.27330400000001]
    ( 12 / 17 ) Resturants in Wexford, Maryvale, Scarborough:2
    ['M1R', 'Scarborough', 'Wexford, Maryvale', 43.750071500000004, -79.2958491]
    ( 13 / 17 ) Resturants in Agincourt, Scarborough:2
    ['M1S', 'Scarborough', 'Agincourt', 43.7942003, -79.26202940000002]
    ( 14 / 17 ) Resturants in Clarks Corners, Tam O'Shanter, Sullivan, Scarborough:0
    ['M1T', 'Scarborough', "Clarks Corners, Tam O'Shanter, Sullivan", 43.7816375, -79.3043021]
    ( 15 / 17 ) Resturants in Milliken, Agincourt North, Steeles East, L'Amoreaux East, Scarborough:1
    ['M1V', 'Scarborough', "Milliken, Agincourt North, Steeles East, L'Amoreaux East", 43.8152522, -79.2845772]
    ( 16 / 17 ) Resturants in Steeles West, L'Amoreaux West, Scarborough:2
    ['M1W', 'Scarborough', "Steeles West, L'Amoreaux West", 43.799525200000005, -79.3183887]
    ( 17 / 17 ) Resturants in Upper Rouge, Scarborough:1
    ['M1X', 'Scarborough', 'Upper Rouge', 43.836124700000006, -79.20563609999999]


#### 3.7.2. Etobicoke

##### _Getting the coordinates of the borough._


```python
address = 'Etobicoke, ON'
geolocator = Nominatim(user_agent="foursquare_agent")
location = geolocator.geocode(address)
latitude = location.latitude
longitude = location.longitude
print(latitude, longitude)
```

    43.6435559 -79.5656326


##### _Searching for restaurants in the Etobicoke._


```python
LIMIT = 100
search_query = 'Restaurant'
radius = 5000 #in meters
print(search_query + ' .... OK!')
```

    Restaurant .... OK!



```python
#URL to access Foursquare API
url = 'https://api.foursquare.com/v2/venues/search?client_id={}&client_secret={}&ll={},{}&v={}&query={}&radius={}&limit={}'.format(CLIENT_ID, CLIENT_SECRET, latitude, longitude, VERSION, search_query, radius, LIMIT)
url
```




    'https://api.foursquare.com/v2/venues/search?client_id=PGGUSXZ4ZLRK2RQDRUI0QN3UZFQ1YNKTUELSWYZNMJIUFKVO&client_secret=L2VOBN33JLX1W0CXGR2HCEWA3I0KFN0XBE01EP5QCHW0AGFC&ll=43.6435559,-79.5656326&v=20180604&query=Restaurant&radius=5000&limit=100'



##### _Creating a database of restaurants in Etobicoke within a given radius._


```python
# Etobicoke Venues Dataframe
results = requests.get(url).json()
venues = results['response']['venues']
# tranform venues into a dataframe
Etobicoke_venues = pd.json_normalize(venues)
Etobicoke_venues.head()
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>id</th>
      <th>name</th>
      <th>categories</th>
      <th>referralId</th>
      <th>hasPerk</th>
      <th>location.address</th>
      <th>location.crossStreet</th>
      <th>location.lat</th>
      <th>location.lng</th>
      <th>location.labeledLatLngs</th>
      <th>location.distance</th>
      <th>location.postalCode</th>
      <th>location.cc</th>
      <th>location.city</th>
      <th>location.state</th>
      <th>location.country</th>
      <th>location.formattedAddress</th>
      <th>location.neighborhood</th>
      <th>venuePage.id</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>534b2c4c498e3290a42bc2f1</td>
      <td>Cross Eyed Bear Restaurant</td>
      <td>[{'id': '4bf58dd8d48988d1c4941735', 'name': 'R...</td>
      <td>v-1590763003</td>
      <td>False</td>
      <td>555 Burnhamthorpe</td>
      <td>The West Mall</td>
      <td>43.644725</td>
      <td>-79.568009</td>
      <td>[{'label': 'display', 'lat': 43.64472458866585...</td>
      <td>231</td>
      <td>M9C 2Y3</td>
      <td>CA</td>
      <td>Etobicoke</td>
      <td>ON</td>
      <td>Canada</td>
      <td>[555 Burnhamthorpe (The West Mall), Etobicoke ...</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>1</th>
      <td>4b533ffdf964a5201a9427e3</td>
      <td>Muddy Duck Restaurant</td>
      <td>[{'id': '4bf58dd8d48988d14e941735', 'name': 'A...</td>
      <td>v-1590763003</td>
      <td>False</td>
      <td>2200 Dundas St. E</td>
      <td>btw Regional Rd. 4 &amp; Highway 407</td>
      <td>43.625972</td>
      <td>-79.565427</td>
      <td>[{'label': 'display', 'lat': 43.62597233051833...</td>
      <td>1957</td>
      <td>L4X 2V3</td>
      <td>CA</td>
      <td>Mississauga</td>
      <td>ON</td>
      <td>Canada</td>
      <td>[2200 Dundas St. E (btw Regional Rd. 4 &amp; Highw...</td>
      <td>Islington - City Centre West</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>2</th>
      <td>4e8f1efebe7b11a0c4fd3f19</td>
      <td>VAHALLA RESTAURANT</td>
      <td>[{'id': '4bf58dd8d48988d1c6941735', 'name': 'S...</td>
      <td>v-1590763003</td>
      <td>False</td>
      <td>314 W Center Ave</td>
      <td>NaN</td>
      <td>43.640954</td>
      <td>-79.564951</td>
      <td>[{'label': 'display', 'lat': 43.64095401822603...</td>
      <td>294</td>
      <td>93291</td>
      <td>CA</td>
      <td>Vahalla</td>
      <td>CA</td>
      <td>Canada</td>
      <td>[314 W Center Ave, Vahalla CA 93291, Canada]</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>3</th>
      <td>50b633dee4b0efc209002435</td>
      <td>The Olive Restaurant</td>
      <td>[{'id': '4bf58dd8d48988d1c4941735', 'name': 'R...</td>
      <td>v-1590763003</td>
      <td>False</td>
      <td>100 The East Mall</td>
      <td>North Queen</td>
      <td>43.619846</td>
      <td>-79.549690</td>
      <td>[{'label': 'display', 'lat': 43.619846, 'lng':...</td>
      <td>2935</td>
      <td>M8Z 5X2</td>
      <td>CA</td>
      <td>Etobicoke</td>
      <td>ON</td>
      <td>Canada</td>
      <td>[100 The East Mall (North Queen), Etobicoke ON...</td>
      <td>Islington - City Centre West</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>4</th>
      <td>4bdf6678e75c0f470617cb03</td>
      <td>Silk Road Restaurant ä¸ç»¸ä¹‹è·¯</td>
      <td>[{'id': '52af3b913cf9994f4e043c06', 'name': 'X...</td>
      <td>v-1590763003</td>
      <td>False</td>
      <td>1852 Dundas St E</td>
      <td>at Wharton Way</td>
      <td>43.619278</td>
      <td>-79.573031</td>
      <td>[{'label': 'display', 'lat': 43.61927817099883...</td>
      <td>2767</td>
      <td>L4X 1L9</td>
      <td>CA</td>
      <td>Mississauga</td>
      <td>ON</td>
      <td>Canada</td>
      <td>[1852 Dundas St E (at Wharton Way), Mississaug...</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
  </tbody>
</table>
</div>



##### _Refining the dataset._


```python
# keep only columns that include venue name, and anything that is associated with location
filtered_columns = ['name', 'categories'] + [col for col in Etobicoke_venues.columns if col.startswith('location.')] + ['id']
Etobicoke_filtered = Etobicoke_venues.loc[:, filtered_columns]

# function that extracts the category of the venue
def get_category_type(row):
    try:
        categories_list = row['categories']
    except:
        categories_list = row['venue.categories']
        
    if len(categories_list) == 0:
        return None
    else:
        return categories_list[0]['name']

# filter the category for each row
Etobicoke_filtered['categories'] = Etobicoke_filtered.apply(get_category_type, axis=1)

# clean column names by keeping only last term
Etobicoke_filtered.columns = [column.split('.')[-1] for column in Etobicoke_filtered.columns]

Etobicoke_filtered.head()
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>name</th>
      <th>categories</th>
      <th>address</th>
      <th>crossStreet</th>
      <th>lat</th>
      <th>lng</th>
      <th>labeledLatLngs</th>
      <th>distance</th>
      <th>postalCode</th>
      <th>cc</th>
      <th>city</th>
      <th>state</th>
      <th>country</th>
      <th>formattedAddress</th>
      <th>neighborhood</th>
      <th>id</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Cross Eyed Bear Restaurant</td>
      <td>Restaurant</td>
      <td>555 Burnhamthorpe</td>
      <td>The West Mall</td>
      <td>43.644725</td>
      <td>-79.568009</td>
      <td>[{'label': 'display', 'lat': 43.64472458866585...</td>
      <td>231</td>
      <td>M9C 2Y3</td>
      <td>CA</td>
      <td>Etobicoke</td>
      <td>ON</td>
      <td>Canada</td>
      <td>[555 Burnhamthorpe (The West Mall), Etobicoke ...</td>
      <td>NaN</td>
      <td>534b2c4c498e3290a42bc2f1</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Muddy Duck Restaurant</td>
      <td>American Restaurant</td>
      <td>2200 Dundas St. E</td>
      <td>btw Regional Rd. 4 &amp; Highway 407</td>
      <td>43.625972</td>
      <td>-79.565427</td>
      <td>[{'label': 'display', 'lat': 43.62597233051833...</td>
      <td>1957</td>
      <td>L4X 2V3</td>
      <td>CA</td>
      <td>Mississauga</td>
      <td>ON</td>
      <td>Canada</td>
      <td>[2200 Dundas St. E (btw Regional Rd. 4 &amp; Highw...</td>
      <td>Islington - City Centre West</td>
      <td>4b533ffdf964a5201a9427e3</td>
    </tr>
    <tr>
      <th>2</th>
      <td>VAHALLA RESTAURANT</td>
      <td>Scandinavian Restaurant</td>
      <td>314 W Center Ave</td>
      <td>NaN</td>
      <td>43.640954</td>
      <td>-79.564951</td>
      <td>[{'label': 'display', 'lat': 43.64095401822603...</td>
      <td>294</td>
      <td>93291</td>
      <td>CA</td>
      <td>Vahalla</td>
      <td>CA</td>
      <td>Canada</td>
      <td>[314 W Center Ave, Vahalla CA 93291, Canada]</td>
      <td>NaN</td>
      <td>4e8f1efebe7b11a0c4fd3f19</td>
    </tr>
    <tr>
      <th>3</th>
      <td>The Olive Restaurant</td>
      <td>Restaurant</td>
      <td>100 The East Mall</td>
      <td>North Queen</td>
      <td>43.619846</td>
      <td>-79.549690</td>
      <td>[{'label': 'display', 'lat': 43.619846, 'lng':...</td>
      <td>2935</td>
      <td>M8Z 5X2</td>
      <td>CA</td>
      <td>Etobicoke</td>
      <td>ON</td>
      <td>Canada</td>
      <td>[100 The East Mall (North Queen), Etobicoke ON...</td>
      <td>Islington - City Centre West</td>
      <td>50b633dee4b0efc209002435</td>
    </tr>
    <tr>
      <th>4</th>
      <td>Silk Road Restaurant ä¸ç»¸ä¹‹è·¯</td>
      <td>Xinjiang Restaurant</td>
      <td>1852 Dundas St E</td>
      <td>at Wharton Way</td>
      <td>43.619278</td>
      <td>-79.573031</td>
      <td>[{'label': 'display', 'lat': 43.61927817099883...</td>
      <td>2767</td>
      <td>L4X 1L9</td>
      <td>CA</td>
      <td>Mississauga</td>
      <td>ON</td>
      <td>Canada</td>
      <td>[1852 Dundas St E (at Wharton Way), Mississaug...</td>
      <td>NaN</td>
      <td>4bdf6678e75c0f470617cb03</td>
    </tr>
  </tbody>
</table>
</div>



##### _Finding the frequency of each type of cuisine._


```python
#find frequencies of restaurants of top cuisines
column_names=['Borough', 'Neighborhood', 'ID','Name']
venues=pd.DataFrame(columns=column_names)
i=1
for row in Etobicoke_data.values.tolist():
    PostalCode,Borough, Neighborhood, Latitude, Longitude=row
    locations = get_venues(Latitude,Longitude)
    resturants=locations[locations['Category']=='Restaurant'] 
    print('(',i,'/',len(Etobicoke_data),')','Resturants in '+Neighborhood+', '+Borough+':'+str(len(resturants)))
    print(row)
    for resturant_info in resturants.values.tolist():
        id, name , category=resturant_info
        venues = venues.append({'Borough': Borough,
                                'Neighborhood': Neighborhood, 
                                'ID': id,
                                'Name' : name
                                }, ignore_index=True)
    i=i+1
```

    ( 1 / 12 ) Resturants in Islington Avenue, Humber Valley Village, Etobicoke:4
    ['M9A', 'Etobicoke', 'Islington Avenue, Humber Valley Village', 43.6678556, -79.53224240000002]
    ( 2 / 12 ) Resturants in West Deane Park, Princess Gardens, Martin Grove, Islington, Cloverdale, Etobicoke:4
    ['M9B', 'Etobicoke', 'West Deane Park, Princess Gardens, Martin Grove, Islington, Cloverdale', 43.6509432, -79.55472440000001]
    ( 3 / 12 ) Resturants in Eringate, Bloordale Gardens, Old Burnhamthorpe, Markland Wood, Etobicoke:1
    ['M9C', 'Etobicoke', 'Eringate, Bloordale Gardens, Old Burnhamthorpe, Markland Wood', 43.6435152, -79.57720079999999]
    ( 4 / 12 ) Resturants in Westmount, Etobicoke:3
    ['M9P', 'Etobicoke', 'Westmount', 43.696319, -79.53224240000002]
    ( 5 / 12 ) Resturants in Kingsview Village, St. Phillips, Martin Grove Gardens, Richview Gardens, Etobicoke:5
    ['M9R', 'Etobicoke', 'Kingsview Village, St. Phillips, Martin Grove Gardens, Richview Gardens', 43.6889054, -79.55472440000001]
    ( 6 / 12 ) Resturants in New Toronto, Mimico South, Humber Bay Shores, Etobicoke:3
    ['M8V', 'Etobicoke', 'New Toronto, Mimico South, Humber Bay Shores', 43.6056466, -79.50132070000001]
    ( 7 / 12 ) Resturants in South Steeles, Silverstone, Humbergate, Jamestown, Mount Olive, Beaumond Heights, Thistletown, Albion Gardens, Etobicoke:4
    ['M9V', 'Etobicoke', 'South Steeles, Silverstone, Humbergate, Jamestown, Mount Olive, Beaumond Heights, Thistletown, Albion Gardens', 43.739416399999996, -79.5884369]
    ( 8 / 12 ) Resturants in Alderwood, Long Branch, Etobicoke:2
    ['M8W', 'Etobicoke', 'Alderwood, Long Branch', 43.60241370000001, -79.54348409999999]
    ( 9 / 12 ) Resturants in Northwest, West Humber - Clairville, Etobicoke:4
    ['M9W', 'Etobicoke', 'Northwest, West Humber - Clairville', 43.706748299999994, -79.5940544]
    ( 10 / 12 ) Resturants in The Kingsway, Montgomery Road, Old Mill North, Etobicoke:4
    ['M8X', 'Etobicoke', 'The Kingsway, Montgomery Road, Old Mill North', 43.653653600000005, -79.5069436]
    ( 11 / 12 ) Resturants in Old Mill South, King's Mill Park, Sunnylea, Humber Bay, Mimico NE, The Queensway East, Royal York South East, Kingsway Park South East, Etobicoke:1
    ['M8Y', 'Etobicoke', "Old Mill South, King's Mill Park, Sunnylea, Humber Bay, Mimico NE, The Queensway East, Royal York South East, Kingsway Park South East", 43.6362579, -79.49850909999999]
    ( 12 / 12 ) Resturants in Mimico NW, The Queensway West, South of Bloor, Kingsway Park South West, Royal York South West, Etobicoke:2
    ['M8Z', 'Etobicoke', 'Mimico NW, The Queensway West, South of Bloor, Kingsway Park South West, Royal York South West', 43.6288408, -79.52099940000001]


### 3.8. Data Visualization: Graphs and Maps

#### 3.8.1. Graphs:

##### _Scarborough:_


```python
Scarborough_filtered.groupby('categories')['name'].count().plot.bar(figsize=(35,10), color = 'red')
plt.title('Popular cuisines in Scarborough', fontsize = 20)
plt.xlabel('Types of Restaurants', fontsize = 20)
plt.ylabel('Number of Resturants', fontsize= 20)
plt.xticks(rotation = 'horizontal')
plt.show()
```


![png](output_59_0.png)


##### _Etobicoke:_


```python
Etobicoke_filtered.groupby('categories')['name'].count().plot.bar(figsize=(50,10), color = 'red')
plt.title('Popular cuisines in Etobicoke', fontsize = 20)
plt.xlabel('Types of Restaurants', fontsize = 20)
plt.ylabel('Number of Resturants', fontsize= 20)
plt.xticks(rotation = 'horizontal')
plt.show()
```


![png](output_61_0.png)


#### 3.8.2. Maps:

##### _Scarborough:_


```python
Scarborough_map = folium.Map(location=[43.773077,-79.257774], zoom_start=10) # generate map centred around the Scarborough

# add a red circle marker to represent Scarborough
folium.features.CircleMarker(
    [43.773077,-79.257774],
    radius=10,
    color='red',
    popup='Scarborough',
    fill = True,
    fill_color = 'red',
    fill_opacity = 0.6
).add_to(Scarborough_map)

# add the restaurants as blue circle markers
for lat, lng, label in zip(Scarborough_filtered.lat, Scarborough_filtered.lng, Scarborough_filtered.categories):
    folium.features.CircleMarker(
        [lat, lng],
        radius=5,
        color='blue',
        popup=label,
        fill = True,
        fill_color='blue',
        fill_opacity=0.6
    ).add_to(Scarborough_map)

# display map
Scarborough_map
```




<div style="width:100%;"><div style="position:relative;width:100%;height:0;padding-bottom:60%;"><span style="color:#565656">Make this Notebook Trusted to load map: File -> Trust Notebook</span><iframe src="about:blank" style="position:absolute;width:100%;height:100%;left:0;top:0;border:none !important;" data-html=PCFET0NUWVBFIGh0bWw+CjxoZWFkPiAgICAKICAgIDxtZXRhIGh0dHAtZXF1aXY9ImNvbnRlbnQtdHlwZSIgY29udGVudD0idGV4dC9odG1sOyBjaGFyc2V0PVVURi04IiAvPgogICAgPHNjcmlwdD5MX1BSRUZFUl9DQU5WQVMgPSBmYWxzZTsgTF9OT19UT1VDSCA9IGZhbHNlOyBMX0RJU0FCTEVfM0QgPSBmYWxzZTs8L3NjcmlwdD4KICAgIDxzY3JpcHQgc3JjPSJodHRwczovL2Nkbi5qc2RlbGl2ci5uZXQvbnBtL2xlYWZsZXRAMS4yLjAvZGlzdC9sZWFmbGV0LmpzIj48L3NjcmlwdD4KICAgIDxzY3JpcHQgc3JjPSJodHRwczovL2FqYXguZ29vZ2xlYXBpcy5jb20vYWpheC9saWJzL2pxdWVyeS8xLjExLjEvanF1ZXJ5Lm1pbi5qcyI+PC9zY3JpcHQ+CiAgICA8c2NyaXB0IHNyYz0iaHR0cHM6Ly9tYXhjZG4uYm9vdHN0cmFwY2RuLmNvbS9ib290c3RyYXAvMy4yLjAvanMvYm9vdHN0cmFwLm1pbi5qcyI+PC9zY3JpcHQ+CiAgICA8c2NyaXB0IHNyYz0iaHR0cHM6Ly9jZG5qcy5jbG91ZGZsYXJlLmNvbS9hamF4L2xpYnMvTGVhZmxldC5hd2Vzb21lLW1hcmtlcnMvMi4wLjIvbGVhZmxldC5hd2Vzb21lLW1hcmtlcnMuanMiPjwvc2NyaXB0PgogICAgPGxpbmsgcmVsPSJzdHlsZXNoZWV0IiBocmVmPSJodHRwczovL2Nkbi5qc2RlbGl2ci5uZXQvbnBtL2xlYWZsZXRAMS4yLjAvZGlzdC9sZWFmbGV0LmNzcyIvPgogICAgPGxpbmsgcmVsPSJzdHlsZXNoZWV0IiBocmVmPSJodHRwczovL21heGNkbi5ib290c3RyYXBjZG4uY29tL2Jvb3RzdHJhcC8zLjIuMC9jc3MvYm9vdHN0cmFwLm1pbi5jc3MiLz4KICAgIDxsaW5rIHJlbD0ic3R5bGVzaGVldCIgaHJlZj0iaHR0cHM6Ly9tYXhjZG4uYm9vdHN0cmFwY2RuLmNvbS9ib290c3RyYXAvMy4yLjAvY3NzL2Jvb3RzdHJhcC10aGVtZS5taW4uY3NzIi8+CiAgICA8bGluayByZWw9InN0eWxlc2hlZXQiIGhyZWY9Imh0dHBzOi8vbWF4Y2RuLmJvb3RzdHJhcGNkbi5jb20vZm9udC1hd2Vzb21lLzQuNi4zL2Nzcy9mb250LWF3ZXNvbWUubWluLmNzcyIvPgogICAgPGxpbmsgcmVsPSJzdHlsZXNoZWV0IiBocmVmPSJodHRwczovL2NkbmpzLmNsb3VkZmxhcmUuY29tL2FqYXgvbGlicy9MZWFmbGV0LmF3ZXNvbWUtbWFya2Vycy8yLjAuMi9sZWFmbGV0LmF3ZXNvbWUtbWFya2Vycy5jc3MiLz4KICAgIDxsaW5rIHJlbD0ic3R5bGVzaGVldCIgaHJlZj0iaHR0cHM6Ly9yYXdnaXQuY29tL3B5dGhvbi12aXN1YWxpemF0aW9uL2ZvbGl1bS9tYXN0ZXIvZm9saXVtL3RlbXBsYXRlcy9sZWFmbGV0LmF3ZXNvbWUucm90YXRlLmNzcyIvPgogICAgPHN0eWxlPmh0bWwsIGJvZHkge3dpZHRoOiAxMDAlO2hlaWdodDogMTAwJTttYXJnaW46IDA7cGFkZGluZzogMDt9PC9zdHlsZT4KICAgIDxzdHlsZT4jbWFwIHtwb3NpdGlvbjphYnNvbHV0ZTt0b3A6MDtib3R0b206MDtyaWdodDowO2xlZnQ6MDt9PC9zdHlsZT4KICAgIAogICAgICAgICAgICA8c3R5bGU+ICNtYXBfY2U2YjMwNjM4MzM5NGQxNDk2OTM3NTJlYjhkNTlmNTAgewogICAgICAgICAgICAgICAgcG9zaXRpb24gOiByZWxhdGl2ZTsKICAgICAgICAgICAgICAgIHdpZHRoIDogMTAwLjAlOwogICAgICAgICAgICAgICAgaGVpZ2h0OiAxMDAuMCU7CiAgICAgICAgICAgICAgICBsZWZ0OiAwLjAlOwogICAgICAgICAgICAgICAgdG9wOiAwLjAlOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICA8L3N0eWxlPgogICAgICAgIAo8L2hlYWQ+Cjxib2R5PiAgICAKICAgIAogICAgICAgICAgICA8ZGl2IGNsYXNzPSJmb2xpdW0tbWFwIiBpZD0ibWFwX2NlNmIzMDYzODMzOTRkMTQ5NjkzNzUyZWI4ZDU5ZjUwIiA+PC9kaXY+CiAgICAgICAgCjwvYm9keT4KPHNjcmlwdD4gICAgCiAgICAKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGJvdW5kcyA9IG51bGw7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgdmFyIG1hcF9jZTZiMzA2MzgzMzk0ZDE0OTY5Mzc1MmViOGQ1OWY1MCA9IEwubWFwKAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ21hcF9jZTZiMzA2MzgzMzk0ZDE0OTY5Mzc1MmViOGQ1OWY1MCcsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y2VudGVyOiBbNDMuNzczMDc3LC03OS4yNTc3NzRdLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgem9vbTogMTAsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXhCb3VuZHM6IGJvdW5kcywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxheWVyczogW10sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3b3JsZENvcHlKdW1wOiBmYWxzZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNyczogTC5DUlMuRVBTRzM4NTcKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciB0aWxlX2xheWVyXzgyN2YyYWUyYzM3ZDQ0ZjE4ZjZkOThhZGEwM2ZlNWU5ID0gTC50aWxlTGF5ZXIoCiAgICAgICAgICAgICAgICAnaHR0cHM6Ly97c30udGlsZS5vcGVuc3RyZWV0bWFwLm9yZy97en0ve3h9L3t5fS5wbmcnLAogICAgICAgICAgICAgICAgewogICJhdHRyaWJ1dGlvbiI6IG51bGwsCiAgImRldGVjdFJldGluYSI6IGZhbHNlLAogICJtYXhab29tIjogMTgsCiAgIm1pblpvb20iOiAxLAogICJub1dyYXAiOiBmYWxzZSwKICAic3ViZG9tYWlucyI6ICJhYmMiCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwX2NlNmIzMDYzODMzOTRkMTQ5NjkzNzUyZWI4ZDU5ZjUwKTsKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl81NDJhZDJjYjk5ZGI0YWMwYjc3ZmY5NmI2MDFmNjc2NyA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjc3MzA3NywtNzkuMjU3Nzc0XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogInJlZCIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogInJlZCIsCiAgImZpbGxPcGFjaXR5IjogMC42LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogMTAsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfY2U2YjMwNjM4MzM5NGQxNDk2OTM3NTJlYjhkNTlmNTApOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfODAzNTNlMGI0MjM0NDFlNDgzYTU4Zjk1M2RmMzJhMzkgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfYWZiOTFhOTRkYmY1NGQ5ZGI3NDUyMGY4ZjBmZmY0ZjMgPSAkKCc8ZGl2IGlkPSJodG1sX2FmYjkxYTk0ZGJmNTRkOWRiNzQ1MjBmOGYwZmZmNGYzIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5TY2FyYm9yb3VnaDwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfODAzNTNlMGI0MjM0NDFlNDgzYTU4Zjk1M2RmMzJhMzkuc2V0Q29udGVudChodG1sX2FmYjkxYTk0ZGJmNTRkOWRiNzQ1MjBmOGYwZmZmNGYzKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzU0MmFkMmNiOTlkYjRhYzBiNzdmZjk2YjYwMWY2NzY3LmJpbmRQb3B1cChwb3B1cF84MDM1M2UwYjQyMzQ0MWU0ODNhNThmOTUzZGYzMmEzOSk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl85ZTA1MTRkZmY5ZTk0MzFmYTY1YWNkODMzOWIyNWI4YiA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjc4Nzc3NDIzMDYyMjkyLC03OS4yNzAyOTM5MzcwNTAwNF0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiYmx1ZSIsCiAgImZpbGxPcGFjaXR5IjogMC42LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9jZTZiMzA2MzgzMzk0ZDE0OTY5Mzc1MmViOGQ1OWY1MCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF9kNTI3NDRhYzRhNjM0ZDQ5OWU0NWRiMjg0NmNkY2Y1YyA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9lMTlmOTNmNTI0YzA0ODQzOTZkNTdmNjhjZmMyNjc4MiA9ICQoJzxkaXYgaWQ9Imh0bWxfZTE5ZjkzZjUyNGMwNDg0Mzk2ZDU3ZjY4Y2ZjMjY3ODIiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkNoaW5lc2UgUmVzdGF1cmFudDwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfZDUyNzQ0YWM0YTYzNGQ0OTllNDVkYjI4NDZjZGNmNWMuc2V0Q29udGVudChodG1sX2UxOWY5M2Y1MjRjMDQ4NDM5NmQ1N2Y2OGNmYzI2NzgyKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzllMDUxNGRmZjllOTQzMWZhNjVhY2Q4MzM5YjI1YjhiLmJpbmRQb3B1cChwb3B1cF9kNTI3NDRhYzRhNjM0ZDQ5OWU0NWRiMjg0NmNkY2Y1Yyk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl81MTI5NTAyODNjNWI0NjI4OGIzNzcyN2E2NzZiYjc5YiA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjc4NzA3NzYyNDMwNjI2NCwtNzkuMjc1NDUzNTc2NTY4NDhdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogImJsdWUiLAogICJmaWxsT3BhY2l0eSI6IDAuNiwKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfY2U2YjMwNjM4MzM5NGQxNDk2OTM3NTJlYjhkNTlmNTApOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfM2FhMzYwOTEyMjkxNDFjNDk3MzVhM2NmNGQ2M2E5M2YgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfOGE1M2YzYmFkMGM1NDBjY2JjY2FjOTUzMTkxNjAzYjEgPSAkKCc8ZGl2IGlkPSJodG1sXzhhNTNmM2JhZDBjNTQwY2NiY2NhYzk1MzE5MTYwM2IxIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5DaGluZXNlIFJlc3RhdXJhbnQ8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzNhYTM2MDkxMjI5MTQxYzQ5NzM1YTNjZjRkNjNhOTNmLnNldENvbnRlbnQoaHRtbF84YTUzZjNiYWQwYzU0MGNjYmNjYWM5NTMxOTE2MDNiMSk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl81MTI5NTAyODNjNWI0NjI4OGIzNzcyN2E2NzZiYjc5Yi5iaW5kUG9wdXAocG9wdXBfM2FhMzYwOTEyMjkxNDFjNDk3MzVhM2NmNGQ2M2E5M2YpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfMzk2Y2VlZDE1NmMyNGM0ODg0OGEzMTFkYjBhMDc1MjMgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My43OTE4MDYsLTc5LjI1MDE5N10sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiYmx1ZSIsCiAgImZpbGxPcGFjaXR5IjogMC42LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9jZTZiMzA2MzgzMzk0ZDE0OTY5Mzc1MmViOGQ1OWY1MCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF85NjFmYzE0NDYzZTc0YzkyYjY2NWI2MDM0MDI0NTVjMyA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9hMWYzMGU5ZWE3MmU0MThiYjMzYTYzZDAzMjVjMzE0OCA9ICQoJzxkaXYgaWQ9Imh0bWxfYTFmMzBlOWVhNzJlNDE4YmIzM2E2M2QwMzI1YzMxNDgiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkNoaW5lc2UgUmVzdGF1cmFudDwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfOTYxZmMxNDQ2M2U3NGM5MmI2NjViNjAzNDAyNDU1YzMuc2V0Q29udGVudChodG1sX2ExZjMwZTllYTcyZTQxOGJiMzNhNjNkMDMyNWMzMTQ4KTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzM5NmNlZWQxNTZjMjRjNDg4NDhhMzExZGIwYTA3NTIzLmJpbmRQb3B1cChwb3B1cF85NjFmYzE0NDYzZTc0YzkyYjY2NWI2MDM0MDI0NTVjMyk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl9iYmU0YTVmOTdlYWE0OGY3YTljODc3Yzg1OTc2N2Y3NyA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjc3NjY0NDk5OTMzMjA5LC03OS4yODI2NzYwOTU3MTA4NF0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiYmx1ZSIsCiAgImZpbGxPcGFjaXR5IjogMC42LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9jZTZiMzA2MzgzMzk0ZDE0OTY5Mzc1MmViOGQ1OWY1MCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF9lYzhhM2I5MWQ1MWU0M2RlYmZiZjk0ZmJhYmY4OGUxNSA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9iZDczNzc3M2FmMjc0NGY1ODViNGMzZGMxMjU1MzRkNSA9ICQoJzxkaXYgaWQ9Imh0bWxfYmQ3Mzc3NzNhZjI3NDRmNTg1YjRjM2RjMTI1NTM0ZDUiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkphcGFuZXNlIFJlc3RhdXJhbnQ8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2VjOGEzYjkxZDUxZTQzZGViZmJmOTRmYmFiZjg4ZTE1LnNldENvbnRlbnQoaHRtbF9iZDczNzc3M2FmMjc0NGY1ODViNGMzZGMxMjU1MzRkNSk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl9iYmU0YTVmOTdlYWE0OGY3YTljODc3Yzg1OTc2N2Y3Ny5iaW5kUG9wdXAocG9wdXBfZWM4YTNiOTFkNTFlNDNkZWJmYmY5NGZiYWJmODhlMTUpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfM2VlNmEwZDYzMjI0NDBmZjk3OGYzNzg5Yjk2MWRkOTUgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My43ODYyMDk3NjIwNTA5NSwtNzkuMjc1NzAxNDAzMDYzOTNdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogImJsdWUiLAogICJmaWxsT3BhY2l0eSI6IDAuNiwKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfY2U2YjMwNjM4MzM5NGQxNDk2OTM3NTJlYjhkNTlmNTApOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfMjM0ZTc4MmI5ZjU2NGU4M2JmYTE1ZGE4ZGJlNDQxMGQgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfMjIwZDc0YzI1MjEzNGYwN2E4ZDJiOWZmZDk5NGM0NjIgPSAkKCc8ZGl2IGlkPSJodG1sXzIyMGQ3NGMyNTIxMzRmMDdhOGQyYjlmZmQ5OTRjNDYyIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5DaGluZXNlIFJlc3RhdXJhbnQ8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzIzNGU3ODJiOWY1NjRlODNiZmExNWRhOGRiZTQ0MTBkLnNldENvbnRlbnQoaHRtbF8yMjBkNzRjMjUyMTM0ZjA3YThkMmI5ZmZkOTk0YzQ2Mik7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl8zZWU2YTBkNjMyMjQ0MGZmOTc4ZjM3ODliOTYxZGQ5NS5iaW5kUG9wdXAocG9wdXBfMjM0ZTc4MmI5ZjU2NGU4M2JmYTE1ZGE4ZGJlNDQxMGQpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfYTI0MjM2Y2NkYWVhNDQxYTg5N2Q2YTRmMWU4YjVjODIgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My43ODM2NzA0NDQzMjkzOCwtNzkuMjg3Njc4NTYyOTE3MjhdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogImJsdWUiLAogICJmaWxsT3BhY2l0eSI6IDAuNiwKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfY2U2YjMwNjM4MzM5NGQxNDk2OTM3NTJlYjhkNTlmNTApOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfOTRiNDg2MmZjZDBiNDFiOWI1YWE3N2M1YzdlMmI3YzEgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfYzViNGM1MTc5MGU5NGJkZjhhMTg5ZDVhOTYwYWQzMjAgPSAkKCc8ZGl2IGlkPSJodG1sX2M1YjRjNTE3OTBlOTRiZGY4YTE4OWQ1YTk2MGFkMzIwIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5DaGluZXNlIFJlc3RhdXJhbnQ8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzk0YjQ4NjJmY2QwYjQxYjliNWFhNzdjNWM3ZTJiN2MxLnNldENvbnRlbnQoaHRtbF9jNWI0YzUxNzkwZTk0YmRmOGExODlkNWE5NjBhZDMyMCk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl9hMjQyMzZjY2RhZWE0NDFhODk3ZDZhNGYxZThiNWM4Mi5iaW5kUG9wdXAocG9wdXBfOTRiNDg2MmZjZDBiNDFiOWI1YWE3N2M1YzdlMmI3YzEpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfOWU2Mjk5MTA2ZTc5NDE1NGIyZTRmMTA0MzhhMTY0Y2QgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My43NTMwODk4Njc1Mjg1NSwtNzkuMjQ0NjgyNjcyMzIzMjRdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogImJsdWUiLAogICJmaWxsT3BhY2l0eSI6IDAuNiwKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfY2U2YjMwNjM4MzM5NGQxNDk2OTM3NTJlYjhkNTlmNTApOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfZDg2ZGMzNTI5N2Y3NDNmZjk3ZTVmOTg5YzQ2MDgzYzAgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfMWE3OTZhZmM5YWIwNGYyMDkxMzYzNzI2NDFmZmRjNmUgPSAkKCc8ZGl2IGlkPSJodG1sXzFhNzk2YWZjOWFiMDRmMjA5MTM2MzcyNjQxZmZkYzZlIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5CcmVha2Zhc3QgU3BvdDwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfZDg2ZGMzNTI5N2Y3NDNmZjk3ZTVmOTg5YzQ2MDgzYzAuc2V0Q29udGVudChodG1sXzFhNzk2YWZjOWFiMDRmMjA5MTM2MzcyNjQxZmZkYzZlKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzllNjI5OTEwNmU3OTQxNTRiMmU0ZjEwNDM4YTE2NGNkLmJpbmRQb3B1cChwb3B1cF9kODZkYzM1Mjk3Zjc0M2ZmOTdlNWY5ODljNDYwODNjMCk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl9mNzcxYmJjMjNjOTU0YzZiODZlYmFjZDljMzkwZjlhZiA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjc4NTkzNzQ3NzEzNTU1NSwtNzkuMjc2MDMwNzYwMzEwNjJdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogImJsdWUiLAogICJmaWxsT3BhY2l0eSI6IDAuNiwKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfY2U2YjMwNjM4MzM5NGQxNDk2OTM3NTJlYjhkNTlmNTApOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfYjBhZDZhNGJmMWZkNDI1N2FhNGQ4OTBmNjkyNjk4MWIgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfNWQwMjRhMTcwMWZlNGQwOWEwMDgxODBmOTkzZTU0NjggPSAkKCc8ZGl2IGlkPSJodG1sXzVkMDI0YTE3MDFmZTRkMDlhMDA4MTgwZjk5M2U1NDY4IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5DaGluZXNlIFJlc3RhdXJhbnQ8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2IwYWQ2YTRiZjFmZDQyNTdhYTRkODkwZjY5MjY5ODFiLnNldENvbnRlbnQoaHRtbF81ZDAyNGExNzAxZmU0ZDA5YTAwODE4MGY5OTNlNTQ2OCk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl9mNzcxYmJjMjNjOTU0YzZiODZlYmFjZDljMzkwZjlhZi5iaW5kUG9wdXAocG9wdXBfYjBhZDZhNGJmMWZkNDI1N2FhNGQ4OTBmNjkyNjk4MWIpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfYmRkOWE5YWJmYzcyNDNkMGExZmEyYjA0ZDRmYzRmZDYgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My43NTYwNDE1Mzk0NTMxMzYsLTc5LjI3NjI3NTkxOTQyMDEzXSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICJibHVlIiwKICAiZmlsbE9wYWNpdHkiOiAwLjYsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwX2NlNmIzMDYzODMzOTRkMTQ5NjkzNzUyZWI4ZDU5ZjUwKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzcxY2Q5MGM3NjI3MjQ4NjZiZWVhYmMzZDYzOTMwNWFhID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzNkZWYwNzhhMmQ5YjQ0OTJhYzZiODVhNzAyM2M4ZDlkID0gJCgnPGRpdiBpZD0iaHRtbF8zZGVmMDc4YTJkOWI0NDkyYWM2Yjg1YTcwMjNjOGQ5ZCIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+SW5kaWFuIFJlc3RhdXJhbnQ8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzcxY2Q5MGM3NjI3MjQ4NjZiZWVhYmMzZDYzOTMwNWFhLnNldENvbnRlbnQoaHRtbF8zZGVmMDc4YTJkOWI0NDkyYWM2Yjg1YTcwMjNjOGQ5ZCk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl9iZGQ5YTlhYmZjNzI0M2QwYTFmYTJiMDRkNGZjNGZkNi5iaW5kUG9wdXAocG9wdXBfNzFjZDkwYzc2MjcyNDg2NmJlZWFiYzNkNjM5MzA1YWEpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfODIxN2RhM2ZiZTYwNGFjNWJjNDI5NjcxNTEzYjVmZmYgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My43ODY0Njc2NzAzODQ0MSwtNzkuMjc1NjkzMTQ5Njk4MzRdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogImJsdWUiLAogICJmaWxsT3BhY2l0eSI6IDAuNiwKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfY2U2YjMwNjM4MzM5NGQxNDk2OTM3NTJlYjhkNTlmNTApOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfNGE3ZTYxOTRkZjEyNDM0NjkwZDQ2ODM0MzFiMzQ0ZmYgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfMDcwMjdjYWZjYzA2NDA0ZWJmNTRjODUzZDZiYzFhNDggPSAkKCc8ZGl2IGlkPSJodG1sXzA3MDI3Y2FmY2MwNjQwNGViZjU0Yzg1M2Q2YmMxYTQ4IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5Lb3JlYW4gUmVzdGF1cmFudDwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfNGE3ZTYxOTRkZjEyNDM0NjkwZDQ2ODM0MzFiMzQ0ZmYuc2V0Q29udGVudChodG1sXzA3MDI3Y2FmY2MwNjQwNGViZjU0Yzg1M2Q2YmMxYTQ4KTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzgyMTdkYTNmYmU2MDRhYzViYzQyOTY3MTUxM2I1ZmZmLmJpbmRQb3B1cChwb3B1cF80YTdlNjE5NGRmMTI0MzQ2OTBkNDY4MzQzMWIzNDRmZik7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl9kMzc0MjQ2NTgzZjM0ZWY1YjdmMzgyOTk1NTg0MDUxYiA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjc3NzA5MjQzMDk2NTU5NSwtNzkuMjU0NDYxNzQ1OTc0MDFdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogImJsdWUiLAogICJmaWxsT3BhY2l0eSI6IDAuNiwKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfY2U2YjMwNjM4MzM5NGQxNDk2OTM3NTJlYjhkNTlmNTApOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl80YTgzYWVjZjE4ZWM0MjA5OWU0NjRlNjQwYWRmMmE1NSA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjc4NDEzOTAwMzg3NDQ4LC03OS4yODgyODcxNjI3ODA3Nl0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiYmx1ZSIsCiAgImZpbGxPcGFjaXR5IjogMC42LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9jZTZiMzA2MzgzMzk0ZDE0OTY5Mzc1MmViOGQ1OWY1MCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF81YWJmMzg1N2IzZjc0NmY2YjI5ZmZlNjMzMmI2YjJlMSA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF8wOWMzNjBhMTY3Njc0NWJmOGY3MjYxYjgzNWUwMDBlOSA9ICQoJzxkaXYgaWQ9Imh0bWxfMDljMzYwYTE2NzY3NDViZjhmNzI2MWI4MzVlMDAwZTkiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkNoaW5lc2UgUmVzdGF1cmFudDwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfNWFiZjM4NTdiM2Y3NDZmNmIyOWZmZTYzMzJiNmIyZTEuc2V0Q29udGVudChodG1sXzA5YzM2MGExNjc2NzQ1YmY4ZjcyNjFiODM1ZTAwMGU5KTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzRhODNhZWNmMThlYzQyMDk5ZTQ2NGU2NDBhZGYyYTU1LmJpbmRQb3B1cChwb3B1cF81YWJmMzg1N2IzZjc0NmY2YjI5ZmZlNjMzMmI2YjJlMSk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl8zMzVkNDFjZTk0YzY0Y2ZhYTk3NWYwNWY1NTdlZmE5NiA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjc0MzczNiwtNzkuMjE3MjI0XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICJibHVlIiwKICAiZmlsbE9wYWNpdHkiOiAwLjYsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwX2NlNmIzMDYzODMzOTRkMTQ5NjkzNzUyZWI4ZDU5ZjUwKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzQyOTFiNjU0YTE5YTQ5MTc5MWE2MWJhNzgwZTFlNGZiID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sX2UyNzZjZDI4OGQwNTQ5NjM5NGE0ODNiNWMzZThlNWNkID0gJCgnPGRpdiBpZD0iaHRtbF9lMjc2Y2QyODhkMDU0OTYzOTRhNDgzYjVjM2U4ZTVjZCIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+R2VybWFuIFJlc3RhdXJhbnQ8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzQyOTFiNjU0YTE5YTQ5MTc5MWE2MWJhNzgwZTFlNGZiLnNldENvbnRlbnQoaHRtbF9lMjc2Y2QyODhkMDU0OTYzOTRhNDgzYjVjM2U4ZTVjZCk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl8zMzVkNDFjZTk0YzY0Y2ZhYTk3NWYwNWY1NTdlZmE5Ni5iaW5kUG9wdXAocG9wdXBfNDI5MWI2NTRhMTlhNDkxNzkxYTYxYmE3ODBlMWU0ZmIpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfMTFhNGZhODcwNzBiNDg1Njk3NWY3OTg1NzA1ZTQ3YWMgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My43ODA1MDQ3MzQ0NTM3MiwtNzkuMjk4ODQzOTEzMTQ0NzZdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogImJsdWUiLAogICJmaWxsT3BhY2l0eSI6IDAuNiwKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfY2U2YjMwNjM4MzM5NGQxNDk2OTM3NTJlYjhkNTlmNTApOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfNDA4ZWU4MWY1MjU3NGIwYjkwNWVlMzYyOWY5M2U5NTggPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfZDhiNDcxYTA2YTA2NGE4MTk1ZmIxM2JiOWEyM2QxYzcgPSAkKCc8ZGl2IGlkPSJodG1sX2Q4YjQ3MWEwNmEwNjRhODE5NWZiMTNiYjlhMjNkMWM3IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5DaGluZXNlIFJlc3RhdXJhbnQ8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzQwOGVlODFmNTI1NzRiMGI5MDVlZTM2MjlmOTNlOTU4LnNldENvbnRlbnQoaHRtbF9kOGI0NzFhMDZhMDY0YTgxOTVmYjEzYmI5YTIzZDFjNyk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl8xMWE0ZmE4NzA3MGI0ODU2OTc1Zjc5ODU3MDVlNDdhYy5iaW5kUG9wdXAocG9wdXBfNDA4ZWU4MWY1MjU3NGIwYjkwNWVlMzYyOWY5M2U5NTgpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfYzIwNzdkOTE0N2NkNGQxM2FhZTE0ZDYwN2I4OTIyZDAgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My43Njg1MzMyNDk2OTIzLC03OS4yNjY2NTI0NjQ4NjY2NF0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiYmx1ZSIsCiAgImZpbGxPcGFjaXR5IjogMC42LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9jZTZiMzA2MzgzMzk0ZDE0OTY5Mzc1MmViOGQ1OWY1MCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF81M2U0MzcwNWIxNmQ0YWJiOTQ0ZWE0YjE1MWVmM2RmZCA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF85MzU2YTgzNTdiYzU0OTE3YTc4MmU5NzE5YjA5YjU0ZSA9ICQoJzxkaXYgaWQ9Imh0bWxfOTM1NmE4MzU3YmM1NDkxN2E3ODJlOTcxOWIwOWI1NGUiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkNhcmliYmVhbiBSZXN0YXVyYW50PC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF81M2U0MzcwNWIxNmQ0YWJiOTQ0ZWE0YjE1MWVmM2RmZC5zZXRDb250ZW50KGh0bWxfOTM1NmE4MzU3YmM1NDkxN2E3ODJlOTcxOWIwOWI1NGUpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfYzIwNzdkOTE0N2NkNGQxM2FhZTE0ZDYwN2I4OTIyZDAuYmluZFBvcHVwKHBvcHVwXzUzZTQzNzA1YjE2ZDRhYmI5NDRlYTRiMTUxZWYzZGZkKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzYxY2ZkMWE3YTZlYTQyMDZhOWMyOTdiN2QzZDVkMGNmID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNzc0NzAyNDU5ODY3NTcsLTc5LjI0MTE3NDk1MjM0OTcxXSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICJibHVlIiwKICAiZmlsbE9wYWNpdHkiOiAwLjYsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwX2NlNmIzMDYzODMzOTRkMTQ5NjkzNzUyZWI4ZDU5ZjUwKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfMTAxM2Q2YjkyNTk3NDliY2FlNjFiZTM4ZTU0MGJlMjkgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My43NzY1NTQ3ODYyMTk2OCwtNzkuMzA2NjM4MDkyNDUzMDhdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogImJsdWUiLAogICJmaWxsT3BhY2l0eSI6IDAuNiwKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfY2U2YjMwNjM4MzM5NGQxNDk2OTM3NTJlYjhkNTlmNTApOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfYjY2OTQ4ZTA0NWQzNDY4ZTg3NjA1MGUyNWE3ZTU4ZjAgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfODJjNDFiNzFmM2EwNDVkMTg1MzExMmMyMWJjZjZjNDIgPSAkKCc8ZGl2IGlkPSJodG1sXzgyYzQxYjcxZjNhMDQ1ZDE4NTMxMTJjMjFiY2Y2YzQyIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5DaGluZXNlIFJlc3RhdXJhbnQ8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2I2Njk0OGUwNDVkMzQ2OGU4NzYwNTBlMjVhN2U1OGYwLnNldENvbnRlbnQoaHRtbF84MmM0MWI3MWYzYTA0NWQxODUzMTEyYzIxYmNmNmM0Mik7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl8xMDEzZDZiOTI1OTc0OWJjYWU2MWJlMzhlNTQwYmUyOS5iaW5kUG9wdXAocG9wdXBfYjY2OTQ4ZTA0NWQzNDY4ZTg3NjA1MGUyNWE3ZTU4ZjApOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfZmVhNDRhNzIxMTYyNDk3ZDljNGI2ODM2YjE1ZmI4ZmIgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My43NzQ3Nzk3MjU2MDMwMiwtNzkuMjQxMDQyNzkwNzk1XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICJibHVlIiwKICAiZmlsbE9wYWNpdHkiOiAwLjYsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwX2NlNmIzMDYzODMzOTRkMTQ5NjkzNzUyZWI4ZDU5ZjUwKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwX2FiOTgxOWY1OWZjNjRhOWQ4MDUwNDY1ZDYzZmJlMzIxID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sX2ZlMTdlOTMwNjMxYzQ0MDFiZDI3MGM1NGRiMWFlNmNjID0gJCgnPGRpdiBpZD0iaHRtbF9mZTE3ZTkzMDYzMWM0NDAxYmQyNzBjNTRkYjFhZTZjYyIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+UmVzdGF1cmFudDwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfYWI5ODE5ZjU5ZmM2NGE5ZDgwNTA0NjVkNjNmYmUzMjEuc2V0Q29udGVudChodG1sX2ZlMTdlOTMwNjMxYzQ0MDFiZDI3MGM1NGRiMWFlNmNjKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyX2ZlYTQ0YTcyMTE2MjQ5N2Q5YzRiNjgzNmIxNWZiOGZiLmJpbmRQb3B1cChwb3B1cF9hYjk4MTlmNTlmYzY0YTlkODA1MDQ2NWQ2M2ZiZTMyMSk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl80ZWRkYzRjNmI1ZWQ0M2VjYjkyYmMyZDNmMTJiOGU2NyA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjc2NzQ1OTAxOTg4Nzk4LC03OS4yNzA5MDEwNjY0NTE4N10sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiYmx1ZSIsCiAgImZpbGxPcGFjaXR5IjogMC42LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9jZTZiMzA2MzgzMzk0ZDE0OTY5Mzc1MmViOGQ1OWY1MCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF8wODU1OGVkNjk5OWM0NjA1ODY2MjNjZGIzZGM4ZjBiNSA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF8xNjRkZGNkMzA2ZTI0MWVjYmZmZmEyOGQwZWQ5NTI0NCA9ICQoJzxkaXYgaWQ9Imh0bWxfMTY0ZGRjZDMwNmUyNDFlY2JmZmZhMjhkMGVkOTUyNDQiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkNhcmliYmVhbiBSZXN0YXVyYW50PC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF8wODU1OGVkNjk5OWM0NjA1ODY2MjNjZGIzZGM4ZjBiNS5zZXRDb250ZW50KGh0bWxfMTY0ZGRjZDMwNmUyNDFlY2JmZmZhMjhkMGVkOTUyNDQpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfNGVkZGM0YzZiNWVkNDNlY2I5MmJjMmQzZjEyYjhlNjcuYmluZFBvcHVwKHBvcHVwXzA4NTU4ZWQ2OTk5YzQ2MDU4NjYyM2NkYjNkYzhmMGI1KTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzJlNGQ0YjZlNTQwODRkYTRhZjhiMzg3YWYxMjBjZjRhID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNzQ0OTQ0OTk5MDg3MzIsLTc5LjI5NjQ5MzU2MDYyMzRdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogImJsdWUiLAogICJmaWxsT3BhY2l0eSI6IDAuNiwKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfY2U2YjMwNjM4MzM5NGQxNDk2OTM3NTJlYjhkNTlmNTApOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfMTEyZWY5OWE2ZmEyNDE1YTk5OTg1MDM3ODhlMTQ2MDggPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfNjc1ODI0YmViMzlkNDA5YWJlOWIwYzc4ZTgwMmMyNTIgPSAkKCc8ZGl2IGlkPSJodG1sXzY3NTgyNGJlYjM5ZDQwOWFiZTliMGM3OGU4MDJjMjUyIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5Lb3JlYW4gUmVzdGF1cmFudDwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfMTEyZWY5OWE2ZmEyNDE1YTk5OTg1MDM3ODhlMTQ2MDguc2V0Q29udGVudChodG1sXzY3NTgyNGJlYjM5ZDQwOWFiZTliMGM3OGU4MDJjMjUyKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzJlNGQ0YjZlNTQwODRkYTRhZjhiMzg3YWYxMjBjZjRhLmJpbmRQb3B1cChwb3B1cF8xMTJlZjk5YTZmYTI0MTVhOTk5ODUwMzc4OGUxNDYwOCk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl81YTA4MzNjNDMwM2Q0NjAwODZmN2ZiMmYxOTVmMmIwZSA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjc2NzUxMzY5NTQyNTI2LC03OS4yNzA2MzEzMjE5MDYwN10sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiYmx1ZSIsCiAgImZpbGxPcGFjaXR5IjogMC42LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9jZTZiMzA2MzgzMzk0ZDE0OTY5Mzc1MmViOGQ1OWY1MCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF82MGIyMWJhNjA4ZWI0OGY1YTgzMGQ5MjJkY2MxYTcyOCA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF82ZGU4ZjU5OGU2N2Y0N2NhOGQ3MWVlMjQ2OTE3NjUxNSA9ICQoJzxkaXYgaWQ9Imh0bWxfNmRlOGY1OThlNjdmNDdjYThkNzFlZTI0NjkxNzY1MTUiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkNoaW5lc2UgUmVzdGF1cmFudDwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfNjBiMjFiYTYwOGViNDhmNWE4MzBkOTIyZGNjMWE3Mjguc2V0Q29udGVudChodG1sXzZkZThmNTk4ZTY3ZjQ3Y2E4ZDcxZWUyNDY5MTc2NTE1KTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzVhMDgzM2M0MzAzZDQ2MDA4NmY3ZmIyZjE5NWYyYjBlLmJpbmRQb3B1cChwb3B1cF82MGIyMWJhNjA4ZWI0OGY1YTgzMGQ5MjJkY2MxYTcyOCk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl8wMzQwOWE4ODM1MWQ0NjQyYjY1ODUwNzFiNGVlM2ExZSA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjgwNDEzLC03OS4yOTYwNl0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiYmx1ZSIsCiAgImZpbGxPcGFjaXR5IjogMC42LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9jZTZiMzA2MzgzMzk0ZDE0OTY5Mzc1MmViOGQ1OWY1MCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF9kY2FlZjJiOGMyYWM0MWRmOTUzYWUzOThlNGQyM2YwOSA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9lZTQwYzZhODAzZmY0MzcxYTE2ZjE5MjcyMGUyMzBkZCA9ICQoJzxkaXYgaWQ9Imh0bWxfZWU0MGM2YTgwM2ZmNDM3MWExNmYxOTI3MjBlMjMwZGQiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPldhcmVob3VzZSBTdG9yZTwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfZGNhZWYyYjhjMmFjNDFkZjk1M2FlMzk4ZTRkMjNmMDkuc2V0Q29udGVudChodG1sX2VlNDBjNmE4MDNmZjQzNzFhMTZmMTkyNzIwZTIzMGRkKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzAzNDA5YTg4MzUxZDQ2NDJiNjU4NTA3MWI0ZWUzYTFlLmJpbmRQb3B1cChwb3B1cF9kY2FlZjJiOGMyYWM0MWRmOTUzYWUzOThlNGQyM2YwOSk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl82ZTUyNDM0NmM0ZWI0NjdkYjBjMDMyNjRhZDRkZmZlOCA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjc3NDk2OSwtNzkuMjQwODcyXSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICJibHVlIiwKICAiZmlsbE9wYWNpdHkiOiAwLjYsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwX2NlNmIzMDYzODMzOTRkMTQ5NjkzNzUyZWI4ZDU5ZjUwKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzgzYTM3YTFlNDJjYzRlZGQ4ZjIwMmUzYzVmZjlkODRhID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzhlM2IzNDkwMmE1MjRkMzVhNDMzYWMzZjUwY2EzNmRiID0gJCgnPGRpdiBpZD0iaHRtbF84ZTNiMzQ5MDJhNTI0ZDM1YTQzM2FjM2Y1MGNhMzZkYiIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+SXRhbGlhbiBSZXN0YXVyYW50PC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF84M2EzN2ExZTQyY2M0ZWRkOGYyMDJlM2M1ZmY5ZDg0YS5zZXRDb250ZW50KGh0bWxfOGUzYjM0OTAyYTUyNGQzNWE0MzNhYzNmNTBjYTM2ZGIpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfNmU1MjQzNDZjNGViNDY3ZGIwYzAzMjY0YWQ0ZGZmZTguYmluZFBvcHVwKHBvcHVwXzgzYTM3YTFlNDJjYzRlZGQ4ZjIwMmUzYzVmZjlkODRhKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzdiZWIzNDFiNWJkNDQ4MTM4Yzc4MDg0MWUwYWZmNDIzID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuODA1MSwtNzkuMjg3MzVdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogImJsdWUiLAogICJmaWxsT3BhY2l0eSI6IDAuNiwKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfY2U2YjMwNjM4MzM5NGQxNDk2OTM3NTJlYjhkNTlmNTApOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfOTg4ZmNmNDEzZjAzNDc1ZjkyYTBjODYxNmFhZjFlMDEgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfYTgxOTUxZmQ0NWM5NGFiOGIwNWVkYzdlMmUwOGNkNGYgPSAkKCc8ZGl2IGlkPSJodG1sX2E4MTk1MWZkNDVjOTRhYjhiMDVlZGM3ZTJlMDhjZDRmIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5EdW1wbGluZyBSZXN0YXVyYW50PC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF85ODhmY2Y0MTNmMDM0NzVmOTJhMGM4NjE2YWFmMWUwMS5zZXRDb250ZW50KGh0bWxfYTgxOTUxZmQ0NWM5NGFiOGIwNWVkYzdlMmUwOGNkNGYpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfN2JlYjM0MWI1YmQ0NDgxMzhjNzgwODQxZTBhZmY0MjMuYmluZFBvcHVwKHBvcHVwXzk4OGZjZjQxM2YwMzQ3NWY5MmEwYzg2MTZhYWYxZTAxKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyX2E3NzNiZGM0Y2Q0YjQ5NWNiNjkzY2E5ODkwNmM0MTUyID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNzMxNzc2LC03OS4yNzI0OTldLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogImJsdWUiLAogICJmaWxsT3BhY2l0eSI6IDAuNiwKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfY2U2YjMwNjM4MzM5NGQxNDk2OTM3NTJlYjhkNTlmNTApOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfNDk4YmI4MzFjOWM2NGM2ZTg1NzczOGFlYzRmMzhmZGMgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfM2QyY2MxNTM4MTI2NDdiMWFmODRlMjMxYmFmMWRjZjIgPSAkKCc8ZGl2IGlkPSJodG1sXzNkMmNjMTUzODEyNjQ3YjFhZjg0ZTIzMWJhZjFkY2YyIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5SZXN0YXVyYW50PC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF80OThiYjgzMWM5YzY0YzZlODU3NzM4YWVjNGYzOGZkYy5zZXRDb250ZW50KGh0bWxfM2QyY2MxNTM4MTI2NDdiMWFmODRlMjMxYmFmMWRjZjIpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfYTc3M2JkYzRjZDRiNDk1Y2I2OTNjYTk4OTA2YzQxNTIuYmluZFBvcHVwKHBvcHVwXzQ5OGJiODMxYzljNjRjNmU4NTc3MzhhZWM0ZjM4ZmRjKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzg3ZTIzZDQ1ZDk4NzQ0MGZhZDk2NDYzMjJjYTg5M2QxID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuODA1Mjc2NTQ3MjQ1NzcsLTc5LjI4ODU3NTg5NzM1NTY2XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICJibHVlIiwKICAiZmlsbE9wYWNpdHkiOiAwLjYsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwX2NlNmIzMDYzODMzOTRkMTQ5NjkzNzUyZWI4ZDU5ZjUwKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzA0Y2U1YTM4M2VhNDQ0NDVhNTAyODQxYTNkNTNkYzM3ID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzMxMzUyNDdjYzI3YjQwMGRhM2QzODM4YWVlNWY5MDM5ID0gJCgnPGRpdiBpZD0iaHRtbF8zMTM1MjQ3Y2MyN2I0MDBkYTNkMzgzOGFlZTVmOTAzOSIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+Q2hpbmVzZSBSZXN0YXVyYW50PC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF8wNGNlNWEzODNlYTQ0NDQ1YTUwMjg0MWEzZDUzZGMzNy5zZXRDb250ZW50KGh0bWxfMzEzNTI0N2NjMjdiNDAwZGEzZDM4MzhhZWU1ZjkwMzkpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfODdlMjNkNDVkOTg3NDQwZmFkOTY0NjMyMmNhODkzZDEuYmluZFBvcHVwKHBvcHVwXzA0Y2U1YTM4M2VhNDQ0NDVhNTAyODQxYTNkNTNkYzM3KTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzRjMjYwY2M2MTI5NjRjZmY5YWZjMDlhMDA1ZjIyNTkxID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuODA1MTExNjMyNjU1NzMsLTc5LjI4NzYxNjEwMTg1MjVdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogImJsdWUiLAogICJmaWxsT3BhY2l0eSI6IDAuNiwKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfY2U2YjMwNjM4MzM5NGQxNDk2OTM3NTJlYjhkNTlmNTApOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfZGE5NTdjOTM1YTg5NGE4Mzk0NDc0OWMyNDdmZGIzNjQgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfZTJiNDNlYTcxYWQ3NDEzNzhjZGM0Yjg1NjFhY2Q5MGUgPSAkKCc8ZGl2IGlkPSJodG1sX2UyYjQzZWE3MWFkNzQxMzc4Y2RjNGI4NTYxYWNkOTBlIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5DaGluZXNlIFJlc3RhdXJhbnQ8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2RhOTU3YzkzNWE4OTRhODM5NDQ3NDljMjQ3ZmRiMzY0LnNldENvbnRlbnQoaHRtbF9lMmI0M2VhNzFhZDc0MTM3OGNkYzRiODU2MWFjZDkwZSk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl80YzI2MGNjNjEyOTY0Y2ZmOWFmYzA5YTAwNWYyMjU5MS5iaW5kUG9wdXAocG9wdXBfZGE5NTdjOTM1YTg5NGE4Mzk0NDc0OWMyNDdmZGIzNjQpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfMTkzNTllNzU3YzIyNDMwNjk0MGZlYzg4N2Q4MzQ3NmEgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My43MjQ4MTI3MzgwMDAyMjQsLTc5LjI1MjExMDY3NjU5MDkzXSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICJibHVlIiwKICAiZmlsbE9wYWNpdHkiOiAwLjYsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwX2NlNmIzMDYzODMzOTRkMTQ5NjkzNzUyZWI4ZDU5ZjUwKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzhiOTU5OWY3ZDU2MDQ3YjA5ZjZlOGIwY2Y0YWVjM2E3ID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzU1ZDJiYjJlYWRiYTQ5ZjdhOWRkZjdmZGVkYTlmNmMwID0gJCgnPGRpdiBpZD0iaHRtbF81NWQyYmIyZWFkYmE0OWY3YTlkZGY3ZmRlZGE5ZjZjMCIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+QXNpYW4gUmVzdGF1cmFudDwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfOGI5NTk5ZjdkNTYwNDdiMDlmNmU4YjBjZjRhZWMzYTcuc2V0Q29udGVudChodG1sXzU1ZDJiYjJlYWRiYTQ5ZjdhOWRkZjdmZGVkYTlmNmMwKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzE5MzU5ZTc1N2MyMjQzMDY5NDBmZWM4ODdkODM0NzZhLmJpbmRQb3B1cChwb3B1cF84Yjk1OTlmN2Q1NjA0N2IwOWY2ZThiMGNmNGFlYzNhNyk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl82ODJlN2IwZmEwZTM0ZDgzODc4Mzk3OGE3MjE1ZDY4YiA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjc3NTc5NDEwMDQyODMzLC03OS4zMjI0OTYwNDA3NjkwN10sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiYmx1ZSIsCiAgImZpbGxPcGFjaXR5IjogMC42LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9jZTZiMzA2MzgzMzk0ZDE0OTY5Mzc1MmViOGQ1OWY1MCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF84ZTg0MGViODU1MGE0ZDBhODZlN2JkOWQyNWUxNmE3YSA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF8xZjJhMGQ4Y2Q1NmQ0ZjZiYWE1OWE2NWJiM2NjN2YxNiA9ICQoJzxkaXYgaWQ9Imh0bWxfMWYyYTBkOGNkNTZkNGY2YmFhNTlhNjViYjNjYzdmMTYiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkNoaW5lc2UgUmVzdGF1cmFudDwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfOGU4NDBlYjg1NTBhNGQwYTg2ZTdiZDlkMjVlMTZhN2Euc2V0Q29udGVudChodG1sXzFmMmEwZDhjZDU2ZDRmNmJhYTU5YTY1YmIzY2M3ZjE2KTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzY4MmU3YjBmYTBlMzRkODM4NzgzOTc4YTcyMTVkNjhiLmJpbmRQb3B1cChwb3B1cF84ZTg0MGViODU1MGE0ZDBhODZlN2JkOWQyNWUxNmE3YSk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl9iMjAzNmFlMTI5ZmI0MjZhYTJiYjY2Y2E1M2JmNmRkNSA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjc4NDQ1MjMwMDQwMjcsLTc5LjIzMDU3ODI2MDE1OTQzXSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICJibHVlIiwKICAiZmlsbE9wYWNpdHkiOiAwLjYsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwX2NlNmIzMDYzODMzOTRkMTQ5NjkzNzUyZWI4ZDU5ZjUwKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzQwYTZlMGIwYmE0OTRhMjU4NGQyMWY2MTdmMzliMDc0ID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzlkZWMyMGIwNzhiYTQ2MWE4ODFlMmQ1NjVkNDU3OTAyID0gJCgnPGRpdiBpZD0iaHRtbF85ZGVjMjBiMDc4YmE0NjFhODgxZTJkNTY1ZDQ1NzkwMiIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+QmlzdHJvPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF80MGE2ZTBiMGJhNDk0YTI1ODRkMjFmNjE3ZjM5YjA3NC5zZXRDb250ZW50KGh0bWxfOWRlYzIwYjA3OGJhNDYxYTg4MWUyZDU2NWQ0NTc5MDIpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfYjIwMzZhZTEyOWZiNDI2YWEyYmI2NmNhNTNiZjZkZDUuYmluZFBvcHVwKHBvcHVwXzQwYTZlMGIwYmE0OTRhMjU4NGQyMWY2MTdmMzliMDc0KTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzEwOWRkNzI4MmY3MTQwNzViODk0Njk4NGVlNDM3MTA5ID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNzg3NTY0OTE3NzMyMDgsLTc5LjI2ODgwOTc3MTExODgyXSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICJibHVlIiwKICAiZmlsbE9wYWNpdHkiOiAwLjYsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwX2NlNmIzMDYzODMzOTRkMTQ5NjkzNzUyZWI4ZDU5ZjUwKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzkzNWYwMTUwNWNlYTQyMjliNTA3YjliN2U2ZmI3YWI1ID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sX2VmNDRiNGI5ZmZhOTQ4NjVhMDc5Zjc1OTU3MTQxYmU1ID0gJCgnPGRpdiBpZD0iaHRtbF9lZjQ0YjRiOWZmYTk0ODY1YTA3OWY3NTk1NzE0MWJlNSIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+UmVzdGF1cmFudDwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfOTM1ZjAxNTA1Y2VhNDIyOWI1MDdiOWI3ZTZmYjdhYjUuc2V0Q29udGVudChodG1sX2VmNDRiNGI5ZmZhOTQ4NjVhMDc5Zjc1OTU3MTQxYmU1KTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzEwOWRkNzI4MmY3MTQwNzViODk0Njk4NGVlNDM3MTA5LmJpbmRQb3B1cChwb3B1cF85MzVmMDE1MDVjZWE0MjI5YjUwN2I5YjdlNmZiN2FiNSk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl9iNzBmNzE2ZGE3OTk0YjU3YTE5YmI2OWRkZGUwYzM1YiA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjc3NTY3MDQzMzM5OTQ3LC03OS4zMjIzNjI5OTM2NDI4MV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiYmx1ZSIsCiAgImZpbGxPcGFjaXR5IjogMC42LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9jZTZiMzA2MzgzMzk0ZDE0OTY5Mzc1MmViOGQ1OWY1MCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF9mMGFmNGZmODdhMWY0MDkzYTFjMDM1MzhlYjlhYjZjNSA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9hMjQ4YjkxNmI5Mjg0NzEyYmQ1Njg5YzI5MTdmMGY4MiA9ICQoJzxkaXYgaWQ9Imh0bWxfYTI0OGI5MTZiOTI4NDcxMmJkNTY4OWMyOTE3ZjBmODIiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkNhcmliYmVhbiBSZXN0YXVyYW50PC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF9mMGFmNGZmODdhMWY0MDkzYTFjMDM1MzhlYjlhYjZjNS5zZXRDb250ZW50KGh0bWxfYTI0OGI5MTZiOTI4NDcxMmJkNTY4OWMyOTE3ZjBmODIpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfYjcwZjcxNmRhNzk5NGI1N2ExOWJiNjlkZGRlMGMzNWIuYmluZFBvcHVwKHBvcHVwX2YwYWY0ZmY4N2ExZjQwOTNhMWMwMzUzOGViOWFiNmM1KTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzY2MjM1YjIzODA4NDQ1MmI5MDM4NjgzMjY5ODIyNWY0ID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuODIyOTA2NiwtNzkuMjQ3NTA1MV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiYmx1ZSIsCiAgImZpbGxPcGFjaXR5IjogMC42LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9jZTZiMzA2MzgzMzk0ZDE0OTY5Mzc1MmViOGQ1OWY1MCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF9kODUzY2NiYzFhZGQ0YTdjYjE5Mjg0ODQwMTRmYTY0MyA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF81MzdjMWJjYTU2MDg0YmU0YmU2MGJkMTI2NjQ1MWRjMCA9ICQoJzxkaXYgaWQ9Imh0bWxfNTM3YzFiY2E1NjA4NGJlNGJlNjBiZDEyNjY0NTFkYzAiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPlJlc3RhdXJhbnQ8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2Q4NTNjY2JjMWFkZDRhN2NiMTkyODQ4NDAxNGZhNjQzLnNldENvbnRlbnQoaHRtbF81MzdjMWJjYTU2MDg0YmU0YmU2MGJkMTI2NjQ1MWRjMCk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl82NjIzNWIyMzgwODQ0NTJiOTAzODY4MzI2OTgyMjVmNC5iaW5kUG9wdXAocG9wdXBfZDg1M2NjYmMxYWRkNGE3Y2IxOTI4NDg0MDE0ZmE2NDMpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfM2Y1Y2FlZjU0YWZhNDQ2NThhZWZlMjJkYTNkZGM5YjkgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My43ODg4NDgyMDU1MjYxMiwtNzkuMjU2OTU4OTYxNDg2ODJdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogImJsdWUiLAogICJmaWxsT3BhY2l0eSI6IDAuNiwKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfY2U2YjMwNjM4MzM5NGQxNDk2OTM3NTJlYjhkNTlmNTApOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfZjAzZjE2OTA4ZGM5NDNjM2E1MzQ5ZDJhM2ZhYmNhNDcgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfYjcxMzFiM2M1MzUzNGE4MGI4MWQ5MTM5ZDRiNjZlN2MgPSAkKCc8ZGl2IGlkPSJodG1sX2I3MTMxYjNjNTM1MzRhODBiODFkOTEzOWQ0YjY2ZTdjIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5PdGhlciBFdmVudDwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfZjAzZjE2OTA4ZGM5NDNjM2E1MzQ5ZDJhM2ZhYmNhNDcuc2V0Q29udGVudChodG1sX2I3MTMxYjNjNTM1MzRhODBiODFkOTEzOWQ0YjY2ZTdjKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzNmNWNhZWY1NGFmYTQ0NjU4YWVmZTIyZGEzZGRjOWI5LmJpbmRQb3B1cChwb3B1cF9mMDNmMTY5MDhkYzk0M2MzYTUzNDlkMmEzZmFiY2E0Nyk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl9hY2IwYzA2MGRjNDM0OTFlOWQ1YTNlMjA4ODNiMjA4ZSA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjc4MTgwNiwtNzkuMjc2NTZdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogImJsdWUiLAogICJmaWxsT3BhY2l0eSI6IDAuNiwKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfY2U2YjMwNjM4MzM5NGQxNDk2OTM3NTJlYjhkNTlmNTApOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfYzdiNTZkYzY1MDc4NGU4ZmIzYmRlZjM2NTFlNDZjODkgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfNWY3YWY0MjQxYmI5NDA5NDhhMDQwN2JmMGNhNTQyZGUgPSAkKCc8ZGl2IGlkPSJodG1sXzVmN2FmNDI0MWJiOTQwOTQ4YTA0MDdiZjBjYTU0MmRlIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5Tb3V0aCBJbmRpYW4gUmVzdGF1cmFudDwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfYzdiNTZkYzY1MDc4NGU4ZmIzYmRlZjM2NTFlNDZjODkuc2V0Q29udGVudChodG1sXzVmN2FmNDI0MWJiOTQwOTQ4YTA0MDdiZjBjYTU0MmRlKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyX2FjYjBjMDYwZGM0MzQ5MWU5ZDVhM2UyMDg4M2IyMDhlLmJpbmRQb3B1cChwb3B1cF9jN2I1NmRjNjUwNzg0ZThmYjNiZGVmMzY1MWU0NmM4OSk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl8yNjM1ZWEyMzRmZTU0ZTQ4YjYyNjRlNDUzMzc2YWNhOCA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjgxOTQyMDczNDQzNDU0NCwtNzkuMjk0NjgxOTE1MDE0XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICJibHVlIiwKICAiZmlsbE9wYWNpdHkiOiAwLjYsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwX2NlNmIzMDYzODMzOTRkMTQ5NjkzNzUyZWI4ZDU5ZjUwKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzNiZmEyNTM1OTdlNzQxMTVhZTcxMGYwZDNlODhjMjg2ID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzljNzgyMTEwOWNkMTQ0MWNhNDk2YjkwZGVkODRhNDQxID0gJCgnPGRpdiBpZD0iaHRtbF85Yzc4MjExMDljZDE0NDFjYTQ5NmI5MGRlZDg0YTQ0MSIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+VmVnZXRhcmlhbiAvIFZlZ2FuIFJlc3RhdXJhbnQ8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzNiZmEyNTM1OTdlNzQxMTVhZTcxMGYwZDNlODhjMjg2LnNldENvbnRlbnQoaHRtbF85Yzc4MjExMDljZDE0NDFjYTQ5NmI5MGRlZDg0YTQ0MSk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl8yNjM1ZWEyMzRmZTU0ZTQ4YjYyNjRlNDUzMzc2YWNhOC5iaW5kUG9wdXAocG9wdXBfM2JmYTI1MzU5N2U3NDExNWFlNzEwZjBkM2U4OGMyODYpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfMWQwOTI3ZjI3ZmY3NGMwNDkzZDE5ZWU5OGY5N2EzMjggPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My44MTQxNDgwMDA5MDYyNywtNzkuMjkxNTQyNzA0ODM4NThdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogImJsdWUiLAogICJmaWxsT3BhY2l0eSI6IDAuNiwKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfY2U2YjMwNjM4MzM5NGQxNDk2OTM3NTJlYjhkNTlmNTApOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfNzUzODBlMDc1ZDkyNDFiMDgxMDFmZTMyNDEwMjU2MmIgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfZTRjZTlkZjBmNmIzNDQzNDk3MjExYzA3ZmUxODljZDIgPSAkKCc8ZGl2IGlkPSJodG1sX2U0Y2U5ZGYwZjZiMzQ0MzQ5NzIxMWMwN2ZlMTg5Y2QyIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5DaGluZXNlIFJlc3RhdXJhbnQ8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzc1MzgwZTA3NWQ5MjQxYjA4MTAxZmUzMjQxMDI1NjJiLnNldENvbnRlbnQoaHRtbF9lNGNlOWRmMGY2YjM0NDM0OTcyMTFjMDdmZTE4OWNkMik7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl8xZDA5MjdmMjdmZjc0YzA0OTNkMTllZTk4Zjk3YTMyOC5iaW5kUG9wdXAocG9wdXBfNzUzODBlMDc1ZDkyNDFiMDgxMDFmZTMyNDEwMjU2MmIpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfYzFkMzgyM2U4YzVhNDIzZThkZTE2MGQ0MTc2ODFlZmMgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My43ODgyMTkwNDM5MTA1MTYsLTc5LjI2NDA2OTEzMzY4MjEzXSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICJibHVlIiwKICAiZmlsbE9wYWNpdHkiOiAwLjYsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwX2NlNmIzMDYzODMzOTRkMTQ5NjkzNzUyZWI4ZDU5ZjUwKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzlkMTcwZjEzNmQxMzQ0NTA5YWQyNWE3NGE4NDY2OTRmID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzM3NjMxYmU3ZWE0NzRjY2I4YTdjNGRjZTczNzJiMTI0ID0gJCgnPGRpdiBpZD0iaHRtbF8zNzYzMWJlN2VhNDc0Y2NiOGE3YzRkY2U3MzcyYjEyNCIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+Q2hpbmVzZSBSZXN0YXVyYW50PC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF85ZDE3MGYxMzZkMTM0NDUwOWFkMjVhNzRhODQ2Njk0Zi5zZXRDb250ZW50KGh0bWxfMzc2MzFiZTdlYTQ3NGNjYjhhN2M0ZGNlNzM3MmIxMjQpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfYzFkMzgyM2U4YzVhNDIzZThkZTE2MGQ0MTc2ODFlZmMuYmluZFBvcHVwKHBvcHVwXzlkMTcwZjEzNmQxMzQ0NTA5YWQyNWE3NGE4NDY2OTRmKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyX2ZlYWRkYjFkMjg0ODQzOTY5YTdhY2E0MTZlOTkxYmQ2ID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNzg3MTQ3LC03OS4yNzAyNzldLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogImJsdWUiLAogICJmaWxsT3BhY2l0eSI6IDAuNiwKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfY2U2YjMwNjM4MzM5NGQxNDk2OTM3NTJlYjhkNTlmNTApOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfMWI5MTJkZThhOTc2NGU4Yjg4NWIwZTQyY2RlNmUwZWUgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfYmIzMDdkNTIwYWVmNDQ2MWE4N2Q0ZjA5YTI4ZTk2MTcgPSAkKCc8ZGl2IGlkPSJodG1sX2JiMzA3ZDUyMGFlZjQ0NjFhODdkNGYwOWEyOGU5NjE3IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5Bc2lhbiBSZXN0YXVyYW50PC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF8xYjkxMmRlOGE5NzY0ZThiODg1YjBlNDJjZGU2ZTBlZS5zZXRDb250ZW50KGh0bWxfYmIzMDdkNTIwYWVmNDQ2MWE4N2Q0ZjA5YTI4ZTk2MTcpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfZmVhZGRiMWQyODQ4NDM5NjlhN2FjYTQxNmU5OTFiZDYuYmluZFBvcHVwKHBvcHVwXzFiOTEyZGU4YTk3NjRlOGI4ODViMGU0MmNkZTZlMGVlKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzMwZDRkZDhkYjA3NzQzNzM4YjA3NWEzZmZiZDdmMjU0ID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNzQyNTU0MTc4MjkzOTYsLTc5LjMwODc5MjAxNjU1MzkxXSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICJibHVlIiwKICAiZmlsbE9wYWNpdHkiOiAwLjYsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwX2NlNmIzMDYzODMzOTRkMTQ5NjkzNzUyZWI4ZDU5ZjUwKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwX2EzYjkyODE5NDE5YTQxZDQ5ZTM2MWQwM2IzZWQ2MzRiID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzY4MmMyZWFlMjkxYTRkYjg5NGIyNjI0MWUzN2E3ZmZmID0gJCgnPGRpdiBpZD0iaHRtbF82ODJjMmVhZTI5MWE0ZGI4OTRiMjYyNDFlMzdhN2ZmZiIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+Q2FyaWJiZWFuIFJlc3RhdXJhbnQ8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2EzYjkyODE5NDE5YTQxZDQ5ZTM2MWQwM2IzZWQ2MzRiLnNldENvbnRlbnQoaHRtbF82ODJjMmVhZTI5MWE0ZGI4OTRiMjYyNDFlMzdhN2ZmZik7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl8zMGQ0ZGQ4ZGIwNzc0MzczOGIwNzVhM2ZmYmQ3ZjI1NC5iaW5kUG9wdXAocG9wdXBfYTNiOTI4MTk0MTlhNDFkNDllMzYxZDAzYjNlZDYzNGIpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfZDU5NmNmNTllZDhjNDg2NTk4ODE4MjAyYzFhNzg1YTggPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My43ODY4OTU5NjQxMDMzNiwtNzkuMjczOTcyNzk2NDc4NTVdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogImJsdWUiLAogICJmaWxsT3BhY2l0eSI6IDAuNiwKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfY2U2YjMwNjM4MzM5NGQxNDk2OTM3NTJlYjhkNTlmNTApOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfYWMyNjhjNTkwY2JhNGM4NmI0MGIxZGNlYTI0M2JmMjEgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfNThkZDJjZDk3ZWMzNDg1MGIxZGRjMDlhNzU1ZDU2MTYgPSAkKCc8ZGl2IGlkPSJodG1sXzU4ZGQyY2Q5N2VjMzQ4NTBiMWRkYzA5YTc1NWQ1NjE2IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5Bc2lhbiBSZXN0YXVyYW50PC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF9hYzI2OGM1OTBjYmE0Yzg2YjQwYjFkY2VhMjQzYmYyMS5zZXRDb250ZW50KGh0bWxfNThkZDJjZDk3ZWMzNDg1MGIxZGRjMDlhNzU1ZDU2MTYpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfZDU5NmNmNTllZDhjNDg2NTk4ODE4MjAyYzFhNzg1YTguYmluZFBvcHVwKHBvcHVwX2FjMjY4YzU5MGNiYTRjODZiNDBiMWRjZWEyNDNiZjIxKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzY1ZTc3ZmY0MTk5MzRhN2RiZDk4MjBiYTM5OWUxZTUxID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNzkyNjQ0MTAwMDE5NDIsLTc5LjIzODQ3MjUyOTg5OTgxXSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICJibHVlIiwKICAiZmlsbE9wYWNpdHkiOiAwLjYsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwX2NlNmIzMDYzODMzOTRkMTQ5NjkzNzUyZWI4ZDU5ZjUwKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzY2MzkxNTQ1ZDczOTRmYmFiMTEzOGI2OGQ4YTlhNDJlID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzc4OTljNzI2ZGUzNzRmZDk5ZGRjNjhhYmI2ZDM5NDkzID0gJCgnPGRpdiBpZD0iaHRtbF83ODk5YzcyNmRlMzc0ZmQ5OWRkYzY4YWJiNmQzOTQ5MyIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+RGluZXI8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzY2MzkxNTQ1ZDczOTRmYmFiMTEzOGI2OGQ4YTlhNDJlLnNldENvbnRlbnQoaHRtbF83ODk5YzcyNmRlMzc0ZmQ5OWRkYzY4YWJiNmQzOTQ5Myk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl82NWU3N2ZmNDE5OTM0YTdkYmQ5ODIwYmEzOTllMWU1MS5iaW5kUG9wdXAocG9wdXBfNjYzOTE1NDVkNzM5NGZiYWIxMTM4YjY4ZDhhOWE0MmUpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfMDU4MjdmMWZhY2YwNGQ1NmEwOTQ4ZjFkNjEwMTI4YzAgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My43ODc1Njc4NDY3MzA3MjQsLTc5LjI2OTU4NTM2NjMyMTA1XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICJibHVlIiwKICAiZmlsbE9wYWNpdHkiOiAwLjYsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwX2NlNmIzMDYzODMzOTRkMTQ5NjkzNzUyZWI4ZDU5ZjUwKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzlkNDRiMTc5MDU4NDQ3ZTk4YjNkMjFjNTU2YmIwZTY3ID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzQ3MWYwZjM5NGQ1ZjQ1MGZhYzg3YzlmYTYxNjE3ZGE1ID0gJCgnPGRpdiBpZD0iaHRtbF80NzFmMGYzOTRkNWY0NTBmYWM4N2M5ZmE2MTYxN2RhNSIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+Q2FudG9uZXNlIFJlc3RhdXJhbnQ8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzlkNDRiMTc5MDU4NDQ3ZTk4YjNkMjFjNTU2YmIwZTY3LnNldENvbnRlbnQoaHRtbF80NzFmMGYzOTRkNWY0NTBmYWM4N2M5ZmE2MTYxN2RhNSk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl8wNTgyN2YxZmFjZjA0ZDU2YTA5NDhmMWQ2MTAxMjhjMC5iaW5kUG9wdXAocG9wdXBfOWQ0NGIxNzkwNTg0NDdlOThiM2QyMWM1NTZiYjBlNjcpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfZmMyYjYxNWRhZTQ3NGRkZWE4MzdlY2RlYjJiMjAzODUgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My43ODgwNzEsLTc5LjI2NTEzNF0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiYmx1ZSIsCiAgImZpbGxPcGFjaXR5IjogMC42LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9jZTZiMzA2MzgzMzk0ZDE0OTY5Mzc1MmViOGQ1OWY1MCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF9iYjk2Y2NlMmQwYzU0N2NkOWI2MWJmMWVmYmIxYTM3OSA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF8yZTJiNWJhNDVlMDg0ZGE2OGE2MWFiZDBiYTFlYTNhNyA9ICQoJzxkaXYgaWQ9Imh0bWxfMmUyYjViYTQ1ZTA4NGRhNjhhNjFhYmQwYmExZWEzYTciIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkFtZXJpY2FuIFJlc3RhdXJhbnQ8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2JiOTZjY2UyZDBjNTQ3Y2Q5YjYxYmYxZWZiYjFhMzc5LnNldENvbnRlbnQoaHRtbF8yZTJiNWJhNDVlMDg0ZGE2OGE2MWFiZDBiYTFlYTNhNyk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl9mYzJiNjE1ZGFlNDc0ZGRlYTgzN2VjZGViMmIyMDM4NS5iaW5kUG9wdXAocG9wdXBfYmI5NmNjZTJkMGM1NDdjZDliNjFiZjFlZmJiMWEzNzkpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfNmVkODFkM2JiNGNjNGQwOWI3M2Y5ZmRhMzczZDlkMzIgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My43OTgwOSwtNzkuMzMzNzhdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogImJsdWUiLAogICJmaWxsT3BhY2l0eSI6IDAuNiwKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfY2U2YjMwNjM4MzM5NGQxNDk2OTM3NTJlYjhkNTlmNTApOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfNmMzYjE5ZDYyYzdhNDk2ZWFlMWZmZTdiMDZlMDdiNGUgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfZTYzNWEyNWUyNjcwNDRiZDhjZDk2ZTAxOTg0MDYxMGUgPSAkKCc8ZGl2IGlkPSJodG1sX2U2MzVhMjVlMjY3MDQ0YmQ4Y2Q5NmUwMTk4NDA2MTBlIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5DYW50b25lc2UgUmVzdGF1cmFudDwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfNmMzYjE5ZDYyYzdhNDk2ZWFlMWZmZTdiMDZlMDdiNGUuc2V0Q29udGVudChodG1sX2U2MzVhMjVlMjY3MDQ0YmQ4Y2Q5NmUwMTk4NDA2MTBlKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzZlZDgxZDNiYjRjYzRkMDliNzNmOWZkYTM3M2Q5ZDMyLmJpbmRQb3B1cChwb3B1cF82YzNiMTlkNjJjN2E0OTZlYWUxZmZlN2IwNmUwN2I0ZSk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl8xOGI1YWU0MjY2ZDc0N2RlODMxNDg0Y2RkYmUwNjU1ZiA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjc4NDUxMjczMjg1NDI1LC03OS4yNzc3MzUzNTI1MTYxN10sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiYmx1ZSIsCiAgImZpbGxPcGFjaXR5IjogMC42LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9jZTZiMzA2MzgzMzk0ZDE0OTY5Mzc1MmViOGQ1OWY1MCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF9kYjBhNjNmMTA3Yjc0ZDU3OWE0MzIzNGIwMmFhMTc2NiA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF8wODliMzQzODY4ZTQ0YTNhODllNzg4YzhhNGM1Yzg2MSA9ICQoJzxkaXYgaWQ9Imh0bWxfMDg5YjM0Mzg2OGU0NGEzYTg5ZTc4OGM4YTRjNWM4NjEiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkNoaW5lc2UgUmVzdGF1cmFudDwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfZGIwYTYzZjEwN2I3NGQ1NzlhNDMyMzRiMDJhYTE3NjYuc2V0Q29udGVudChodG1sXzA4OWIzNDM4NjhlNDRhM2E4OWU3ODhjOGE0YzVjODYxKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzE4YjVhZTQyNjZkNzQ3ZGU4MzE0ODRjZGRiZTA2NTVmLmJpbmRQb3B1cChwb3B1cF9kYjBhNjNmMTA3Yjc0ZDU3OWE0MzIzNGIwMmFhMTc2Nik7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl9kNzM1YmYwN2MwY2I0OTNiODBiYzg2M2U1MDIxYTRjYiA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjc2ODgxNjc1NTQ0MzYxLC03OS4yODE0NzU1NDEyMjU4OV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiYmx1ZSIsCiAgImZpbGxPcGFjaXR5IjogMC42LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9jZTZiMzA2MzgzMzk0ZDE0OTY5Mzc1MmViOGQ1OWY1MCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF84NTQxYWUzYzc0YTc0OWZlYmFhMDkyNmQzOGQxMTIyMSA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9lMzFmN2E3ZTE5ZTI0NGI1OWJjYWEwNTIxN2MwNWU4ZSA9ICQoJzxkaXYgaWQ9Imh0bWxfZTMxZjdhN2UxOWUyNDRiNTliY2FhMDUyMTdjMDVlOGUiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkJhcjwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfODU0MWFlM2M3NGE3NDlmZWJhYTA5MjZkMzhkMTEyMjEuc2V0Q29udGVudChodG1sX2UzMWY3YTdlMTllMjQ0YjU5YmNhYTA1MjE3YzA1ZThlKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyX2Q3MzViZjA3YzBjYjQ5M2I4MGJjODYzZTUwMjFhNGNiLmJpbmRQb3B1cChwb3B1cF84NTQxYWUzYzc0YTc0OWZlYmFhMDkyNmQzOGQxMTIyMSk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl80NGE5Njg0YzYyYTE0ZjA3OWE4ZDQyMTY0M2ExNDBlNiA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjc4NDcyNDUwNjQyNzg0LC03OS4yNzc1NTYzNTQxNDMwN10sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiYmx1ZSIsCiAgImZpbGxPcGFjaXR5IjogMC42LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9jZTZiMzA2MzgzMzk0ZDE0OTY5Mzc1MmViOGQ1OWY1MCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF85ZmVhNDE0MWMyMGY0NjU5YTQ5NzVjYjNhMTQxNGExNCA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF81ZTQ0ZDBiODRiMzM0NzBjOThlODRmNDc1ZDcxYTA0ZiA9ICQoJzxkaXYgaWQ9Imh0bWxfNWU0NGQwYjg0YjMzNDcwYzk4ZTg0ZjQ3NWQ3MWEwNGYiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkNhbnRvbmVzZSBSZXN0YXVyYW50PC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF85ZmVhNDE0MWMyMGY0NjU5YTQ5NzVjYjNhMTQxNGExNC5zZXRDb250ZW50KGh0bWxfNWU0NGQwYjg0YjMzNDcwYzk4ZTg0ZjQ3NWQ3MWEwNGYpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfNDRhOTY4NGM2MmExNGYwNzlhOGQ0MjE2NDNhMTQwZTYuYmluZFBvcHVwKHBvcHVwXzlmZWE0MTQxYzIwZjQ2NTlhNDk3NWNiM2ExNDE0YTE0KTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyX2Y0YjM3NGYxYTdiMjRkMDNhODMzNmQ1NWU5OTliY2UxID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNzg1ODIyMDE4NjQ4ODk0LC03OS4yNzY3MTQxNDc4NTM2MV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiYmx1ZSIsCiAgImZpbGxPcGFjaXR5IjogMC42LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9jZTZiMzA2MzgzMzk0ZDE0OTY5Mzc1MmViOGQ1OWY1MCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF8xMDVlZDFjZTkwMDA0MTk0OTgwZDZjMDlkZDE1YjlhZCA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9hMGNhZDNlNjlhNGM0OTZhYmNmM2U2ZjgzYTk5NWZkZSA9ICQoJzxkaXYgaWQ9Imh0bWxfYTBjYWQzZTY5YTRjNDk2YWJjZjNlNmY4M2E5OTVmZGUiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkFzaWFuIFJlc3RhdXJhbnQ8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzEwNWVkMWNlOTAwMDQxOTQ5ODBkNmMwOWRkMTViOWFkLnNldENvbnRlbnQoaHRtbF9hMGNhZDNlNjlhNGM0OTZhYmNmM2U2ZjgzYTk5NWZkZSk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl9mNGIzNzRmMWE3YjI0ZDAzYTgzMzZkNTVlOTk5YmNlMS5iaW5kUG9wdXAocG9wdXBfMTA1ZWQxY2U5MDAwNDE5NDk4MGQ2YzA5ZGQxNWI5YWQpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfZTdmY2NiMWRiMTQxNGRkODkwOTViODY3ODc4OGJkNDMgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My43ODcwNjYzMDAxNTAyLC03OS4yNzQ3ODE5OTg5MDk1N10sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiYmx1ZSIsCiAgImZpbGxPcGFjaXR5IjogMC42LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9jZTZiMzA2MzgzMzk0ZDE0OTY5Mzc1MmViOGQ1OWY1MCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF9mYmFlNDY5ZTBlOGU0YzBkOGQwNDJmN2MzYmM5OGU5MSA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF83ZjBkMTQ3MmYxOGM0NDIxYWRmM2Q4NDhkZDQ0M2Q1YiA9ICQoJzxkaXYgaWQ9Imh0bWxfN2YwZDE0NzJmMThjNDQyMWFkZjNkODQ4ZGQ0NDNkNWIiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkNoaW5lc2UgUmVzdGF1cmFudDwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfZmJhZTQ2OWUwZThlNGMwZDhkMDQyZjdjM2JjOThlOTEuc2V0Q29udGVudChodG1sXzdmMGQxNDcyZjE4YzQ0MjFhZGYzZDg0OGRkNDQzZDViKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyX2U3ZmNjYjFkYjE0MTRkZDg5MDk1Yjg2Nzg3ODhiZDQzLmJpbmRQb3B1cChwb3B1cF9mYmFlNDY5ZTBlOGU0YzBkOGQwNDJmN2MzYmM5OGU5MSk7CgogICAgICAgICAgICAKICAgICAgICAKPC9zY3JpcHQ+ onload="this.contentDocument.open();this.contentDocument.write(atob(this.getAttribute('data-html')));this.contentDocument.close();" allowfullscreen webkitallowfullscreen mozallowfullscreen></iframe></div></div>



##### _Etobicoke:_


```python

Etobicoke_map = folium.Map(location=[43.6435559,-79.5656326], zoom_start=13) # generate map centred around the Conrad Hotel

# add a red circle marker to represent Etobicoke
folium.features.CircleMarker(
    [43.6435559,-79.5656326],
    radius=10,
    color='red',
    popup='Etobicoke',
    fill = True,
    fill_color = 'red',
    fill_opacity = 0.6
).add_to(Etobicoke_map)

# add the restaurants as blue circle markers
for lat, lng, label in zip(Etobicoke_filtered.lat, Etobicoke_filtered.lng, Etobicoke_filtered.categories):
    folium.features.CircleMarker(
        [lat, lng],
        radius=5,
        color='blue',
        popup=label,
        fill = True,
        fill_color='blue',
        fill_opacity=0.6
    ).add_to(Etobicoke_map)

# display map
Etobicoke_map

```




<div style="width:100%;"><div style="position:relative;width:100%;height:0;padding-bottom:60%;"><span style="color:#565656">Make this Notebook Trusted to load map: File -> Trust Notebook</span><iframe src="about:blank" style="position:absolute;width:100%;height:100%;left:0;top:0;border:none !important;" data-html=PCFET0NUWVBFIGh0bWw+CjxoZWFkPiAgICAKICAgIDxtZXRhIGh0dHAtZXF1aXY9ImNvbnRlbnQtdHlwZSIgY29udGVudD0idGV4dC9odG1sOyBjaGFyc2V0PVVURi04IiAvPgogICAgPHNjcmlwdD5MX1BSRUZFUl9DQU5WQVMgPSBmYWxzZTsgTF9OT19UT1VDSCA9IGZhbHNlOyBMX0RJU0FCTEVfM0QgPSBmYWxzZTs8L3NjcmlwdD4KICAgIDxzY3JpcHQgc3JjPSJodHRwczovL2Nkbi5qc2RlbGl2ci5uZXQvbnBtL2xlYWZsZXRAMS4yLjAvZGlzdC9sZWFmbGV0LmpzIj48L3NjcmlwdD4KICAgIDxzY3JpcHQgc3JjPSJodHRwczovL2FqYXguZ29vZ2xlYXBpcy5jb20vYWpheC9saWJzL2pxdWVyeS8xLjExLjEvanF1ZXJ5Lm1pbi5qcyI+PC9zY3JpcHQ+CiAgICA8c2NyaXB0IHNyYz0iaHR0cHM6Ly9tYXhjZG4uYm9vdHN0cmFwY2RuLmNvbS9ib290c3RyYXAvMy4yLjAvanMvYm9vdHN0cmFwLm1pbi5qcyI+PC9zY3JpcHQ+CiAgICA8c2NyaXB0IHNyYz0iaHR0cHM6Ly9jZG5qcy5jbG91ZGZsYXJlLmNvbS9hamF4L2xpYnMvTGVhZmxldC5hd2Vzb21lLW1hcmtlcnMvMi4wLjIvbGVhZmxldC5hd2Vzb21lLW1hcmtlcnMuanMiPjwvc2NyaXB0PgogICAgPGxpbmsgcmVsPSJzdHlsZXNoZWV0IiBocmVmPSJodHRwczovL2Nkbi5qc2RlbGl2ci5uZXQvbnBtL2xlYWZsZXRAMS4yLjAvZGlzdC9sZWFmbGV0LmNzcyIvPgogICAgPGxpbmsgcmVsPSJzdHlsZXNoZWV0IiBocmVmPSJodHRwczovL21heGNkbi5ib290c3RyYXBjZG4uY29tL2Jvb3RzdHJhcC8zLjIuMC9jc3MvYm9vdHN0cmFwLm1pbi5jc3MiLz4KICAgIDxsaW5rIHJlbD0ic3R5bGVzaGVldCIgaHJlZj0iaHR0cHM6Ly9tYXhjZG4uYm9vdHN0cmFwY2RuLmNvbS9ib290c3RyYXAvMy4yLjAvY3NzL2Jvb3RzdHJhcC10aGVtZS5taW4uY3NzIi8+CiAgICA8bGluayByZWw9InN0eWxlc2hlZXQiIGhyZWY9Imh0dHBzOi8vbWF4Y2RuLmJvb3RzdHJhcGNkbi5jb20vZm9udC1hd2Vzb21lLzQuNi4zL2Nzcy9mb250LWF3ZXNvbWUubWluLmNzcyIvPgogICAgPGxpbmsgcmVsPSJzdHlsZXNoZWV0IiBocmVmPSJodHRwczovL2NkbmpzLmNsb3VkZmxhcmUuY29tL2FqYXgvbGlicy9MZWFmbGV0LmF3ZXNvbWUtbWFya2Vycy8yLjAuMi9sZWFmbGV0LmF3ZXNvbWUtbWFya2Vycy5jc3MiLz4KICAgIDxsaW5rIHJlbD0ic3R5bGVzaGVldCIgaHJlZj0iaHR0cHM6Ly9yYXdnaXQuY29tL3B5dGhvbi12aXN1YWxpemF0aW9uL2ZvbGl1bS9tYXN0ZXIvZm9saXVtL3RlbXBsYXRlcy9sZWFmbGV0LmF3ZXNvbWUucm90YXRlLmNzcyIvPgogICAgPHN0eWxlPmh0bWwsIGJvZHkge3dpZHRoOiAxMDAlO2hlaWdodDogMTAwJTttYXJnaW46IDA7cGFkZGluZzogMDt9PC9zdHlsZT4KICAgIDxzdHlsZT4jbWFwIHtwb3NpdGlvbjphYnNvbHV0ZTt0b3A6MDtib3R0b206MDtyaWdodDowO2xlZnQ6MDt9PC9zdHlsZT4KICAgIAogICAgICAgICAgICA8c3R5bGU+ICNtYXBfZTA4ZDA2ZjZjNzExNGIxNTg3ZmNmMmRiMjI2YTgxNWUgewogICAgICAgICAgICAgICAgcG9zaXRpb24gOiByZWxhdGl2ZTsKICAgICAgICAgICAgICAgIHdpZHRoIDogMTAwLjAlOwogICAgICAgICAgICAgICAgaGVpZ2h0OiAxMDAuMCU7CiAgICAgICAgICAgICAgICBsZWZ0OiAwLjAlOwogICAgICAgICAgICAgICAgdG9wOiAwLjAlOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICA8L3N0eWxlPgogICAgICAgIAo8L2hlYWQ+Cjxib2R5PiAgICAKICAgIAogICAgICAgICAgICA8ZGl2IGNsYXNzPSJmb2xpdW0tbWFwIiBpZD0ibWFwX2UwOGQwNmY2YzcxMTRiMTU4N2ZjZjJkYjIyNmE4MTVlIiA+PC9kaXY+CiAgICAgICAgCjwvYm9keT4KPHNjcmlwdD4gICAgCiAgICAKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGJvdW5kcyA9IG51bGw7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgdmFyIG1hcF9lMDhkMDZmNmM3MTE0YjE1ODdmY2YyZGIyMjZhODE1ZSA9IEwubWFwKAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ21hcF9lMDhkMDZmNmM3MTE0YjE1ODdmY2YyZGIyMjZhODE1ZScsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y2VudGVyOiBbNDMuNjQzNTU1OSwtNzkuNTY1NjMyNl0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB6b29tOiAxMywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1heEJvdW5kczogYm91bmRzLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGF5ZXJzOiBbXSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdvcmxkQ29weUp1bXA6IGZhbHNlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3JzOiBMLkNSUy5FUFNHMzg1NwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHRpbGVfbGF5ZXJfZWI4MzU3OTg4ZWJiNDJmNThmYWMyNTI3YzdiOTc3ZTUgPSBMLnRpbGVMYXllcigKICAgICAgICAgICAgICAgICdodHRwczovL3tzfS50aWxlLm9wZW5zdHJlZXRtYXAub3JnL3t6fS97eH0ve3l9LnBuZycsCiAgICAgICAgICAgICAgICB7CiAgImF0dHJpYnV0aW9uIjogbnVsbCwKICAiZGV0ZWN0UmV0aW5hIjogZmFsc2UsCiAgIm1heFpvb20iOiAxOCwKICAibWluWm9vbSI6IDEsCiAgIm5vV3JhcCI6IGZhbHNlLAogICJzdWJkb21haW5zIjogImFiYyIKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfZTA4ZDA2ZjZjNzExNGIxNTg3ZmNmMmRiMjI2YTgxNWUpOwogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyX2RhYzEzMjg1MGMxODQ3ODI5OWQwNTExMjNlYjA1NDA1ID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNjQzNTU1OSwtNzkuNTY1NjMyNl0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJyZWQiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICJyZWQiLAogICJmaWxsT3BhY2l0eSI6IDAuNiwKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDEwLAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwX2UwOGQwNmY2YzcxMTRiMTU4N2ZjZjJkYjIyNmE4MTVlKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzY0ZTNlNzU1YjQ0ODRhZjZhN2EyY2UyMDJkODI5ZGQwID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sX2Q4YmI3Nzc1ZTZlNDRlYTZiMzk2NzFiZWYxZTVjZGZkID0gJCgnPGRpdiBpZD0iaHRtbF9kOGJiNzc3NWU2ZTQ0ZWE2YjM5NjcxYmVmMWU1Y2RmZCIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+RXRvYmljb2tlPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF82NGUzZTc1NWI0NDg0YWY2YTdhMmNlMjAyZDgyOWRkMC5zZXRDb250ZW50KGh0bWxfZDhiYjc3NzVlNmU0NGVhNmIzOTY3MWJlZjFlNWNkZmQpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfZGFjMTMyODUwYzE4NDc4Mjk5ZDA1MTEyM2ViMDU0MDUuYmluZFBvcHVwKHBvcHVwXzY0ZTNlNzU1YjQ0ODRhZjZhN2EyY2UyMDJkODI5ZGQwKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzNjZDJjNGU4MzVlZTRiNjVhZmE1MzQ3MjZjNGI1YTBiID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNjQ0NzI0NTg4NjY1ODUsLTc5LjU2ODAwOTM3NjUyNTg2XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICJibHVlIiwKICAiZmlsbE9wYWNpdHkiOiAwLjYsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwX2UwOGQwNmY2YzcxMTRiMTU4N2ZjZjJkYjIyNmE4MTVlKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzdjNWVmY2QxMTJkYTQyNGY5M2E5MmM2ZGNmMjIyOWUwID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sX2Q2ZDgwMjY1YjE5NTQyZmNhNGM3ZDIyYjI1Mzg5MTdjID0gJCgnPGRpdiBpZD0iaHRtbF9kNmQ4MDI2NWIxOTU0MmZjYTRjN2QyMmIyNTM4OTE3YyIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+UmVzdGF1cmFudDwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfN2M1ZWZjZDExMmRhNDI0ZjkzYTkyYzZkY2YyMjI5ZTAuc2V0Q29udGVudChodG1sX2Q2ZDgwMjY1YjE5NTQyZmNhNGM3ZDIyYjI1Mzg5MTdjKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzNjZDJjNGU4MzVlZTRiNjVhZmE1MzQ3MjZjNGI1YTBiLmJpbmRQb3B1cChwb3B1cF83YzVlZmNkMTEyZGE0MjRmOTNhOTJjNmRjZjIyMjllMCk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl9iNTMzMjZlZjI1NWQ0YWRlODFlMDY5YTgzZWFiOTgxMyA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjYyNTk3MjMzMDUxODMzLC03OS41NjU0MjcxODQxNTgwN10sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiYmx1ZSIsCiAgImZpbGxPcGFjaXR5IjogMC42LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9lMDhkMDZmNmM3MTE0YjE1ODdmY2YyZGIyMjZhODE1ZSk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF8zNzI4NjVkYzkxYmE0ZTEyYWEzYzg1ZjE5NGVhYjljMCA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9kZGE0NTFlMjg1Yzk0NTA3ODhkNzllODQ4YThlMmIxNCA9ICQoJzxkaXYgaWQ9Imh0bWxfZGRhNDUxZTI4NWM5NDUwNzg4ZDc5ZTg0OGE4ZTJiMTQiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkFtZXJpY2FuIFJlc3RhdXJhbnQ8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzM3Mjg2NWRjOTFiYTRlMTJhYTNjODVmMTk0ZWFiOWMwLnNldENvbnRlbnQoaHRtbF9kZGE0NTFlMjg1Yzk0NTA3ODhkNzllODQ4YThlMmIxNCk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl9iNTMzMjZlZjI1NWQ0YWRlODFlMDY5YTgzZWFiOTgxMy5iaW5kUG9wdXAocG9wdXBfMzcyODY1ZGM5MWJhNGUxMmFhM2M4NWYxOTRlYWI5YzApOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfZjhiOWY3MzA0ZTUxNGMwOTlkN2E4MmFhNGQ5YWQxNWYgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My42NDA5NTQwMTgyMjYwMywtNzkuNTY0OTUwODIxNTYzOTddLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogImJsdWUiLAogICJmaWxsT3BhY2l0eSI6IDAuNiwKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfZTA4ZDA2ZjZjNzExNGIxNTg3ZmNmMmRiMjI2YTgxNWUpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfZDNhZTBmMWM1MmE1NDlhY2JlZjBhMTA0MGRlNmUzMWUgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfZTAxMzc5OGRhY2RkNDEwYzkxYmVkOTc2OTJkNThiMjAgPSAkKCc8ZGl2IGlkPSJodG1sX2UwMTM3OThkYWNkZDQxMGM5MWJlZDk3NjkyZDU4YjIwIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5TY2FuZGluYXZpYW4gUmVzdGF1cmFudDwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfZDNhZTBmMWM1MmE1NDlhY2JlZjBhMTA0MGRlNmUzMWUuc2V0Q29udGVudChodG1sX2UwMTM3OThkYWNkZDQxMGM5MWJlZDk3NjkyZDU4YjIwKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyX2Y4YjlmNzMwNGU1MTRjMDk5ZDdhODJhYTRkOWFkMTVmLmJpbmRQb3B1cChwb3B1cF9kM2FlMGYxYzUyYTU0OWFjYmVmMGExMDQwZGU2ZTMxZSk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl8wMGU0NTA4NWI4YTY0N2Q0YWI4YjkyNDhlOWY2NDZkOCA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjYxOTg0NiwtNzkuNTQ5NjldLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogImJsdWUiLAogICJmaWxsT3BhY2l0eSI6IDAuNiwKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfZTA4ZDA2ZjZjNzExNGIxNTg3ZmNmMmRiMjI2YTgxNWUpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfZDU4MzdmYTJjNGY5NDkwOTlmZTNlYWNmZDI0MjAxMjYgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfYTZhYWMyNzA0MGU5NDc3YjllNGVkOTIzOGI0YWNiOTAgPSAkKCc8ZGl2IGlkPSJodG1sX2E2YWFjMjcwNDBlOTQ3N2I5ZTRlZDkyMzhiNGFjYjkwIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5SZXN0YXVyYW50PC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF9kNTgzN2ZhMmM0Zjk0OTA5OWZlM2VhY2ZkMjQyMDEyNi5zZXRDb250ZW50KGh0bWxfYTZhYWMyNzA0MGU5NDc3YjllNGVkOTIzOGI0YWNiOTApOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfMDBlNDUwODViOGE2NDdkNGFiOGI5MjQ4ZTlmNjQ2ZDguYmluZFBvcHVwKHBvcHVwX2Q1ODM3ZmEyYzRmOTQ5MDk5ZmUzZWFjZmQyNDIwMTI2KTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzFhZTQyNTcxZGQyOTQxNmY5MzA5ODEwZGFiNWE0MzJhID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNjE5Mjc4MTcwOTk4ODMsLTc5LjU3MzAzMTEwMDU4ODI4XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICJibHVlIiwKICAiZmlsbE9wYWNpdHkiOiAwLjYsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwX2UwOGQwNmY2YzcxMTRiMTU4N2ZjZjJkYjIyNmE4MTVlKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwX2YxNWU5MWIwNGNmMzRjZTU5MWRhMzMxNzdhZmM5ZDAwID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sX2RlNjQxNzE5N2EyYjQ3Y2Y4Mzc5MmFkNmE5YzE5YTA3ID0gJCgnPGRpdiBpZD0iaHRtbF9kZTY0MTcxOTdhMmI0N2NmODM3OTJhZDZhOWMxOWEwNyIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+WGluamlhbmcgUmVzdGF1cmFudDwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfZjE1ZTkxYjA0Y2YzNGNlNTkxZGEzMzE3N2FmYzlkMDAuc2V0Q29udGVudChodG1sX2RlNjQxNzE5N2EyYjQ3Y2Y4Mzc5MmFkNmE5YzE5YTA3KTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzFhZTQyNTcxZGQyOTQxNmY5MzA5ODEwZGFiNWE0MzJhLmJpbmRQb3B1cChwb3B1cF9mMTVlOTFiMDRjZjM0Y2U1OTFkYTMzMTc3YWZjOWQwMCk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl9hMzFhYzA5ZTA0OWU0MTlkYTg5ODc1MDgwNjYyMGE2NiA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjY5MTk3NzQ4MTQ1MzY1NSwtNzkuNTcyODEwNTMwNjYyNDhdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogImJsdWUiLAogICJmaWxsT3BhY2l0eSI6IDAuNiwKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfZTA4ZDA2ZjZjNzExNGIxNTg3ZmNmMmRiMjI2YTgxNWUpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfZDZjYjliZTVlMzRmNDFkZWJhMmUwMGZlZDI1ZGZiYWYgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfYTk4ZTE5YWU3ZDk2NGIyMzhmMzkzMmYxMDc2ZWI3OTUgPSAkKCc8ZGl2IGlkPSJodG1sX2E5OGUxOWFlN2Q5NjRiMjM4ZjM5MzJmMTA3NmViNzk1IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5BbWVyaWNhbiBSZXN0YXVyYW50PC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF9kNmNiOWJlNWUzNGY0MWRlYmEyZTAwZmVkMjVkZmJhZi5zZXRDb250ZW50KGh0bWxfYTk4ZTE5YWU3ZDk2NGIyMzhmMzkzMmYxMDc2ZWI3OTUpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfYTMxYWMwOWUwNDllNDE5ZGE4OTg3NTA4MDY2MjBhNjYuYmluZFBvcHVwKHBvcHVwX2Q2Y2I5YmU1ZTM0ZjQxZGViYTJlMDBmZWQyNWRmYmFmKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzk4Mzg4NjQ5YzdiOTQzMGVhZWIwZGUwMGFiZmViNjM2ID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNjI2MjM0NDMyNjE5NTc2LC03OS41NjUwNTM4NjM3ODYzNl0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiYmx1ZSIsCiAgImZpbGxPcGFjaXR5IjogMC42LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9lMDhkMDZmNmM3MTE0YjE1ODdmY2YyZGIyMjZhODE1ZSk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF9iMmIzZWQ1NzZjMTQ0ZGY4Yjc2ZmNmYTM3MzVjNGJlMyA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF85Njk5YjZkNTY4MTg0MWM4OTY1MjVlYjYzYTFiNTMyZSA9ICQoJzxkaXYgaWQ9Imh0bWxfOTY5OWI2ZDU2ODE4NDFjODk2NTI1ZWI2M2ExYjUzMmUiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkJyZWFrZmFzdCBTcG90PC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF9iMmIzZWQ1NzZjMTQ0ZGY4Yjc2ZmNmYTM3MzVjNGJlMy5zZXRDb250ZW50KGh0bWxfOTY5OWI2ZDU2ODE4NDFjODk2NTI1ZWI2M2ExYjUzMmUpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfOTgzODg2NDljN2I5NDMwZWFlYjBkZTAwYWJmZWI2MzYuYmluZFBvcHVwKHBvcHVwX2IyYjNlZDU3NmMxNDRkZjhiNzZmY2ZhMzczNWM0YmUzKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyX2ZlNDI3NmUzN2YxMDRhM2VhZjhiZDcxMTk3NjE5Zjg4ID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNjIyMTM5Njg0NzIwMzQ1LC03OS41NzE5NDE1NzgyNDM0NF0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiYmx1ZSIsCiAgImZpbGxPcGFjaXR5IjogMC42LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9lMDhkMDZmNmM3MTE0YjE1ODdmY2YyZGIyMjZhODE1ZSk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF9jNzhjYzBkNzRiODE0MDFmYjcyOGYzNjQ0OTUzZWU5ZSA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF81MzllNWI1ODQxYjI0MTczYjFiN2VjZWUwN2FkY2Y3YyA9ICQoJzxkaXYgaWQ9Imh0bWxfNTM5ZTViNTg0MWIyNDE3M2IxYjdlY2VlMDdhZGNmN2MiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkVhc3Rlcm4gRXVyb3BlYW4gUmVzdGF1cmFudDwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfYzc4Y2MwZDc0YjgxNDAxZmI3MjhmMzY0NDk1M2VlOWUuc2V0Q29udGVudChodG1sXzUzOWU1YjU4NDFiMjQxNzNiMWI3ZWNlZTA3YWRjZjdjKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyX2ZlNDI3NmUzN2YxMDRhM2VhZjhiZDcxMTk3NjE5Zjg4LmJpbmRQb3B1cChwb3B1cF9jNzhjYzBkNzRiODE0MDFmYjcyOGYzNjQ0OTUzZWU5ZSk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl80ZTg1NTZlM2FhODE0YjExYTUyMmMzNjU1Y2MyMjZiNiA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjYzNjA1ODA2OTgzNzAxLC03OS41MjA1MDE1OTA3MjQzMl0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiYmx1ZSIsCiAgImZpbGxPcGFjaXR5IjogMC42LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9lMDhkMDZmNmM3MTE0YjE1ODdmY2YyZGIyMjZhODE1ZSk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF81NzdmNTU1NjAxODU0OGRmYTU4OWMzYWM3ZmY5MDViOCA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF80Y2UwZGEzNzA3YzA0N2JhYjZmYmY1ZmE3Mzg0OGE5MSA9ICQoJzxkaXYgaWQ9Imh0bWxfNGNlMGRhMzcwN2MwNDdiYWI2ZmJmNWZhNzM4NDhhOTEiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPk1lZGl0ZXJyYW5lYW4gUmVzdGF1cmFudDwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfNTc3ZjU1NTYwMTg1NDhkZmE1ODljM2FjN2ZmOTA1Yjguc2V0Q29udGVudChodG1sXzRjZTBkYTM3MDdjMDQ3YmFiNmZiZjVmYTczODQ4YTkxKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzRlODU1NmUzYWE4MTRiMTFhNTIyYzM2NTVjYzIyNmI2LmJpbmRQb3B1cChwb3B1cF81NzdmNTU1NjAxODU0OGRmYTU4OWMzYWM3ZmY5MDViOCk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl9lOGM2ZTJhMmI3MjI0ZWQ5OTcxYjY3OTQ3MGUzYzU4NSA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjYyMDcxODA3MTIyNjQyLC03OS41NDg4Njg2NDAxOTM4M10sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiYmx1ZSIsCiAgImZpbGxPcGFjaXR5IjogMC42LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9lMDhkMDZmNmM3MTE0YjE1ODdmY2YyZGIyMjZhODE1ZSk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF8wY2UxNTUyMWY1M2Q0OTRkYjI3OGM2OGRmYzk3OTBkMCA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF82YjM3ZmZhNzRhOTM0OTc4ODNlZjNlYzIzNWM1ZThhMSA9ICQoJzxkaXYgaWQ9Imh0bWxfNmIzN2ZmYTc0YTkzNDk3ODgzZWYzZWMyMzVjNWU4YTEiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkJCUSBKb2ludDwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfMGNlMTU1MjFmNTNkNDk0ZGIyNzhjNjhkZmM5NzkwZDAuc2V0Q29udGVudChodG1sXzZiMzdmZmE3NGE5MzQ5Nzg4M2VmM2VjMjM1YzVlOGExKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyX2U4YzZlMmEyYjcyMjRlZDk5NzFiNjc5NDcwZTNjNTg1LmJpbmRQb3B1cChwb3B1cF8wY2UxNTUyMWY1M2Q0OTRkYjI3OGM2OGRmYzk3OTBkMCk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl8zYjkzMzM3ZmZlNGM0OGI5YTQwNTM0NjM2ZTQzNjQyMSA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjY2MDQ5MDY4MTk2MTc3LC03OS41ODIzMTg5NjE2MjAzM10sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiYmx1ZSIsCiAgImZpbGxPcGFjaXR5IjogMC42LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9lMDhkMDZmNmM3MTE0YjE1ODdmY2YyZGIyMjZhODE1ZSk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF85MGVlYzJlNDc2NmM0N2QwYjE2MjFlYWU5NTUyNGRjYSA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF82M2FjNzNkNmYxNjE0YThjYWU5YzVhNjQ1MGQ1YmEzMyA9ICQoJzxkaXYgaWQ9Imh0bWxfNjNhYzczZDZmMTYxNGE4Y2FlOWM1YTY0NTBkNWJhMzMiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkNoaW5lc2UgUmVzdGF1cmFudDwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfOTBlZWMyZTQ3NjZjNDdkMGIxNjIxZWFlOTU1MjRkY2Euc2V0Q29udGVudChodG1sXzYzYWM3M2Q2ZjE2MTRhOGNhZTljNWE2NDUwZDViYTMzKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzNiOTMzMzdmZmU0YzQ4YjlhNDA1MzQ2MzZlNDM2NDIxLmJpbmRQb3B1cChwb3B1cF85MGVlYzJlNDc2NmM0N2QwYjE2MjFlYWU5NTUyNGRjYSk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl9jYzlmZTMxYTVmNTk0ZjA3YTdiZDk0NDE2NDkwZTMyMiA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjY0NTAxMjI0MzU0Mzk3NCwtNzkuNTMyNjI5NDE5OTM5MThdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogImJsdWUiLAogICJmaWxsT3BhY2l0eSI6IDAuNiwKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfZTA4ZDA2ZjZjNzExNGIxNTg3ZmNmMmRiMjI2YTgxNWUpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfMjZkNTAzMGQ3NWI0NDYzZGE1YjNkNDk4NmIyNTE0YzEgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfOTVmYmE0NDlhMWM0NDJmMGE4MDVkZDBiOWM0NzQ3NGUgPSAkKCc8ZGl2IGlkPSJodG1sXzk1ZmJhNDQ5YTFjNDQyZjBhODA1ZGQwYjljNDc0NzRlIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5KYXBhbmVzZSBSZXN0YXVyYW50PC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF8yNmQ1MDMwZDc1YjQ0NjNkYTViM2Q0OTg2YjI1MTRjMS5zZXRDb250ZW50KGh0bWxfOTVmYmE0NDlhMWM0NDJmMGE4MDVkZDBiOWM0NzQ3NGUpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfY2M5ZmUzMWE1ZjU5NGYwN2E3YmQ5NDQxNjQ5MGUzMjIuYmluZFBvcHVwKHBvcHVwXzI2ZDUwMzBkNzViNDQ2M2RhNWIzZDQ5ODZiMjUxNGMxKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyX2MwN2NlNDMwNzExMDRkMGViNTNjMGZlNzFmZTgzYjYwID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNjQ0ODM3MTU4MDMwNjU0LC03OS41MzIxNjI4MTg4NDg5M10sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiYmx1ZSIsCiAgImZpbGxPcGFjaXR5IjogMC42LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9lMDhkMDZmNmM3MTE0YjE1ODdmY2YyZGIyMjZhODE1ZSk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzlkNjMxYTgyZTQ1NTQ2YjA5ZjhjNTBhMzlkOThlODA0ID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNjU3ODA4MTk5NTc3MjI1LC03OS41OTc3Mzc5NjcwMzc3Nl0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiYmx1ZSIsCiAgImZpbGxPcGFjaXR5IjogMC42LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9lMDhkMDZmNmM3MTE0YjE1ODdmY2YyZGIyMjZhODE1ZSk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF9mMjBmZWUzODViMjY0OTVlYjA0OWZhNDRmNmMwMmM3MiA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9jMGVmOWQ2NjdmYTM0MjE2OGQ1YTBlODY4NzVmMDcxNyA9ICQoJzxkaXYgaWQ9Imh0bWxfYzBlZjlkNjY3ZmEzNDIxNjhkNWEwZTg2ODc1ZjA3MTciIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPk9mZmljZTwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfZjIwZmVlMzg1YjI2NDk1ZWIwNDlmYTQ0ZjZjMDJjNzIuc2V0Q29udGVudChodG1sX2MwZWY5ZDY2N2ZhMzQyMTY4ZDVhMGU4Njg3NWYwNzE3KTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzlkNjMxYTgyZTQ1NTQ2YjA5ZjhjNTBhMzlkOThlODA0LmJpbmRQb3B1cChwb3B1cF9mMjBmZWUzODViMjY0OTVlYjA0OWZhNDRmNmMwMmM3Mik7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl83MGE1Yzc5NDQ1ZDY0ODFjOTVkZDEwZjAwNWIyYjRmZSA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjYxODgwMzYyMzQzNTQyLC03OS41NzMyODc5NjM4NjcxN10sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiYmx1ZSIsCiAgImZpbGxPcGFjaXR5IjogMC42LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9lMDhkMDZmNmM3MTE0YjE1ODdmY2YyZGIyMjZhODE1ZSk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF80MGQxMjQ3ZTFmOTg0MGY4OTkzMzYxNTYxNjQwNDdlNyA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF84OWQxYmUyNTY2OGE0NDc4OTFjZjE1Nzk0NWM4ZTMwOSA9ICQoJzxkaXYgaWQ9Imh0bWxfODlkMWJlMjU2NjhhNDQ3ODkxY2YxNTc5NDVjOGUzMDkiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkNoaW5lc2UgUmVzdGF1cmFudDwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfNDBkMTI0N2UxZjk4NDBmODk5MzM2MTU2MTY0MDQ3ZTcuc2V0Q29udGVudChodG1sXzg5ZDFiZTI1NjY4YTQ0Nzg5MWNmMTU3OTQ1YzhlMzA5KTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzcwYTVjNzk0NDVkNjQ4MWM5NWRkMTBmMDA1YjJiNGZlLmJpbmRQb3B1cChwb3B1cF80MGQxMjQ3ZTFmOTg0MGY4OTkzMzYxNTYxNjQwNDdlNyk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl9jZmFjZjFhZGQzNDc0NzA0ODQ1YmQ1ZjU5NTIzNDJkNyA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjYxNzk2NDc3MTU4NTIxNCwtNzkuNTYxOTE1Mzk3NjQ0MDRdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogImJsdWUiLAogICJmaWxsT3BhY2l0eSI6IDAuNiwKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfZTA4ZDA2ZjZjNzExNGIxNTg3ZmNmMmRiMjI2YTgxNWUpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfODM1NWUyZmJlMDczNDcxNGE5YjhlODkzYWYzMWYxYWMgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfNjc2ZjA3NDQxN2QxNGZlNGIyY2IzMDVjZTE0NzMxODYgPSAkKCc8ZGl2IGlkPSJodG1sXzY3NmYwNzQ0MTdkMTRmZTRiMmNiMzA1Y2UxNDczMTg2IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5SZXN0YXVyYW50PC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF84MzU1ZTJmYmUwNzM0NzE0YTliOGU4OTNhZjMxZjFhYy5zZXRDb250ZW50KGh0bWxfNjc2ZjA3NDQxN2QxNGZlNGIyY2IzMDVjZTE0NzMxODYpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfY2ZhY2YxYWRkMzQ3NDcwNDg0NWJkNWY1OTUyMzQyZDcuYmluZFBvcHVwKHBvcHVwXzgzNTVlMmZiZTA3MzQ3MTRhOWI4ZTg5M2FmMzFmMWFjKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzUzZTk1NzY2ZDgwZjQzNWY4YmQxMDExNGUzNmQwNjk4ID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNjMyNjQyOTYxMDI4ODY0LC03OS41NDQxODQ0NzA4ODQwOF0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiYmx1ZSIsCiAgImZpbGxPcGFjaXR5IjogMC42LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9lMDhkMDZmNmM3MTE0YjE1ODdmY2YyZGIyMjZhODE1ZSk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF8yOGY5NjU3MTViMGI0NDc5YTk2OWM1YzcwNzAwYzM4MiA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF8yYWFmMGU2NzNkOGM0NzRmYjg3M2I4MTMyMmM5NmNmMiA9ICQoJzxkaXYgaWQ9Imh0bWxfMmFhZjBlNjczZDhjNDc0ZmI4NzNiODEzMjJjOTZjZjIiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPlZpZXRuYW1lc2UgUmVzdGF1cmFudDwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfMjhmOTY1NzE1YjBiNDQ3OWE5NjljNWM3MDcwMGMzODIuc2V0Q29udGVudChodG1sXzJhYWYwZTY3M2Q4YzQ3NGZiODczYjgxMzIyYzk2Y2YyKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzUzZTk1NzY2ZDgwZjQzNWY4YmQxMDExNGUzNmQwNjk4LmJpbmRQb3B1cChwb3B1cF8yOGY5NjU3MTViMGI0NDc5YTk2OWM1YzcwNzAwYzM4Mik7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl81ZjAwYTMwZTYwMGY0OTcxOWM1ZTUyOGQwZTNmODIyNCA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjY1OTM5NjI3MTUxNjUzNSwtNzkuNTk2MjkwNTg4Mzc4OV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiYmx1ZSIsCiAgImZpbGxPcGFjaXR5IjogMC42LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9lMDhkMDZmNmM3MTE0YjE1ODdmY2YyZGIyMjZhODE1ZSk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF9mNzM2MGUxMDY3MTc0NDQ4YTBlMzcxYWM3OWJkNWMyOCA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF8zZTIwZjc5MTM1NjI0Mzc1YTFjYzMyZjFhMTQ3ZDdmOSA9ICQoJzxkaXYgaWQ9Imh0bWxfM2UyMGY3OTEzNTYyNDM3NWExY2MzMmYxYTE0N2Q3ZjkiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkFtZXJpY2FuIFJlc3RhdXJhbnQ8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2Y3MzYwZTEwNjcxNzQ0NDhhMGUzNzFhYzc5YmQ1YzI4LnNldENvbnRlbnQoaHRtbF8zZTIwZjc5MTM1NjI0Mzc1YTFjYzMyZjFhMTQ3ZDdmOSk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl81ZjAwYTMwZTYwMGY0OTcxOWM1ZTUyOGQwZTNmODIyNC5iaW5kUG9wdXAocG9wdXBfZjczNjBlMTA2NzE3NDQ0OGEwZTM3MWFjNzliZDVjMjgpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfOGY1ZjE2MzA2OWY0NDVkZWI5MGQ0NjhjZjE4NDg0YzQgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My42MzAwMDE1Njg3MTAyMDYsLTc5LjUxODE5ODAzMjU0MDldLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogImJsdWUiLAogICJmaWxsT3BhY2l0eSI6IDAuNiwKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfZTA4ZDA2ZjZjNzExNGIxNTg3ZmNmMmRiMjI2YTgxNWUpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfYjVkNzQ5ZTZmNTQ5NDY5MmE0M2Q1MDAwNzY4NzAwMzkgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfMzk4MTA5MjNkNzgwNDdmNGEwMjNhZjMzYWY0MWMwZGYgPSAkKCc8ZGl2IGlkPSJodG1sXzM5ODEwOTIzZDc4MDQ3ZjRhMDIzYWYzM2FmNDFjMGRmIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5GYXN0IEZvb2QgUmVzdGF1cmFudDwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfYjVkNzQ5ZTZmNTQ5NDY5MmE0M2Q1MDAwNzY4NzAwMzkuc2V0Q29udGVudChodG1sXzM5ODEwOTIzZDc4MDQ3ZjRhMDIzYWYzM2FmNDFjMGRmKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzhmNWYxNjMwNjlmNDQ1ZGViOTBkNDY4Y2YxODQ4NGM0LmJpbmRQb3B1cChwb3B1cF9iNWQ3NDllNmY1NDk0NjkyYTQzZDUwMDA3Njg3MDAzOSk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl8zNzgxYTM3MDAzNzY0ZGU2OGFiMDJkY2E2Y2Y2ZDU5NyA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjY0MTMzNzE2MzQ2Nzg2LC03OS41MjcxOTQ3NDE1MzE2Ml0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiYmx1ZSIsCiAgImZpbGxPcGFjaXR5IjogMC42LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9lMDhkMDZmNmM3MTE0YjE1ODdmY2YyZGIyMjZhODE1ZSk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF9kZmNlMTZlMTQ3MDg0MGU4OGNhNDg5NjMwOWI5ZjVjYyA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9mNzNmMzQyMmIzYTQ0NTBlYWMxM2EyMWI5ZGM4ZmVlMyA9ICQoJzxkaXYgaWQ9Imh0bWxfZjczZjM0MjJiM2E0NDUwZWFjMTNhMjFiOWRjOGZlZTMiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPlJlc3RhdXJhbnQ8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2RmY2UxNmUxNDcwODQwZTg4Y2E0ODk2MzA5YjlmNWNjLnNldENvbnRlbnQoaHRtbF9mNzNmMzQyMmIzYTQ0NTBlYWMxM2EyMWI5ZGM4ZmVlMyk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl8zNzgxYTM3MDAzNzY0ZGU2OGFiMDJkY2E2Y2Y2ZDU5Ny5iaW5kUG9wdXAocG9wdXBfZGZjZTE2ZTE0NzA4NDBlODhjYTQ4OTYzMDliOWY1Y2MpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfNjdmZDExY2NhMTU5NGYzZWE2ZmYzN2U1NGU5ZTg4MTIgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My42Mzk3NDIsLTc5LjUzNjk5M10sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiYmx1ZSIsCiAgImZpbGxPcGFjaXR5IjogMC42LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9lMDhkMDZmNmM3MTE0YjE1ODdmY2YyZGIyMjZhODE1ZSk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF8wNjQ5YTM2OWM4ZmU0YjNiOGI1OGZhNDI5MDBlZDNkOSA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9iNjg5NTcwYWNhOTY0Yjg1OTllZmM2ZDdkY2M1ZmFmMSA9ICQoJzxkaXYgaWQ9Imh0bWxfYjY4OTU3MGFjYTk2NGI4NTk5ZWZjNmQ3ZGNjNWZhZjEiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPlJlc3RhdXJhbnQ8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzA2NDlhMzY5YzhmZTRiM2I4YjU4ZmE0MjkwMGVkM2Q5LnNldENvbnRlbnQoaHRtbF9iNjg5NTcwYWNhOTY0Yjg1OTllZmM2ZDdkY2M1ZmFmMSk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl82N2ZkMTFjY2ExNTk0ZjNlYTZmZjM3ZTU0ZTllODgxMi5iaW5kUG9wdXAocG9wdXBfMDY0OWEzNjljOGZlNGIzYjhiNThmYTQyOTAwZWQzZDkpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfMmMzMjYzZmNjNGU1NDE2OGJlYTUyYTQ2ZDlhNTVmNGIgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My42NDQzMjYxMzc3ODU4MywtNzkuNTIzMDExNDY1NDYxODVdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogImJsdWUiLAogICJmaWxsT3BhY2l0eSI6IDAuNiwKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfZTA4ZDA2ZjZjNzExNGIxNTg3ZmNmMmRiMjI2YTgxNWUpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfNjk4MjM1Njk3OWUwNDNlMzgxZTkwY2E1OThhOTU5NzcgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfMmZkZDRiYTE3ZjMzNDhhZGFhNGYzNTRhNGViMWNmNDcgPSAkKCc8ZGl2IGlkPSJodG1sXzJmZGQ0YmExN2YzMzQ4YWRhYTRmMzU0YTRlYjFjZjQ3IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5UaGFpIFJlc3RhdXJhbnQ8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzY5ODIzNTY5NzllMDQzZTM4MWU5MGNhNTk4YTk1OTc3LnNldENvbnRlbnQoaHRtbF8yZmRkNGJhMTdmMzM0OGFkYWE0ZjM1NGE0ZWIxY2Y0Nyk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl8yYzMyNjNmY2M0ZTU0MTY4YmVhNTJhNDZkOWE1NWY0Yi5iaW5kUG9wdXAocG9wdXBfNjk4MjM1Njk3OWUwNDNlMzgxZTkwY2E1OThhOTU5NzcpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfYjNmNDZlYWM0MmNmNDNiZjlmZDA1NjIxNjM5ZWE5M2YgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My42NTk0MTg4NjA1Nzc2LC03OS42MDE2NDY5MTg2NjM4M10sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiYmx1ZSIsCiAgImZpbGxPcGFjaXR5IjogMC42LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9lMDhkMDZmNmM3MTE0YjE1ODdmY2YyZGIyMjZhODE1ZSk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF8wOWJkNWViZGMwZjk0NDY5OGE5ODQ3NWE4ZWMyYzU3ZCA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9hNTlmNjJmNjM1ZTM0YjAwYmYyMWIxMzc5Y2NmNTVkYiA9ICQoJzxkaXYgaWQ9Imh0bWxfYTU5ZjYyZjYzNWUzNGIwMGJmMjFiMTM3OWNjZjU1ZGIiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkdyZWVrIFJlc3RhdXJhbnQ8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzA5YmQ1ZWJkYzBmOTQ0Njk4YTk4NDc1YThlYzJjNTdkLnNldENvbnRlbnQoaHRtbF9hNTlmNjJmNjM1ZTM0YjAwYmYyMWIxMzc5Y2NmNTVkYik7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl9iM2Y0NmVhYzQyY2Y0M2JmOWZkMDU2MjE2MzllYTkzZi5iaW5kUG9wdXAocG9wdXBfMDliZDVlYmRjMGY5NDQ2OThhOTg0NzVhOGVjMmM1N2QpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfZTMxNDQ2YzNjMDRhNGJiODk3NzQ5ZDY1N2ZkMTQ1OTYgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My42MzYxMjgyMTY2NjY2NywtNzkuNTQwMjRdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogImJsdWUiLAogICJmaWxsT3BhY2l0eSI6IDAuNiwKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfZTA4ZDA2ZjZjNzExNGIxNTg3ZmNmMmRiMjI2YTgxNWUpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfNTZlYmRiMDFiNGFmNGVmMDg3NThhZjNjNWZkMzI1NTEgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfM2JiZWEyMjkyMWU4NDdiY2E4ODg2NGQwMjg3NDRlOTYgPSAkKCc8ZGl2IGlkPSJodG1sXzNiYmVhMjI5MjFlODQ3YmNhODg4NjRkMDI4NzQ0ZTk2IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5TYW5kd2ljaCBQbGFjZTwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfNTZlYmRiMDFiNGFmNGVmMDg3NThhZjNjNWZkMzI1NTEuc2V0Q29udGVudChodG1sXzNiYmVhMjI5MjFlODQ3YmNhODg4NjRkMDI4NzQ0ZTk2KTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyX2UzMTQ0NmMzYzA0YTRiYjg5Nzc0OWQ2NTdmZDE0NTk2LmJpbmRQb3B1cChwb3B1cF81NmViZGIwMWI0YWY0ZWYwODc1OGFmM2M1ZmQzMjU1MSk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl81NWZkMDUxOWIwNDA0NTM1YTgzMmMwYWQyM2I3ZDY1MSA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjYxNzgwNSwtNzkuNTk1MjE1XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICJibHVlIiwKICAiZmlsbE9wYWNpdHkiOiAwLjYsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwX2UwOGQwNmY2YzcxMTRiMTU4N2ZjZjJkYjIyNmE4MTVlKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzdlZTdhODE1YTUxYTQ2YWNhNjMyYzQ2ZTJjYjVlODA0ID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sX2E4NTcwNTMxYjM2ZjQ3OWJhNDk0Y2Q1MjI1ODYwNTQ1ID0gJCgnPGRpdiBpZD0iaHRtbF9hODU3MDUzMWIzNmY0NzliYTQ5NGNkNTIyNTg2MDU0NSIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+SXJhcWkgUmVzdGF1cmFudDwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfN2VlN2E4MTVhNTFhNDZhY2E2MzJjNDZlMmNiNWU4MDQuc2V0Q29udGVudChodG1sX2E4NTcwNTMxYjM2ZjQ3OWJhNDk0Y2Q1MjI1ODYwNTQ1KTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzU1ZmQwNTE5YjA0MDQ1MzVhODMyYzBhZDIzYjdkNjUxLmJpbmRQb3B1cChwb3B1cF83ZWU3YTgxNWE1MWE0NmFjYTYzMmM0NmUyY2I1ZTgwNCk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl83NTA5MWRlY2FkMDE0MWYzODU2ZmY5NTRhZDRmNGUzNyA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjYzMTk0MjU1MTU4NTc0LC03OS42MTQ1NTIxMzc5NTE1Ml0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiYmx1ZSIsCiAgImZpbGxPcGFjaXR5IjogMC42LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9lMDhkMDZmNmM3MTE0YjE1ODdmY2YyZGIyMjZhODE1ZSk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF9lZjYxNWRmZWY5OTQ0ODkxYmI4OGRhOWU5NGZjOWJkNyA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9iNmZmNDM3NmVjZWE0MzI0YWE5NTIyOThjYjk0MWUzOCA9ICQoJzxkaXYgaWQ9Imh0bWxfYjZmZjQzNzZlY2VhNDMyNGFhOTUyMjk4Y2I5NDFlMzgiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkNoaW5lc2UgUmVzdGF1cmFudDwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfZWY2MTVkZmVmOTk0NDg5MWJiODhkYTllOTRmYzliZDcuc2V0Q29udGVudChodG1sX2I2ZmY0Mzc2ZWNlYTQzMjRhYTk1MjI5OGNiOTQxZTM4KTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzc1MDkxZGVjYWQwMTQxZjM4NTZmZjk1NGFkNGY0ZTM3LmJpbmRQb3B1cChwb3B1cF9lZjYxNWRmZWY5OTQ0ODkxYmI4OGRhOWU5NGZjOWJkNyk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl8zZmZjNGQ3MGZiZTU0ZDhhYTA3ZjkwYjUzMGY5NzgwZiA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjY3OTc4NzQ4ODE2MTU3LC03OS42MTYxOTkzMjUzMzY2NF0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiYmx1ZSIsCiAgImZpbGxPcGFjaXR5IjogMC42LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9lMDhkMDZmNmM3MTE0YjE1ODdmY2YyZGIyMjZhODE1ZSk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF8wZWM1N2JkZjE2MTM0MWM2YWExYzUzYzRiMWRhMTJkNCA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9hNWE4YmM5YzgwMDk0OTdlYWVlOTg2MGJjYTlhODUwMSA9ICQoJzxkaXYgaWQ9Imh0bWxfYTVhOGJjOWM4MDA5NDk3ZWFlZTk4NjBiY2E5YTg1MDEiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkdhc3Ryb3B1YjwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfMGVjNTdiZGYxNjEzNDFjNmFhMWM1M2M0YjFkYTEyZDQuc2V0Q29udGVudChodG1sX2E1YThiYzljODAwOTQ5N2VhZWU5ODYwYmNhOWE4NTAxKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzNmZmM0ZDcwZmJlNTRkOGFhMDdmOTBiNTMwZjk3ODBmLmJpbmRQb3B1cChwb3B1cF8wZWM1N2JkZjE2MTM0MWM2YWExYzUzYzRiMWRhMTJkNCk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl9hNzc4OTRjMTA3MjI0ZjUyYWNmZTE5NzliZjljYTcxMyA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjYxNDA2NTAzOTAzOTQ5LC03OS41Nzg2NTE5Nzg4MjQwOF0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiYmx1ZSIsCiAgImZpbGxPcGFjaXR5IjogMC42LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9lMDhkMDZmNmM3MTE0YjE1ODdmY2YyZGIyMjZhODE1ZSk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF83YjIxOWM4N2M2ZDQ0OTFkOTAwNWU4M2ZhZWY0N2Y1MiA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF80OGIxNTY5Nzc2YmU0NDA4YTE0YjRiYzA5MjJiNDI0NSA9ICQoJzxkaXYgaWQ9Imh0bWxfNDhiMTU2OTc3NmJlNDQwOGExNGI0YmMwOTIyYjQyNDUiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkJhcjwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfN2IyMTljODdjNmQ0NDkxZDkwMDVlODNmYWVmNDdmNTIuc2V0Q29udGVudChodG1sXzQ4YjE1Njk3NzZiZTQ0MDhhMTRiNGJjMDkyMmI0MjQ1KTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyX2E3Nzg5NGMxMDcyMjRmNTJhY2ZlMTk3OWJmOWNhNzEzLmJpbmRQb3B1cChwb3B1cF83YjIxOWM4N2M2ZDQ0OTFkOTAwNWU4M2ZhZWY0N2Y1Mik7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl8yZmY4ODk2MGQzNGM0NjJkOWVhM2NlMjc4Yjk5ZDJkNiA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjYxMzUwMjA5ODczNDA1LC03OS41Nzg2MDUyNTIwMTY0Nl0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiYmx1ZSIsCiAgImZpbGxPcGFjaXR5IjogMC42LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9lMDhkMDZmNmM3MTE0YjE1ODdmY2YyZGIyMjZhODE1ZSk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF8zZDYzMmI0MGNjOGU0NDFiYWUyOTZlYTYyMTA2ZGFjZSA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF82YTYyMDExYTkyN2E0ZDc3YTExMThiZWRjMjViN2FkMCA9ICQoJzxkaXYgaWQ9Imh0bWxfNmE2MjAxMWE5MjdhNGQ3N2ExMTE4YmVkYzI1YjdhZDAiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPlZpZXRuYW1lc2UgUmVzdGF1cmFudDwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfM2Q2MzJiNDBjYzhlNDQxYmFlMjk2ZWE2MjEwNmRhY2Uuc2V0Q29udGVudChodG1sXzZhNjIwMTFhOTI3YTRkNzdhMTExOGJlZGMyNWI3YWQwKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzJmZjg4OTYwZDM0YzQ2MmQ5ZWEzY2UyNzhiOTlkMmQ2LmJpbmRQb3B1cChwb3B1cF8zZDYzMmI0MGNjOGU0NDFiYWUyOTZlYTYyMTA2ZGFjZSk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl8yNjA4MWZjN2UzMTY0ZDVhYTdlNzU2MzkxZTJjZDU3MCA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjY0NDU5NTY5Mjg0NTE1LC03OS41MzI4MDk3MDE0NDY2N10sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiYmx1ZSIsCiAgImZpbGxPcGFjaXR5IjogMC42LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9lMDhkMDZmNmM3MTE0YjE1ODdmY2YyZGIyMjZhODE1ZSk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF8xODI4NmQ0OWU2MWI0YzNiYWQxYTQ5MzlhYTRkMTRlMCA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9jNzM1ZGMxNjMyZjI0YTkxYTA0OWIyYjcyYWY5M2NjNiA9ICQoJzxkaXYgaWQ9Imh0bWxfYzczNWRjMTYzMmYyNGE5MWEwNDliMmI3MmFmOTNjYzYiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPlR1cmtpc2ggUmVzdGF1cmFudDwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfMTgyODZkNDllNjFiNGMzYmFkMWE0OTM5YWE0ZDE0ZTAuc2V0Q29udGVudChodG1sX2M3MzVkYzE2MzJmMjRhOTFhMDQ5YjJiNzJhZjkzY2M2KTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzI2MDgxZmM3ZTMxNjRkNWFhN2U3NTYzOTFlMmNkNTcwLmJpbmRQb3B1cChwb3B1cF8xODI4NmQ0OWU2MWI0YzNiYWQxYTQ5MzlhYTRkMTRlMCk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl8zMGQwNDFhYTVmOTI0YmQyODU3YzUwNjAxZmQ3Yjg5NiA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjYxODE1NiwtNzkuNTM0NTVdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogImJsdWUiLAogICJmaWxsT3BhY2l0eSI6IDAuNiwKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfZTA4ZDA2ZjZjNzExNGIxNTg3ZmNmMmRiMjI2YTgxNWUpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfNThjNTMxYjRjZWE3NDBhMzkzNDI2ZDEzOWY4NGUwZjUgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfMDAwZTRkNDI5MmRjNDkxOWExZmZjOTZiNmM2NTY0YjEgPSAkKCc8ZGl2IGlkPSJodG1sXzAwMGU0ZDQyOTJkYzQ5MTlhMWZmYzk2YjZjNjU2NGIxIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5GYXN0IEZvb2QgUmVzdGF1cmFudDwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfNThjNTMxYjRjZWE3NDBhMzkzNDI2ZDEzOWY4NGUwZjUuc2V0Q29udGVudChodG1sXzAwMGU0ZDQyOTJkYzQ5MTlhMWZmYzk2YjZjNjU2NGIxKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzMwZDA0MWFhNWY5MjRiZDI4NTdjNTA2MDFmZDdiODk2LmJpbmRQb3B1cChwb3B1cF81OGM1MzFiNGNlYTc0MGEzOTM0MjZkMTM5Zjg0ZTBmNSk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl9jNmJlOTM3OWE0NGE0YjI5ODI2MzQ0YzhmMDAwYzBmZSA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjYwNDA1MywtNzkuNTkwMjc5XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICJibHVlIiwKICAiZmlsbE9wYWNpdHkiOiAwLjYsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwX2UwOGQwNmY2YzcxMTRiMTU4N2ZjZjJkYjIyNmE4MTVlKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzAzMTMyNzI5MTQ2MTQ3NDJiMmE0OWU4MmE0ZDY5ZTczID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sX2FkZjMzNDAwOWEyYjRmODNhNGEyMmFmMTE2NTQ0OWE1ID0gJCgnPGRpdiBpZD0iaHRtbF9hZGYzMzQwMDlhMmI0ZjgzYTRhMjJhZjExNjU0NDlhNSIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+WGluamlhbmcgUmVzdGF1cmFudDwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfMDMxMzI3MjkxNDYxNDc0MmIyYTQ5ZTgyYTRkNjllNzMuc2V0Q29udGVudChodG1sX2FkZjMzNDAwOWEyYjRmODNhNGEyMmFmMTE2NTQ0OWE1KTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyX2M2YmU5Mzc5YTQ0YTRiMjk4MjYzNDRjOGYwMDBjMGZlLmJpbmRQb3B1cChwb3B1cF8wMzEzMjcyOTE0NjE0NzQyYjJhNDllODJhNGQ2OWU3Myk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl85Zjk2ZTNkN2JiZGU0NzIzYjFmOWM5NDg4ODljYjFiZSA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjYzMjYyODc4NzA0NzgsLTc5LjYxNTEzMDc0NjU5NTNdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogImJsdWUiLAogICJmaWxsT3BhY2l0eSI6IDAuNiwKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfZTA4ZDA2ZjZjNzExNGIxNTg3ZmNmMmRiMjI2YTgxNWUpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfOTk2MGUzMmEzY2M3NDgyYWJlYTA1NWE0ZGEwZWJhNDAgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfYjA2NGIyZDNhZDZhNDkyNWFjNTFjYjI2NGMzM2VmYzggPSAkKCc8ZGl2IGlkPSJodG1sX2IwNjRiMmQzYWQ2YTQ5MjVhYzUxY2IyNjRjMzNlZmM4IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5SZXN0YXVyYW50PC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF85OTYwZTMyYTNjYzc0ODJhYmVhMDU1YTRkYTBlYmE0MC5zZXRDb250ZW50KGh0bWxfYjA2NGIyZDNhZDZhNDkyNWFjNTFjYjI2NGMzM2VmYzgpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfOWY5NmUzZDdiYmRlNDcyM2IxZjljOTQ4ODg5Y2IxYmUuYmluZFBvcHVwKHBvcHVwXzk5NjBlMzJhM2NjNzQ4MmFiZWEwNTVhNGRhMGViYTQwKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzFjODQ2MDgyOGFhNjRjMjg5NzEyNDQ3YmRiN2Q3NTk5ID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNjIzODI1OTk0ODk4NDcsLTc5LjU2OTE2NDc5NTgyOTY2XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICJibHVlIiwKICAiZmlsbE9wYWNpdHkiOiAwLjYsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwX2UwOGQwNmY2YzcxMTRiMTU4N2ZjZjJkYjIyNmE4MTVlKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzVjNTlmNzIwYzFmNzRhZDhhMGVkOGYwYTQxZDA0OWRjID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sX2FlMDY3Y2Q4YmJhNjQyYWRiMjU5NDA1ODFkYTMyMjVhID0gJCgnPGRpdiBpZD0iaHRtbF9hZTA2N2NkOGJiYTY0MmFkYjI1OTQwNTgxZGEzMjI1YSIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+RGVsaSAvIEJvZGVnYTwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfNWM1OWY3MjBjMWY3NGFkOGEwZWQ4ZjBhNDFkMDQ5ZGMuc2V0Q29udGVudChodG1sX2FlMDY3Y2Q4YmJhNjQyYWRiMjU5NDA1ODFkYTMyMjVhKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzFjODQ2MDgyOGFhNjRjMjg5NzEyNDQ3YmRiN2Q3NTk5LmJpbmRQb3B1cChwb3B1cF81YzU5ZjcyMGMxZjc0YWQ4YTBlZDhmMGE0MWQwNDlkYyk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl84NGFkMTYxYjdjYWM0ZGRiOWU2ZTgwNDBkY2Q1NzRmZSA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjYxMDc0MDc4MzUzNiwtNzkuNTg0NDEyODI1MTE5NDldLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogImJsdWUiLAogICJmaWxsT3BhY2l0eSI6IDAuNiwKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfZTA4ZDA2ZjZjNzExNGIxNTg3ZmNmMmRiMjI2YTgxNWUpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfZmExNDM0NjhiNjVkNGU0ZGE0YmUxMWU5NGYzNDVkZTEgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfN2M0NjcwODc3ZDE1NGVkYzgyOGZhMzZhNTU5YTk3MDMgPSAkKCc8ZGl2IGlkPSJodG1sXzdjNDY3MDg3N2QxNTRlZGM4MjhmYTM2YTU1OWE5NzAzIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5EaW0gU3VtIFJlc3RhdXJhbnQ8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2ZhMTQzNDY4YjY1ZDRlNGRhNGJlMTFlOTRmMzQ1ZGUxLnNldENvbnRlbnQoaHRtbF83YzQ2NzA4NzdkMTU0ZWRjODI4ZmEzNmE1NTlhOTcwMyk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl84NGFkMTYxYjdjYWM0ZGRiOWU2ZTgwNDBkY2Q1NzRmZS5iaW5kUG9wdXAocG9wdXBfZmExNDM0NjhiNjVkNGU0ZGE0YmUxMWU5NGYzNDVkZTEpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfMTVmODQ5YWJiZjI2NDk3NDk5MzgxMzY1MjMxZDQ4ZDYgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My42NDE1NTgsLTc5LjYyMjY5Nl0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiYmx1ZSIsCiAgImZpbGxPcGFjaXR5IjogMC42LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9lMDhkMDZmNmM3MTE0YjE1ODdmY2YyZGIyMjZhODE1ZSk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzEzYjg1YzI4YjgwMjQyNTBhOWI2YjQ1OTViZjUxNzkxID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNjg3NDE2MzYxMDYwNTcsLTc5LjYwMDEwMjE3NzIyNjFdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogImJsdWUiLAogICJmaWxsT3BhY2l0eSI6IDAuNiwKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfZTA4ZDA2ZjZjNzExNGIxNTg3ZmNmMmRiMjI2YTgxNWUpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfYWQxNDk1NzllMjZlNGRiOWJhZGQyM2Y5MDVkYzAxNmUgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfZTVlZTE0ZWE1MTc2NDU4NmJkYWZmOGRiMGU4MmFkMjEgPSAkKCc8ZGl2IGlkPSJodG1sX2U1ZWUxNGVhNTE3NjQ1ODZiZGFmZjhkYjBlODJhZDIxIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5CYXI8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2FkMTQ5NTc5ZTI2ZTRkYjliYWRkMjNmOTA1ZGMwMTZlLnNldENvbnRlbnQoaHRtbF9lNWVlMTRlYTUxNzY0NTg2YmRhZmY4ZGIwZTgyYWQyMSk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl8xM2I4NWMyOGI4MDI0MjUwYTliNmI0NTk1YmY1MTc5MS5iaW5kUG9wdXAocG9wdXBfYWQxNDk1NzllMjZlNGRiOWJhZGQyM2Y5MDVkYzAxNmUpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfYjYxOWE1N2M2OTBlNDg2YzkyNjNmM2I4MmMwYWIyZWUgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My42MDUwOTk2Mjk1MDIxNywtNzkuNTI4NjYwNDg5NzI3ODZdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogImJsdWUiLAogICJmaWxsT3BhY2l0eSI6IDAuNiwKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfZTA4ZDA2ZjZjNzExNGIxNTg3ZmNmMmRiMjI2YTgxNWUpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfMjFiY2RiNTFmMDU5NDM5OWIxNmZmZmIwN2E5ZmU5M2EgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfYzc3NDYxYmE3OTkzNGYxNzk5NGEwNTcyN2I3YzQ1NTggPSAkKCc8ZGl2IGlkPSJodG1sX2M3NzQ2MWJhNzk5MzRmMTc5OTRhMDU3MjdiN2M0NTU4IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5CcmVha2Zhc3QgU3BvdDwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfMjFiY2RiNTFmMDU5NDM5OWIxNmZmZmIwN2E5ZmU5M2Euc2V0Q29udGVudChodG1sX2M3NzQ2MWJhNzk5MzRmMTc5OTRhMDU3MjdiN2M0NTU4KTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyX2I2MTlhNTdjNjkwZTQ4NmM5MjYzZjNiODJjMGFiMmVlLmJpbmRQb3B1cChwb3B1cF8yMWJjZGI1MWYwNTk0Mzk5YjE2ZmZmYjA3YTlmZTkzYSk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl9iODI2OWZhZjdhNGE0Njk2YmRjNzEyNWJhMjgwZWFjNyA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjYwMzk1LC03OS41Mzc3XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICJibHVlIiwKICAiZmlsbE9wYWNpdHkiOiAwLjYsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwX2UwOGQwNmY2YzcxMTRiMTU4N2ZjZjJkYjIyNmE4MTVlKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwX2MxY2IwYWI2MTY0NTRmNzBhYmNlNTVmMTNlOTIyMjI0ID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzRmMjgwOGQzNzhlNTQ1OTE5MDBkNTY2YmFjMjkyNjMwID0gJCgnPGRpdiBpZD0iaHRtbF80ZjI4MDhkMzc4ZTU0NTkxOTAwZDU2NmJhYzI5MjYzMCIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+S29yZWFuIFJlc3RhdXJhbnQ8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2MxY2IwYWI2MTY0NTRmNzBhYmNlNTVmMTNlOTIyMjI0LnNldENvbnRlbnQoaHRtbF80ZjI4MDhkMzc4ZTU0NTkxOTAwZDU2NmJhYzI5MjYzMCk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl9iODI2OWZhZjdhNGE0Njk2YmRjNzEyNWJhMjgwZWFjNy5iaW5kUG9wdXAocG9wdXBfYzFjYjBhYjYxNjQ1NGY3MGFiY2U1NWYxM2U5MjIyMjQpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfNjg5YTRhMDIzYzNmNDJhOThlZDEwMTJiY2FjZDA3M2UgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My42MDE5MjQzMzMzMzMzMywtNzkuNTg4NzM2MzMzMzMzMzNdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogImJsdWUiLAogICJmaWxsT3BhY2l0eSI6IDAuNiwKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfZTA4ZDA2ZjZjNzExNGIxNTg3ZmNmMmRiMjI2YTgxNWUpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl81ZTY5MWM5NDdhZTU0YjI0YTIyY2VkZmZlZmI1YzY4OSA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjY0ODQwMDA0NzM3OTgyLC03OS41Mjg3NzY4ODA5MTAwMl0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiYmx1ZSIsCiAgImZpbGxPcGFjaXR5IjogMC42LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9lMDhkMDZmNmM3MTE0YjE1ODdmY2YyZGIyMjZhODE1ZSk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF85NDY2MzI5MmRiOWY0MzY5ODZkN2E5NDA2MmI0NWUyNCA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9jNjNmOGM2ZDRmYTc0MmY1YWNiOTI4YzgwZjQwNWI1MyA9ICQoJzxkaXYgaWQ9Imh0bWxfYzYzZjhjNmQ0ZmE3NDJmNWFjYjkyOGM4MGY0MDViNTMiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPlNhbmR3aWNoIFBsYWNlPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF85NDY2MzI5MmRiOWY0MzY5ODZkN2E5NDA2MmI0NWUyNC5zZXRDb250ZW50KGh0bWxfYzYzZjhjNmQ0ZmE3NDJmNWFjYjkyOGM4MGY0MDViNTMpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfNWU2OTFjOTQ3YWU1NGIyNGEyMmNlZGZmZWZiNWM2ODkuYmluZFBvcHVwKHBvcHVwXzk0NjYzMjkyZGI5ZjQzNjk4NmQ3YTk0MDYyYjQ1ZTI0KTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzlhMzY2YmNkZDY1NTQ4NWI4N2NkZWU5NGI3NzBlZGI5ID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNjE1NjksLTc5LjYxNzgxXSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICJibHVlIiwKICAiZmlsbE9wYWNpdHkiOiAwLjYsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwX2UwOGQwNmY2YzcxMTRiMTU4N2ZjZjJkYjIyNmE4MTVlKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwX2JmYzViNGM4ZDAzMzQzYWZiZmIyYzUxZmZlN2FiNDFjID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzU0YWZlYzMxYmJkZjQyYjQ4NmYzZTU3ZGYzOTU0N2FiID0gJCgnPGRpdiBpZD0iaHRtbF81NGFmZWMzMWJiZGY0MmI0ODZmM2U1N2RmMzk1NDdhYiIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+Q2hpbmVzZSBSZXN0YXVyYW50PC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF9iZmM1YjRjOGQwMzM0M2FmYmZiMmM1MWZmZTdhYjQxYy5zZXRDb250ZW50KGh0bWxfNTRhZmVjMzFiYmRmNDJiNDg2ZjNlNTdkZjM5NTQ3YWIpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfOWEzNjZiY2RkNjU1NDg1Yjg3Y2RlZTk0Yjc3MGVkYjkuYmluZFBvcHVwKHBvcHVwX2JmYzViNGM4ZDAzMzQzYWZiZmIyYzUxZmZlN2FiNDFjKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzBhMGIzZGI0ZmM0NTQzMTRhMmE2YWNmOWYxNTEwMmQ0ID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNjA1MzYxOTM4NDc2NTYsLTc5LjUyOTQ1NzA5MjI4NTE2XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICJibHVlIiwKICAiZmlsbE9wYWNpdHkiOiAwLjYsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwX2UwOGQwNmY2YzcxMTRiMTU4N2ZjZjJkYjIyNmE4MTVlKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzc4MGY2NzBkNGEyZDQzZmNhMTQ5MzY0MzRkZjIzMzM3ID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzQ4NTQwNWIwZGM5MTRkYTc4MGZhOWYxYTI3NjRjYWEwID0gJCgnPGRpdiBpZD0iaHRtbF80ODU0MDViMGRjOTE0ZGE3ODBmYTlmMWEyNzY0Y2FhMCIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+TWlzY2VsbGFuZW91cyBTaG9wPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF83ODBmNjcwZDRhMmQ0M2ZjYTE0OTM2NDM0ZGYyMzMzNy5zZXRDb250ZW50KGh0bWxfNDg1NDA1YjBkYzkxNGRhNzgwZmE5ZjFhMjc2NGNhYTApOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfMGEwYjNkYjRmYzQ1NDMxNGEyYTZhY2Y5ZjE1MTAyZDQuYmluZFBvcHVwKHBvcHVwXzc4MGY2NzBkNGEyZDQzZmNhMTQ5MzY0MzRkZjIzMzM3KTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyX2E0ODBhMzFhMmQ3NzRhMjQ4YTVhZTUyYWFjYzM1NGQ4ID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNjg3MjA3LC03OS41ODgzMzJdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogImJsdWUiLAogICJmaWxsT3BhY2l0eSI6IDAuNiwKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfZTA4ZDA2ZjZjNzExNGIxNTg3ZmNmMmRiMjI2YTgxNWUpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfMjY0MTAzOWY0NjJiNDJiMjhhODhjYWNjZTkzNGZkNWEgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfYzNhOWZlYzVhY2MwNGI1NTgyOTdkMzAxNzYzYmFiNjEgPSAkKCc8ZGl2IGlkPSJodG1sX2MzYTlmZWM1YWNjMDRiNTU4Mjk3ZDMwMTc2M2JhYjYxIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5SZXN0YXVyYW50PC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF8yNjQxMDM5ZjQ2MmI0MmIyOGE4OGNhY2NlOTM0ZmQ1YS5zZXRDb250ZW50KGh0bWxfYzNhOWZlYzVhY2MwNGI1NTgyOTdkMzAxNzYzYmFiNjEpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfYTQ4MGEzMWEyZDc3NGEyNDhhNWFlNTJhYWNjMzU0ZDguYmluZFBvcHVwKHBvcHVwXzI2NDEwMzlmNDYyYjQyYjI4YTg4Y2FjY2U5MzRmZDVhKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyX2ZmM2VkZDFmOGQ1ZjRhMTQ4YjUyNjlkNzI1MGExMmFmID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNjQ4MzkyOTE1NjAxODIsLTc5LjUyOTIxNDczNTQ0MjExXSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICJibHVlIiwKICAiZmlsbE9wYWNpdHkiOiAwLjYsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwX2UwOGQwNmY2YzcxMTRiMTU4N2ZjZjJkYjIyNmE4MTVlKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwX2JjYjJiNjJiMzM2ZjQzMDFiYTEzMzcyYWJiYWQ0NWY2ID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzQxN2JkYWI5ZTc3ZjQwMDU4NTMxMTg2OWJjYzg0ZDNlID0gJCgnPGRpdiBpZD0iaHRtbF80MTdiZGFiOWU3N2Y0MDA1ODUzMTE4NjliY2M4NGQzZSIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+U3VzaGkgUmVzdGF1cmFudDwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfYmNiMmI2MmIzMzZmNDMwMWJhMTMzNzJhYmJhZDQ1ZjYuc2V0Q29udGVudChodG1sXzQxN2JkYWI5ZTc3ZjQwMDU4NTMxMTg2OWJjYzg0ZDNlKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyX2ZmM2VkZDFmOGQ1ZjRhMTQ4YjUyNjlkNzI1MGExMmFmLmJpbmRQb3B1cChwb3B1cF9iY2IyYjYyYjMzNmY0MzAxYmExMzM3MmFiYmFkNDVmNik7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl8yYWE1NzRkNzgyNDE0N2I4YmJjOTAxOTU2YTNjOTAzZCA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjYyNzQwMDc4MTYwOTk2LC03OS42MjY0OTM3NTc4NDExN10sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiYmx1ZSIsCiAgImZpbGxPcGFjaXR5IjogMC42LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9lMDhkMDZmNmM3MTE0YjE1ODdmY2YyZGIyMjZhODE1ZSk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzlhMjY1NDkzNmI2ZjRlMmU4NjIxN2IwZWU1YWQxYzc4ID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNjg2NTcyNzc2NzkzMTM1LC03OS42MDM4MDIzMzM5Mzc1NF0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiYmx1ZSIsCiAgImZpbGxPcGFjaXR5IjogMC42LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9lMDhkMDZmNmM3MTE0YjE1ODdmY2YyZGIyMjZhODE1ZSk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF8yYjUwMmNiMjA4MDI0ZjE3ODk0MGE4ZTViZTc3MzVhNCA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF81MGZhYTYwZGM2NDg0ZjlmODRiMjdhMjY5OTI2NGE0NiA9ICQoJzxkaXYgaWQ9Imh0bWxfNTBmYWE2MGRjNjQ4NGY5Zjg0YjI3YTI2OTkyNjRhNDYiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkFtZXJpY2FuIFJlc3RhdXJhbnQ8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzJiNTAyY2IyMDgwMjRmMTc4OTQwYThlNWJlNzczNWE0LnNldENvbnRlbnQoaHRtbF81MGZhYTYwZGM2NDg0ZjlmODRiMjdhMjY5OTI2NGE0Nik7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl85YTI2NTQ5MzZiNmY0ZTJlODYyMTdiMGVlNWFkMWM3OC5iaW5kUG9wdXAocG9wdXBfMmI1MDJjYjIwODAyNGYxNzg5NDBhOGU1YmU3NzM1YTQpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfZWQ1ODMzMjQyMDcwNGY2ODg0NzY3Zjk2ZTA1OWE3ODggPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My42MDcyNDk2ODU0MDM3LC03OS41ODU3MDczNzQwODU2Nl0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiYmx1ZSIsCiAgImZpbGxPcGFjaXR5IjogMC42LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9lMDhkMDZmNmM3MTE0YjE1ODdmY2YyZGIyMjZhODE1ZSk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF9jMjQ0YzZkMjI1NzM0ZmY5YmE1OGZlM2RiMGE5MmFiZCA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF8xMjBmODdlZmE2ZmM0N2Q4Yjc4ZmNiYzExNTJmYTY5MSA9ICQoJzxkaXYgaWQ9Imh0bWxfMTIwZjg3ZWZhNmZjNDdkOGI3OGZjYmMxMTUyZmE2OTEiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPktvcmVhbiBSZXN0YXVyYW50PC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF9jMjQ0YzZkMjI1NzM0ZmY5YmE1OGZlM2RiMGE5MmFiZC5zZXRDb250ZW50KGh0bWxfMTIwZjg3ZWZhNmZjNDdkOGI3OGZjYmMxMTUyZmE2OTEpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfZWQ1ODMzMjQyMDcwNGY2ODg0NzY3Zjk2ZTA1OWE3ODguYmluZFBvcHVwKHBvcHVwX2MyNDRjNmQyMjU3MzRmZjliYTU4ZmUzZGIwYTkyYWJkKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzQ5NjMyMTRjNDRlODRmNGM4YmYyZjFhOTU2MGFjOTc0ID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNTk3MDc0NTI3OTU2OTksLTc5LjUyMzE1OTY5NTA1NzE2XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICJibHVlIiwKICAiZmlsbE9wYWNpdHkiOiAwLjYsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwX2UwOGQwNmY2YzcxMTRiMTU4N2ZjZjJkYjIyNmE4MTVlKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzkxYjM2MTQ2NDQ4OTQ3NjVhNjczODUzMmJiNDRkMjI0ID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzgyNTkyNjRkZGNmNzRjNGJhZjdiNmZmMDdhZWNiMWFmID0gJCgnPGRpdiBpZD0iaHRtbF84MjU5MjY0ZGRjZjc0YzRiYWY3YjZmZjA3YWVjYjFhZiIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+Q2hpbmVzZSBSZXN0YXVyYW50PC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF85MWIzNjE0NjQ0ODk0NzY1YTY3Mzg1MzJiYjQ0ZDIyNC5zZXRDb250ZW50KGh0bWxfODI1OTI2NGRkY2Y3NGM0YmFmN2I2ZmYwN2FlY2IxYWYpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfNDk2MzIxNGM0NGU4NGY0YzhiZjJmMWE5NTYwYWM5NzQuYmluZFBvcHVwKHBvcHVwXzkxYjM2MTQ2NDQ4OTQ3NjVhNjczODUzMmJiNDRkMjI0KTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyX2FlYTJkN2JjN2QzYjQwYzI4ODA4YjlkMGQyYjEwNzk4ID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNjM2NTA5ODMzMzMzMzQsLTc5LjYyMzUxMl0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiYmx1ZSIsCiAgImZpbGxPcGFjaXR5IjogMC42LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9lMDhkMDZmNmM3MTE0YjE1ODdmY2YyZGIyMjZhODE1ZSk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF83ZDllNGVhZTJhMWM0MzdiODRhNmRiNTk1ZGE0OGNkYSA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9hMmFhNTZiMmZlMGM0YTM2YmIwMDc1MGFkNGI1MzliYSA9ICQoJzxkaXYgaWQ9Imh0bWxfYTJhYTU2YjJmZTBjNGEzNmJiMDA3NTBhZDRiNTM5YmEiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkNhcmliYmVhbiBSZXN0YXVyYW50PC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF83ZDllNGVhZTJhMWM0MzdiODRhNmRiNTk1ZGE0OGNkYS5zZXRDb250ZW50KGh0bWxfYTJhYTU2YjJmZTBjNGEzNmJiMDA3NTBhZDRiNTM5YmEpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfYWVhMmQ3YmM3ZDNiNDBjMjg4MDhiOWQwZDJiMTA3OTguYmluZFBvcHVwKHBvcHVwXzdkOWU0ZWFlMmExYzQzN2I4NGE2ZGI1OTVkYTQ4Y2RhKTsKCiAgICAgICAgICAgIAogICAgICAgIAo8L3NjcmlwdD4= onload="this.contentDocument.open();this.contentDocument.write(atob(this.getAttribute('data-html')));this.contentDocument.close();" allowfullscreen webkitallowfullscreen mozallowfullscreen></iframe></div></div>



## 4. Results:

##### _From the bar graphs it is evident that Chinese cuisine is the most popular in both boroughs. Scarborough has 18 Chinese restaurants while Etobicoke has 5 Chinese restaurants._

##### _Other popular cuisines in Scarborough are Caribbean (4 restaurants), Cantonese and Korean (with 3 restaurants each). While German, Indian, South Indian, Italian and Japanese cuisine are equally popular (1 restaurant each)._

##### _Apart from the Chinese cuisine, American (4 restaurants), Japanese,Turkish, Vietnamese, Xinjiang (with 2 restaurants each) are also popular in Etobicoke. Caribbean, Eastern European, Greek, Iraqi, Italian, Korean, Mediterranean, Scandinavian and Thai restaurants are equally popular (1 restaurant each)._

## 5. Discussion:

##### _Given the high migration rates of Asians to Canada, it is expected that a category of the Asian cuisine would be the most popular in Toronto. Surprisingly, despite the South Asians forming a greater percentage of the population than the Chinese, (as per https://en.wikipedia.org/wiki/Demographics_of_Toronto), there are more Chinese restaurants than restaurants of all other South Asian cuisines combined._

##### _Another interesting fact is that, for the same radius and number of restaurants in both boroughs, Etobicoke has a greater diversity of cuisines than Scarborough._

##### _From the Folium map of Scarborough, we see that, there are more restaurants towards the North, than there are towards the South. Most restaurants are located within a two block radius of the center of Scarborough. Etobicoke shows the exact opposite trend, wherein restaurants are located further away from the center of the borough. There are more restaurants in the South than there are in the North of Etobicoke._

##### _A few other unique observations about the two boroughs:_
##### _1. There is exactly 1 dumpling/ Dim Sum restaurant within the 5 km radius of each borough._
##### _2. There are more Breakfast spots and Bars in Etobicoke, than in Scarborough._
##### _3. American cuisine is more popular in Etobicoke. While Caribbean cuisine is more popular in Scarborough._
##### _4. There are no Pizza or Sandwich Places within a 5 km radius of Scarborough. Etobicoke has 2 Sandwhich places and 1 Pizza Place within the same radius._


## 6. Conclusion:

##### _Despite the fewer number of neighborhoods, the borough with the greatest gastronomic diversity is Etobicoke. For those who enjoy experiencing different cuisines, Etobicoke, Toronto, Ontario is the place to be._
